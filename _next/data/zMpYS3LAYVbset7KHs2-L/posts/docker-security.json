{"pageProps":{"post":{"content":"\n## Reference\n\n- [ğŸ”— Docker Deep Dive](https://www.oreilly.com/library/view/docker-deep-dive/9781800565135/), Nigel Poulton\n\n## Intro\n\ní•´ë‹¹ ê¸€ì€ Linuxì—ì„œ dockerë¥¼ ë™ì‘ì‹œí‚¨ë‹¤ëŠ” ê°€ì •í•˜ì— ì‘ì„±í•˜ì˜€ë‹¤. (Windowë„ ëŒ€ë¶€ë¶„ ë™ì¼í•˜ë‹¤ê³  í•œë‹¤.)\n\ndockerëŠ” ì—¬ëŸ¬ ê°œì˜ ë³´ì•ˆ ì •ì±…ì„ í¬í•¨í•œë‹¤.\n\nì´ë¥¼ í¬ê²Œ ëˆ„ê°€ ê´€ë¦¬í•˜ëŠëƒì— ë”°ë¼ì„œ ë‘ ê°œì˜ ë¶€ë¥˜ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.\n\n1. OS system (Linux)\n2. Docker\n\nì´ì „ ê°€ìƒí™”ì™€ ë°˜ê°€ìƒí™”ë¥¼ ë¹„êµí•œ ê¸€ì—ì„œ ë³´ì•˜ë“¯ì´ Container ê¸°ìˆ ì„ ê²°ê³¼ì ìœ¼ë¡œ ë°˜ê°€ìƒí™”ì— í•´ë‹¹í•˜ë©°, ì´ë¥¼ ìœ„í•´ì„œ OSì˜ ì§€ì›ì´ í•„ìš”í•˜ë‹¤. ë”°ë¼ì„œ, ì´ë¥¼ Linux ìì²´ì—ì„œ êµ¬í˜„í•´ì£¼ëŠ” ê²ƒì´ ì¡´ì¬í•˜ê³ , Dockerì—ì„œ Application ë‹¨ì—ì„œ êµ¬í˜„í•œ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ë‰˜ì–´ì§€ëŠ” ê²ƒì´ë‹¤.\n\në¨¼ì €, Linuxì—ì„œ ì§€ì›í•˜ëŠ” ê°ì¢… securityì— ëŒ€í•´ì„œ ì•Œì•„ë´…ì‹œë‹¤.\n\n## Linux's Security for Docker\n\nì „ì²´ì ì¸ ë””í…Œì¼ ì‚¬í•­ì€ ì •ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤. í•´ë‹¹ ë‚´ìš©ì€ ê°„ë‹¨íˆ ì‚´í´ë³´ëŠ” ì •ë„ì´ë‹¤.\n\n### Namespaces\n\nnamespaceëŠ” container ê¸°ìˆ ì—ì„œ ë§¤ìš° í•µì‹¬ì ì¸ ìœ„ì¹˜ì— ì¡´ì¬í•œë‹¤ê³  í•  ìˆ˜ ìˆë‹¤. ì´ë¥¼ í†µí•´ì„œ, OSë¥¼ ì—¬ëŸ¬ ê°œë¡œ ë‚˜ëˆ„ê³ , ë§ˆì¹˜ ì™„ì „íˆ ê³ ë¦½ëœ í˜•íƒœì˜ OSì²˜ëŸ¼ ëŠë¼ë„ë¡ ë§Œë“ ë‹¤. (í‚¤ì›Œë“œëŠ” isolation) ê·¸ë ‡ë‹¤ë©´ í•˜ë‚˜ì˜ host ë‚´ì—ì„œ ì–´ë–»ê²Œ ì—¬ëŸ¬ ê°œì˜ containerê°€ ì™„ë²½í•˜ê²Œ ë…ë¦½ë˜ì–´ ìˆë‹¤ê³  ëŠë‚„ ìˆ˜ ìˆê²Œ í•  ìˆ˜ ìˆì„ê¹Œ? ì´ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì¢…ë¥˜ì˜ namespaceë¥¼ ë¶„ë¦¬í•¨ìœ¼ë¡œì„œ ê°€ëŠ¥í•˜ë‹¤.\n\n- **process ID (pid)** : processëŠ” tree í˜•íƒœë¡œ ì´ë£¨ì–´ì§€ê²Œ ëœë‹¤. ë”°ë¼ì„œ, í•˜ë‚˜ì˜ process (ì¦‰, PID 1)ì— ì˜í•´ì„œ ì—¬ëŸ¬ ê°œì˜ processê°€ ë™ì‘ì„ ì‹œì‘í•˜ëŠ” ê²ƒì´ë‹¤. ê·¸ëŸ°ë°, namespaceë¥¼ í†µí•´ì„œ ìš°ë¦¬ëŠ” ì—¬ëŸ¬ ê°œì˜ ì™„ë²½í•˜ê²Œ ë…ë¦½ì ì¸ process treeë¥¼ êµ¬ì¶•í•˜ê²Œ ëœë‹¤.\n- **Network (net)** :Â ê° ê°ì˜ containerë§ˆë‹¤ network stackì„ êµ¬í˜„í•œë‹¤. ì¦‰, network interface ë¶€í„° ì‹œì‘í•´ì„œ, IP Address, port, routing table ë“±ì„ êµ¬ì¶•í•˜ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.\n- **Filesystem / mount (mnt)** :ëª¨ë“  containerê°€ ê°ìì˜ root filesystemì„ ê°€ì§€ê³ , ë‹¤ë¥¸ ëª¨ë“  containerë“¤ì€ ì´ê²ƒì— ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤.\n- **Inter process Communication(ipc)** : processê°„ì˜ í†µì‹ ì„ ìœ„í•´ì„œ ìš°ë¦¬ëŠ” shared memoryë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ëŠ”ë° ì´ ë˜í•œ ê³ ë¦½ì ìœ¼ë¡œ êµ¬í˜„ë˜ë„ë¡ í•œë‹¤.\n- **User** : ê° containerë§ˆë‹¤ ë‹¤ë¥¸ user groupì„ êµ¬ì¶•í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.\n- **Unix Time sharing (uts)** : hostnameì„ containerë§ˆë‹¤ ì œê³µí•˜ëŠ” ê²ƒìœ¼ë¡œ, ì´ë¥¼ í†µí•´ì„œ network ìƒì—ì„œ ipê°€ ì•„ë‹Œ hostnameìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•´ì§„ë‹¤.\n\nì¦‰, í•´ë‹¹ ì ˆì—ì„œëŠ” ì´ í•œ ë§ˆë””ë¥¼ ê¸°ì–µí•˜ë©´ í¸í•´ì§‘ë‹ˆë‹¤. \"í•˜ë‚˜ì˜ Dockerì˜ containerëŠ” namespaceë“¤ì˜ ì§‘í•©ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ìˆë‹¤.\"\n\n### Control Groups(C group)\n\nnamespaceê°€ ê° containerê°„ì˜ isolationì„ ë³´ì¥í•œë‹¤ë©´, cgroupì€ í•œê³„ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì—­í• ì´ë‹¤. containerë“¤ì´ í•˜ë‚˜ì˜ machineì—ì„œ ë™ì‘í•œë‹¤ë©´ ì–´ì©” ìˆ˜ ì—†ì´ ê·¸ë“¤ì´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì´ ìì›ì˜ ì–‘ì€ í•œì •ë  ìˆ˜ ë°–ì— ì—†ë‹¤. ê·¸ë¦¬ê³ , ìì¹« ì˜ëª»í•˜ë©´ í•˜ë‚˜ì˜ containerê°€ ë„ˆë¬´ ë§ì€ ìì›(CPU, Memory, Storage, ...)ì„ ì†Œëª¨í•˜ì—¬ ë‹¤ë¥¸ containerì˜ ë™ì‘ì„ ë°©í•´í•  ìˆ˜ ìˆë‹¤. ì´ë¥¼ ë§‰ê¸° ìœ„í•œ ê²ƒì´ ë°”ë¡œ cgroupì´ë‹¤. ì´ë¥¼ í†µí•´ì„œ ìš°ë¦¬ëŠ” ê° containerì—ê²Œ ìì›ì„ ë‚˜ëˆ„ì–´ í• ë‹¹í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.\n\n### Capabilities\n\nì–´ë–¤ ì‘ì—…ì„ í•˜ë”ë¼ë„, Machineì„ root ê¶Œí•œìœ¼ë¡œ ì‘ì—…ì„ í•˜ëŠ” ê²ƒì€ êµ‰ì¥íˆ ìœ„í—˜í•˜ë‹¤. ë”°ë¼ì„œ, containerì—ì„œ applicationì„ ë™ì‘ì‹œí‚¤ê¸° ìœ„í•œ ìµœì†Œí•œì˜ ê¶Œí•œë§Œì„ ë¶€ì—¬í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì˜¬ë°”ë¥´ë‹¤. ì´ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡, ê¶Œí•œì„ ì§€ì •í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.\n\n### Mandatory Access Control(MAC) system\n\nMACì€ íŒŒì¼ì´ë‚˜ íŠ¹ì • ë°ì´í„°ì— ëŒ€í•œ ì ‘ê·¼ ì œì–´ë¥¼ ìˆ˜í–‰í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë°, ì´ëŠ” AppArmorë‚˜ SELinux ë“±ì— ì˜í•´ì„œ êµ¬í˜„ë˜ì–´ì§€ëŠ”ë°, ê¸°ë³¸ì ìœ¼ë¡œ DockerëŠ” containerì— AppArmorë¥¼ ê° containerì— ì ìš©í•˜ì—¬ ì´ë¥¼ êµ¬í˜„í•œë‹¤. customizingì´ ê°€ëŠ¥í•˜ì§€ë§Œ, ì´ì— ëŒ€í•œ ì´í•´ë¥¼ ì¶©ë¶„íˆ í•˜ê¸°ë¥¼ ê¶Œí•œë‹¤.\n\n### seccomp\n\nseccompì˜ filter modeë¥¼ í™œìš©í•˜ë©´, containerì—ì„œ ë°œìƒí•˜ëŠ” syscallì„ ì œí•œí•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤. ì´ëŠ” MAC ì²˜ëŸ¼ ì§ì ‘ customizingë„ ê°€ëŠ¥í•˜ì§€ë§Œ ì´ì— ëŒ€í•œ ê¹Šì€ ì´í•´ê°€ ë’·ë°›ì¹¨ë˜ì–´ì•¼ í•œë‹¤.\n\n## Docker Engine's Security for Docker\n\n### Secure Swarm Mode\n\nê¸°ë³¸ì ìœ¼ë¡œ Docker Swarmì€ managerì™€ workerë¡œ êµ¬ë¶„ë˜ì–´ ë™ì‘í•œë‹¤. managerëŠ” ê¸°ë³¸ì ìœ¼ë¡œ control planeì„ ì œì–´í•˜ê³ , ì „ì²´ ì ì¸ cluster í™˜ê²½ì„ êµ¬ì„±í•˜ë©°, ì‘ì—…ì„ ì ì ˆí•˜ê²Œ ì „ë‹¬í•œë‹¤. ê·¸ë¦¬ê³ , ì „ì²´ì ì¸ application codeë¥¼ ë™ì‘ì‹œí‚¤ëŠ” ê²ƒì´ workerë“¤ì´ ìˆ˜í–‰í•˜ëŠ” ì—­í• ì´ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ managerì™€ workerë“¤ì€ ëª¨ë‘ ë‹¤ë¥¸ Nodeì´ë‹¤. ë”°ë¼ì„œ, ì´ë“¤ê°„ì˜ í†µì‹ ì„ ìˆ˜í–‰í•  ë•Œì— ì¸ì¦ê³¼ ê°™ì€ ì‘ì—…ì„ í•„ìˆ˜ì ì´ë‹¤. ë”°ë¼ì„œ, Docker Swarmì—ì„œëŠ” ì´ë¥¼ ì§€ì›í•˜ê¸° ìœ„í•´ì„œ managerë¡œ ì„ëª…ëœ nodeë¥¼ CAë¡œ í•˜ì—¬ TLS ì¸ì¦ì„ ìˆ˜í–‰í•œë‹¤. ì´ë¥¼ í†µí•´ì„œ, ì„œë¡œë¥¼ ì¸ì¦í•˜ê³ , ì „ì†¡ ë°ì´í„° ì•”í˜¸í™”ë¥¼ ìˆ˜í–‰í•œë‹¤.  \n  \n\\* control plane vs data plane : í†µì‹ ì„ ì¼ìƒì—ì„œì˜ êµí†µíë¦„ì´ë¼ê³  ë³¸ë‹¤ë©´, control planeì€ ì‹ í˜¸ë“±ê³¼ ê°™ì€ ê·œì¹™ì„ ì˜ë¯¸í•˜ê³ , data planeì€ ì‹¤ì œë¡œ ì´ë™í•˜ëŠ” ì°¨ëŸ‰ë“¤ë¡œ ë¹„ìœ í•  ìˆ˜ ìˆë‹¤. ì¦‰, control planeì€ cluster í™˜ê²½ì—ì„œì˜ ì œì–´ë¥¼ ìœ„í•œ ë°ì´í„°ì´ê³ , data planeì€ ì‹¤ì œë¡œ ì£¼ê³  ë°›ëŠ” ë°ì´í„°ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.\n\n### Image Scanning\n\nDockerëŠ” ì´ë¯¸ì§€ì—ì„œ ë³´ì•ˆìƒì˜ ì·¨ì•½ì  ì—¬ë¶€ë¥¼ scaní•˜ëŠ” ê¸°ëŠ¥ì„ ê¸°ë³¸ì ìœ¼ë¡œ íƒ‘ì¬í•˜ê³  ìˆë‹¤. ì´ë¥¼ í†µí•´ì„œ, ì´ë¯¸ì§€ê°€ ê°€ì§„ ì·¨ì•½ì  ë“±ì„ íŒŒì•…í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.\n\n### Docker Content Trust\n\nDockerëŠ” download ë˜ëŠ” ì‹¤í–‰í•  ì´ë¯¸ì§€ì˜ ì œê³µìë¥¼ ì‹ë³„í•˜ê³  ë¬´ê²°ì„±ì„ ì‰½ê²Œ ì²´í¬í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ì„œ Docker Content Trustë¥¼ ì œê³µí•œë‹¤. registryì— ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•  ë•Œ, ì§ì ‘ ì„œëª…ì´ ê°€ëŠ¥í•˜ê³ , ì´ë¥¼ í†µí•´ì„œ íŠ¹ì • ì‚¬ìš©ìì— ì˜í•´ì„œ ìƒì„±ë˜ì—ˆìŒì„ í™•ì •í•  ìˆ˜ ìˆë‹¤. ì´ë ‡ê²Œ ì„œëª…ì´ ì¡´ì¬í•´ì•¼ë§Œ pullì´ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •í•˜ëŠ” ê²ƒ ì—­ì‹œ ê°€ëŠ¥í•˜ë‹¤.\n\n### Docker Secrets\n\nDockerì—ì„œ ë³´ì•ˆ ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ ë³´ê´€í•˜ê¸° ìœ„í•´ì„œ ê³ ì•ˆëœ ê²ƒìœ¼ë¡œ, íŠ¹ì • íƒ€ê²Ÿì—ì„œ ì•ˆì „í•˜ê²Œ SSH keyì™€ ê°™ì€ ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ ì „ë‹¬í•˜ëŠ” ê²ƒ ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n","slug":"docker-security","date":"2021-07-10 19:52","title":"[Docker] Security","category":"Tech","tags":["Docker","Container","Security"],"thumbnailSrc":"https://euidong.github.io/images/docker-picture.jpg"},"relatedPosts":[{"content":"\n## Reference\n\n- [ğŸ”— Docker Deep Dive](https://www.oreilly.com/library/view/docker-deep-dive/9781800565135/), Nigel Poulton\n- Tumbnail : Photo by [Michael](https://unsplash.com/@michael75?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) on [Unsplash](https://unsplash.com/s/photos/cargo-ships?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)\n\n## Intro\n\nDocker Swarmì„ docker stackì„ ì´ìš©í•˜ì—¬ ì‹¤í–‰ì‹œí‚¤ê²Œ ëœë‹¤ë©´, ë¬´ì—‡ì´ ìƒì„±ë˜ëŠ”ê°€? ìš°ë¦¬ëŠ” ì„œë¹„ìŠ¤ê°€ ìƒì„±ë˜ê¸°ë„ ì „ì— networkê°€ ìƒì„±ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ê°€ ìˆë‹¤. containerì™€ containerê°„ ê·¸ë¦¬ê³ , hostë¥¼ í†µí•´ ì™¸ë¶€ internetí™˜ê²½ì— containerë¥¼ ì—°ê²° ì‹œí‚¤ëŠ” ëª¨ë“  ê³¼ì •ì„ ì•Œì•„ë³´ì.\n\nDockerë¥¼ ì‚¬ìš©í•˜ë‹¤ë³´ë©´, hostì™€ í†µì‹ ì„ ìœ„í•´ ì™¸ë¶€ë¡œ portë¥¼ ì—´ì–´ì£¼ëŠ” ê²ƒê³¼ container ê°„ì˜ í†µì‹ ì„ í—·ê°ˆë ¤ í•˜ëŠ” ì‚¬ëŒë“¤ì´ ìƒê°ë³´ë‹¤ ë§ì€ ê²ƒ ê°™ë‹¤. ì‹¬ì§€ì–´ëŠ” containerê°„ í†µì‹ ì„ ìœ„í•´ì„œ localhostë¡œ ì •ë³´ë¥¼ ì£¼ê³ ë°›ì„ë ¤ê³  í•˜ëŠ” ëª¹ì“¸ ì‹œë„ë¥¼ í•˜ëŠ” ê´€ê²½ë„ ëª‡ëª‡ ë´ì™”ë‹¤.\n\në”°ë¼ì„œ, ìš°ë¦¬ëŠ” í•œ ë²ˆ Dockerì˜ networkì— ëŒ€í•´ì„œ í•œ ë²ˆ ê³µë¶€í•´ë³´ëŠ” ê²ƒì´ ì¢‹ì„ ê²ƒì´ë‹¤.\n\ní•´ë‹¹ ì°¨ì‹œì—ì„œëŠ” ìš°ì„  ì „ì²´ì ì¸ docker networkë¥¼ ì„¤ëª…í•˜ëŠ” ê¸°ë³¸ì ì¸ í‚¤ì›Œë“œë¥¼ ì•Œì•„ë³¼ ê²ƒì´ê³ ,\n\n2 ì°¨ì‹œì—ì„œëŠ” ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ” docker network driverë¥¼ ì•Œì•„ë³¼ ê²ƒì´ê³ ,\n\n3 ì°¨ì‹œì—ì„œëŠ” libnetworkì˜ í•µì‹¬ ê¸°ëŠ¥ ì¤‘ service discovery, load balancingì— ëŒ€í•´ì„œ ì•Œì•„ë³´ê² ë‹¤.\n\n## Docker Networking Base\n\nìš°ë¦¬ê°€ ê¸°ì–µí•´ì•¼ í•  ê²ƒì€ CNM, libnetwork, Driver ì´ë ‡ê²Œ 3ê°€ì§€ë‹¤. ê° ê°ì´ ë¬´ì—‡ì¸ì§€ëŠ” ì°¨ë¡€ì°¨ë¡€ ì•Œì•„ë³´ì.\n\n### Container Network Model (CNM)\n\ncontainerê°„ì˜ networkë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•œ designì„ ì œì‹œí•œ ë‚´ìš©ì…ë‹ˆë‹¤. ë”°ë¼ì„œ, ideaì¼ ë¿ì…ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ í•˜ìœ„ ë§í¬ë¥¼ í†µí•´ì„œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n[ğŸ”— Github - moby/libnetwork](https://github.com/moby/libnetwork/blob/master/docs/design.md)\n\ní•˜ì§€ë§Œ, ì´ë¥¼ ì¢€ ë” ìš”ì•½í•´ë´…ì‹œë‹¤. ì¼ë‹¨ í•µì‹¬ ìš”ì†Œ 3ê°€ì§€ë¥¼ ë¨¼ì € ì´í•´í•´ë´…ì‹œë‹¤.\n\n- **Sandbox** : ê³ ë¦½ëœ í•˜ë‚˜ì˜ Network ê³µê°„ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. í•´ë‹¹ ê³µê°„ì—ëŠ” ehternet interfaceë‚˜ port ê·¸ë¦¬ê³  routing tableê°™ì€ êµ¬í˜„ì´ í¬í•¨ë©ë‹ˆë‹¤.\n- **Endpoints**Â : Virtual Networkë¥¼ ì„œë¡œ ì—°ê²°í•˜ëŠ” interfaceì˜ ì—­í• ì…ë‹ˆë‹¤. (vethë¼ê³ ë„ ë¶ˆë¦½ë‹ˆë‹¤.) CNMì—ì„œëŠ” Sandbox ë‚´ë¶€ì—ì„œ ì´ì™€ Networkë¥¼ ì—°ê²°í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.\n- **Networks**Â : Virtual Switchë¡œ ì—¬ê¸°ë©´ ë©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ì„œ ì—¬ëŸ¬ ê°œì˜ endpointsë¥¼ ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì ì´ì œ ì´ë ‡ê²Œ 3ê°œì˜ ë„¤íŠ¸ì›Œí¬ë¥¼ ì •ë¦¬í•˜ë©´, ì´ì œ Container ë‚´ë¶€ì— Sandboxê°€ ì¡´ì¬í•˜ê³ , ê·¸ Sandbox ë‚´ë¶€ì˜ endpointsë¥¼ ì—°ê²°í•˜ëŠ” Networkë¥¼ í†µí•´ì„œ ê²°ë¡ ì ìœ¼ë¡œ Container ê°„ì˜ ì—°ê²°ì„ ìˆ˜í–‰í•˜ê²Œ ë©ë‹ˆë‹¤.\n\n![cnm](/images/cnm.jpeg)\n\n### libnetwork\n\nìœ„ì—ì„œ ì´ì•¼ê¸°í•œ ê²ƒì²˜ëŸ¼ CNMì€ ë‹¨ìˆœíˆ ideaì¼ ë¿ì…ë‹ˆë‹¤. ì´ë¥¼ êµ¬í˜„í—ˆì—¬ í‘œì¤€í™”ëœ ê²ƒì´ ë°”ë¡œ libnetworkë¼ê³  ìƒê°í•˜ë©´ ë©ë‹ˆë‹¤. ì´ëŠ” Goë¥¼ ì´ìš©í•˜ì—¬ ì‘ì„±ëœ open sourceë¡œ ìœ„ì—ì„œ ì œì‹œí•œ ë§í¬ë¥¼ í†µí•´ì„œ í•´ë‹¹ open sourceì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìœ„ì—ì„œ ì–¸ê¸‰í•œ CNMì„ êµ¬í˜„í•˜ì˜€ê³ , ì¶”ê°€ì ìœ¼ë¡œ service discovery, ingress-based container load balancing, network control plane ë° management plane ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì˜€ë‹¤. í˜„ì¬ì—ëŠ” dockerì—ì„œ network êµ¬í˜„ì— ì‚¬ìš©ëœë‹¤.\n\n\\* control & management plane : ì§ì ‘ì ìœ¼ë¡œ networkì˜ íë¦„ì„ ì œì–´í•˜ëŠ” ë‹¨ê³„ë¡œ, routingê³¼ ê°™ì€ ì œì–´ë¥¼ ìˆ˜í–‰í•œë‹¤.\n\n### Drivers\n\nì¦‰, libnetworkê°€ ì „ì²´ì ì¸ networkì˜ control planeê³¼ management plane ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì˜€ë‹¤ë©´, driverëŠ” data planeì„ êµ¬í˜„í•œë‹¤. ì¦‰, ì§ì ‘ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤. ì´ëŸ¬í•œ ê¸°ëŠ¥ë“¤ì€ dockerì—ì„œ ì—¬ëŸ¬ ê°œì˜ driverë¼ëŠ” submoduleì„ í†µí•´ì„œ êµ¬í˜„í•˜ì˜€ë‹¤. docker pubë¥¼ í†µí•´ì„œ defaultë³´ë‹¤ ë‚˜ì•„ê°„ driver ì—­ì‹œ ì„¤ì¹˜ê°€ ê°€ëŠ¥í•˜ë‹¤. í•˜ì§€ë§Œ ê¸°ë³¸ì ìœ¼ë¡œ, host, bridge, overlay, ipvlan, macvlan ë“±ì„ í¬í•¨í•˜ê³  ìˆë‹¤.\n\nì—¬ê¸°ê¹Œì§€ê°€ docker networkì— ëŒ€í•œ overviewì´ë‹¤. ë‹¤ìŒ ì°¨ì‹œì— ê³„ì†...\n","slug":"docker-network-1","date":"2021-07-10 21:21","title":"[Docker] Network(1)","category":"Tech","tags":["Docker","Container","Network"],"thumbnailSrc":"https://euidong.github.io/images/docker-picture.jpg"},{"content":"\n## Reference\n\n- [ğŸ”— Docker Deep Dive](https://www.oreilly.com/library/view/docker-deep-dive/9781800565135/), Nigel Poulton\n\n## Intro\n\nì €ë²ˆ ê¸€ì— ì´ì–´ì„œ ì´ë²ˆì—ëŠ” docker networkì˜ driverë“¤ì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì„ ë‹¤ë£¨ê² ë‹¤.\n\n- bridge networks\n- overlay networks\n- host networking\n- IPVlan networks\n- MacVlan networks\n\n### Bridge Network\n\ncontainerê°„ì˜ í†µì‹ ì„ ìœ„í•´ì„œ í•„ìš”í•œ ê²ƒì´ bridge ë„¤íŠ¸ì›Œí¬ì´ë‹¤. í•˜ì§€ë§Œ, ì—¬ê¸°ì„œ ì£¼ì˜í•´ì•¼í•  ê²ƒì€ ì˜¤ì§, single hostì—ì„œë§Œ ë™ì‘í•œë‹¤ëŠ” ì ì´ë‹¤. ì¦‰, ë‹¤ë¥¸ docker hostì— ì¡´ì¬í•˜ëŠ” containerì™€ëŠ” ì—°ê²°ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.\n\nê·¸ë ‡ë‹¤ë©´, bridgeê°€ ë¬´ì—‡ì¸ê°€? ì´ëŠ” ë‘ ê°œì˜ network ì¥ì¹˜ë¥¼ ì—°ê²°í•˜ëŠ” L2 switchë¥¼ ë§í•œë‹¤. ì¦‰, containerë¥¼ ì—°ê²°í•˜ëŠ” ë„êµ¬ë¼ê³  ë³´ë©´ ë˜ê² ë‹¤. ì´ë¥¼ í†µí•´ì„œ ì—°ê²°ëœ containerëŠ” í•´ë‹¹ containerì˜ ëª¨ë“  portì— ì ‘ê·¼ì´ ê°€ëŠ¥í•´ì§„ë‹¤.\n\n![docker-bridge-network](/images/docker-bridge-network.png)\n\nìœ„ëŠ” `$ docker network ls`ë¥¼ ì…ë ¥í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆëŠ” ë‚´ìš©ì´ë‹¤. ìœ„ì— ì„¸ê°œëŠ” ì²˜ìŒë¶€í„° ëê¹Œì§€ dockerì— ì¡´ì¬í•˜ëŠ” default networkì…ë‹ˆë‹¤. hostëŠ” ì§ì ‘ì ìœ¼ë¡œ hostì— ì—°ê²°í•˜ëŠ” ê²½ìš°ì˜ networkì´ê³ ,(í›„ì— ì„¤ëª…í•©ë‹ˆë‹¤.) noneì€ ì•„ë¬´ ë„¤íŠ¸ì›Œí¬ì—ë„ ì—°ê²°ë˜ì§€ ì•Šì•„ ì™¸ë¶€ë¡œ ì–´ë–¤ trafficë„ ë³´ë‚´ì§€ ì•Šì„ containerë“¤ì´ ì†í•˜ê²Œ ëœë‹¤. ì—¬ê¸°ì„œ bridgeëŠ” default bridgeë¼ê³  ë¶ˆë¦¬ë©°, networkë¥¼ ì„¤ì •í•˜ì§€ ì•Šê³ , containerë¥¼ ìƒì„±í•˜ê²Œ ë˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ í•´ë‹¹ bridgeë¡œ ì—°ê²°ë˜ê²Œ ëœë‹¤. ì´ë¥¼ í†µí•´ì„œ container ê°„ì˜ ì—°ê²°ë„ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.\n\ní•˜ì§€ë§Œ, ì¼ë°˜ì ìœ¼ë¡œ ë‹¨ì¼ ê¸°ê¸°ì—ì„œ container ê°„ì˜ ì—°ê²°ì„ ìˆ˜í–‰í•  ë•Œì—ëŠ” bridgeë¥¼ ì§ì ‘ ìƒì„±í•˜ì—¬ ì—°ê²°í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤. (ê·¸ ì´ìœ ëŠ” ë„ë©”ì¸ ë„¤ì„ ì„¤ì •ì„ ìë™ìœ¼ë¡œ í•´ì¤€ë‹¤ëŠ” ì ì—ì„œ ì´ì ì´ ìˆê¸° ë•Œë¬¸ -> [ğŸ”— ì°¸ê³ ](https://docs.docker.com/network/bridge/#differences-between-user-defined-bridges-and-the-default-bridge))\n\nì•„ë˜ëŠ” ì´ë¥¼ ì´ìš©í•œ ê°„ë‹¨í•œ ì˜ˆì‹œì´ë‹¤.\n\n```bash\n# bridge ìƒì„±\n$ docker network create -d bridge eui_bridge\n\n# container ìƒì„±\n$ docker container run -d --name c1 \\\n  -network eui_bridge \\\n  alpine sleep 1d\n  \n# container2 ìƒì„±\n$ docker container run -it --name c2 \\\n  -network eui_bridge \\\n  alpine sh\n   \n# pingì„ í†µí•´ c1ê³¼ ì—°ê²° ì—¬ë¶€ í™•ì¸\n$ ping c1\n```\n\nìœ„ì˜ ê³¼ì •ì„ ì²˜ìŒë¶€í„° ì„¤ëª…í•˜ìë©´,\n\n1. eui\\_bridgeë¼ëŠ” networkë¥¼ bridgeë¡œ ìƒì„±í•œë‹¤.\n2. containerì— eui\\_bridgeë¥¼ ì—°ê²°í•˜ê³ , alpine ì´ë¯¸ì§€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒì„±í•œë‹¤. ì´ë•Œ ì‹œì‘ ì‹œì— sleepì„ í•˜ë£¨ ë™ì•ˆ ì‹œí–‰í•œë‹¤.(sleep í•˜ëŠ” ì´ìœ ëŠ” êº¼ì§€ì§€ ì•Šê²Œ í•˜ê¸° ìœ„í•¨)\n3. ë§ˆì°¬ê°€ì§€ë¡œ eui\\_bridgeì— ì—°ê²°í•˜ê³ , alpine ì´ë¯¸ì§€ë¡œ containerë¥¼ ìƒì„±í•œ í›„ì— shellì„ ì‹¤í–‰ì‹œí‚¨ë‹¤.\n4. c2ì—ì„œ ì‹¤í–‰ëœ shellì—ì„œ c1ìœ¼ë¡œ pingì„ ì „ì†¡í•œë‹¤. (ì´ë•Œ ê°™ì€ network bridgeë¼ë¦¬ëŠ” container nameìœ¼ë¡œ domainì´ ìƒì„±ëœë‹¤.)\n\nì°¸ê³ ë¡œ ì—¬ê¸°ì„œ ê¸°ì–µí•´ì•¼í•  ê²ƒì´ ìˆë‹¤ë©´, bridgeëŠ” containerê°„ì˜ ì—°ê²°ì„ ìœ„í•œ ê²ƒì´ê³ , containerì˜ íŠ¹ì • portë¥¼ hostì™€ mappingí•˜ê³ ì í•  ë•Œì—ëŠ”Â `--publish`Â ë¥¼ í™œìš©í•´ì•¼ í•œë‹¤.\n\n```bash\n$ docker run -p 5000:80 nginx\n```\n\nì´ë¥¼ í†µí•´ì„œ hostì˜ 5000ë²ˆê³¼ containerì˜ 80ë²ˆ portë¥¼ ì—°ê²°í•  ìˆ˜ ìˆë‹¤.\n\n### Overlay Network\n\nìœ„ì—ì„œ ì„¤ëª…í•œ ê²ƒì´ ë‹¨ì¼ í˜¸ìŠ¤íŠ¸ ë‚´ë¶€ì—ì„œ container ê°„ì˜ ì—°ê²°ì´ì—ˆë‹¤ë©´, ì—¬ëŸ¬ hostê°€ ì¡´ì¬í•˜ëŠ” cluster í™˜ê²½ì—ì„œ dockerì˜ containerê°„ í†µì‹ ì„ ìœ„í•œ driverê°€ overlayì´ë‹¤. í˜„ì¬ì—ëŠ” docker swarmì„ í†µí•´ì„œ applicationì„ ì—¬ëŸ¬ hostì—ì„œ ì œê³µí•˜ëŠ” ê²½ìš°ì— ì‚¬ìš©í•˜ê²Œ ëœë‹¤.\n\në¨¼ì € ì›ë¦¬ë¥¼ ì•Œì•„ë³´ìë©´, VXLANì„ í™œìš©í•œë‹¤ëŠ” ê²ƒì´ë‹¤. ì´ëŠ” L3 network ìƒìœ„ì—ì„œ ë‹¤ë¥¸ ë‘ ê¸°ê¸° ê°„ì— L2 í†µì‹ ì„ ì§€ì›í•˜ëŠ” ê²ƒì¸ë°, ì´ë¥¼ í†µí•´ì„œ ìš°ë¦¬ëŠ” ë‹¤ë¥¸ nodeê°„ì— ì¡´ì¬í•˜ëŠ” container ë¼ë¦¬ë„ í†µì‹ í•  ìˆ˜ ìˆë„ë¡ í•  ìˆ˜ ìˆë‹¤. docker swarmì— ì˜í•´ì„œ ê´€ë¦¬ë˜ì–´ L3ë¡œ ì—°ê²°ëœ ë‘ nodeì˜ ìœ„ì—ì„œëŠ” VXLAN Tunnel EndPoint(VTEP)ì´ ê° ê° ì¡´ì¬í•œë‹¤. ì´ë“¤ì„ í†µí•´ì„œ, tunnelì´ í˜•ì„±ë˜ê³  í†µì‹ ì´ ê°€ëŠ¥í•´ì§€ëŠ”ë°, ê¸°ì¡´ì— containerì— ì¡´ì¬í•˜ê³  ìˆë˜ CNMì—ì„œ ì •ì˜í•œ Sandbox ì†ì— virtual switchê°€ ìƒì„±ë˜ê³  ì´ì™€ VTEPì´ ì—°ê²°ë˜ì–´ ë‹¤ë¥¸ ê¸°ê¸°ì— ìˆëŠ” containerê°„ì—ë„ í†µì‹ ì´ ê°€ëŠ¥í•´ì§€ëŠ” ê²ƒì´ë‹¤.\n\nì˜ˆì‹œë¥¼ ë“ ë‹¤ë©´, docker stackì„ í†µí•´ì„œ ì‹œìŠ¤í…œì„ êµ¬ì„±í•´ë³¸ ì ì´ ìˆë‹¤ë©´, containerë¥¼ ìƒì„±í•˜ëŠ” ê³¼ì •ì—ì„œ networkê°€ ë¨¼ì € ìƒì„±ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. ì´ë•Œ ìƒì„±ë˜ëŠ” ê²ƒì´ overlay ë„¤íŠ¸ì›Œí¬ë¡œ ì´ë¥¼ í†µí•´ì„œ ì—¬ëŸ¬ containerê°€ replicaê°€ ì–´ëŠ nodeì— ìƒê¸¸ì§€ í™•ì •í•  ìˆ˜ ì—†ìŒì—ë„ í†µì‹ ì„ ììœ ë¡­ê²Œ í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.\n\n### Host Networking\n\ní•´ë‹¹ ë°©ì‹ì€ dockerë¥¼ í•œ ë²ˆì´ë¼ë„ ì¨ë³¸ ì‚¬ëŒì´ë¼ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ëŠ” ìµìˆ™í•  ê²ƒì´ë‹¤.\n\n```bash\n$ docker run -p 80:80 nginx\n```\n\nnginx imageë¥¼ ê¸°ë°˜ìœ¼ë¡œ containerë¥¼ ì‹¤í–‰ì‹œí‚¤ê³ , container ë‚´ë¶€ì˜ 80ë²ˆê³¼ hostì˜ 80ë²ˆ portë¥¼ mappingí•˜ê² ë‹¤ëŠ” ê²ƒì´ë‹¤. ì´ë¥¼ í†µí•´ì„œ containerëŠ” hostì˜ networkì— ê´€ì—¬í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.\n\ní•˜ì§€ë§Œ, host networkingì„ ì´ìš©í•˜ê²Œ ë˜ë©´ container ë‚´ë¶€ì— network stackì´ ìƒì„±ë˜ì§€ ì•Šê³ , í•´ë‹¹ containerì˜ ëª¨ë“  network ì„¤ì •ì´ í•´ë‹¹ hostì˜ ì„¤ì •ì— ê·¸ëŒ€ë¡œ mappingë˜ëŠ” ê²ƒì´ë‹¤. ì´ë¥¼ ì´ìš©í•˜ë©´ ì„±ëŠ¥ìƒì˜ ì´ì ì€ ìˆê² ì§€ë§Œ, ìƒë‹¹íˆ ì„¤ì •ì´ ë‚œì¡í•´ì§ˆ ìˆ˜ ìˆë‹¤.\n\n### IPVlan Network\n\nMAC addressì™€ IP adressë¥¼ ë¶€ì—¬í•˜ì—¬, ì‹¤ì œ ë„¤íŠ¸ì›Œí¬ì— containerë¥¼ ì§ì ‘ ì—°ê²°í•˜ëŠ” ë°©ì‹ì´ë‹¤.\n\nì¥ì ì€ ë³„ë„ì˜ port forwardingì´ë‚˜ bridgeë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë‹¹ì—°íˆ ë¹ ë¥´ì§€ë§Œ, NICë¥¼ ì´ìš©í•˜ê¸°ì— promiscuous modeë¥¼ opení•´ì•¼ í•œë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤. ì´ëŠ” switchê°€ ë°ì´í„°ë¥¼ ì „ì†¡í•  ëŒ€ìƒì„ ì°¾ì§€ ì•Šê³ , ì—°ê²°ëœ ëª¨ë“  ëŒ€ìƒì—ê²Œ ë³´ë‚´ëŠ” ëª¨ë“œë¡œ, sniffingì— ì·¨ì•½í•˜ê³  ì´ ë•Œë¬¸ì— public cloud systemì—ì„œëŠ” ì´ë¥¼ ë§‰ì•„ ë†“ê¸°ì— ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.\n\n![docker-ip-vlan](/images/docker-ip-vlan.png)\nì—¬ê¸°ê¹Œì§€ ë§í–ˆì„ ë•Œ, ì´í•´í–ˆë‹¤ë©´, ì´ë¯¸ ì„¤ì •í•˜ëŠ” ê²ƒì„ ì•Œì•„ë³´ëŸ¬ ë– ë‚˜ë©´ ë  ê²ƒì´ê³ , ì´í•´í•˜ì§€ ëª»í–ˆë‹¤ë©´, ì•„ë§ˆ ì“¸ ì¼ì´ ì—†ì„ ê²ƒì´ë‹ˆ ë„˜ì–´ê°€ì‹œë©´ ë  ê²ƒì´ë‹¤.\n\nìì„¸í•œ ì‚¬í•­ì€ ê³µì‹ í˜ì´ì§€ë¥¼ ì°¸ê³ í•˜ì.\n\n[ğŸ”— IPvlan networks](https://docs.docker.com/network/ipvlan/)\n\n### MacVlan Network\n\nipvlanê³¼ ë™ì¼í•˜ì§€ë§Œ ì°¨ì´ì ì€ MAC ì£¼ì†Œë¥¼ í• ë‹¹í•œë‹¤ëŠ” ì ì´ë‹¤. ê·¸ ì™¸ì—ëŠ” ë‹¤ë¥¼ ê²ƒì´ ì—†ë‹¤.\n\n[ğŸ”— macvlan networks](https://docs.docker.com/network/macvlan/)\n","slug":"docker-network-2","date":"2021-07-11 00:04","title":"[Docker] Network(2)","category":"Tech","tags":["Docker","Container","Network"],"thumbnailSrc":"https://euidong.github.io/images/docker-picture.jpg"},{"content":"\n## Reference\n\n- [ğŸ”— Docker Deep Dive](https://www.oreilly.com/library/view/docker-deep-dive/9781800565135/), Nigel Poulton\n\n## Intro\n\nì—¬íƒœê¹Œì§€ dockerì˜ driverë¥¼ í†µí•œ networking ê¸°ìˆ ì„ ì•Œì•„ë³´ì•˜ê³ , ì´ì œ libnetworkë¡œ 1/3ì—ì„œ ì œì‹œí–ˆë˜ ê¸°ë³¸ routingê³¼ ê°™ì€ ê¸°ëŠ¥ ì™¸ì— êµ¬í˜„ë˜ì–´ ìˆëŠ” ê¸°ëŠ¥ë“¤ì— ëŒ€í•´ì„œ ì•Œì•„ë´…ë‹ˆë‹¤.\n\n- service discovery\n- load balancing\n\n### Service discovery\n\nëª¨ë“  containerë“¤ê³¼ swarmì˜ ì„œë¹„ìŠ¤ë“¤ì´ ì´ë¦„ì„ í†µí•´ì„œ ê° ê°ì„ ì°¾ì„ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤. DockerëŠ” ìì²´ì ìœ¼ë¡œ ë‚´ë¶€ì˜ DNS ì„œë²„ë¥¼ ì´ìš©í•˜ì—¬ ì´ë¥¼ ìˆ˜í–‰í•œë‹¤. ê³¼ì •ì„ ìš”ì•½í•˜ìë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n1. containerê°€ ì´ë¦„ì„ í†µí•´ì„œ íŠ¹ì • containerë¥¼ ì°¾ì•„ì•¼ í•¨ì„ ì¸ì‹í•œë‹¤.\n2. ë¨¼ì € Local ë‚´ë¶€ì—ì„œ ì´ì— ëŒ€í•œ ì •ë³´ë¥¼ ê°–ê³  ìˆëŠ”ì§€ë¥¼ íƒìƒ‰í•œë‹¤. -> ìˆë‹¤ë©´, ì¢…ë£Œ\n3. Docker DNS serverì— ì´ë¥¼ ìš”ì²­í•˜ëŠ” queryë¥¼ ì „ì†¡í•œë‹¤.\n4. Docker DNS serverëŠ” ëª¨ë“  containerì˜ nameê³¼ network alias(ë³„ì¹­)ë¥¼ ì•Œê¸° ë•Œë¬¸ì— ì´ë¥¼ ì°¾ì„ ìˆ˜ ìˆë‹¤.\n5. ì´ë•Œ, DNS serverëŠ” ë¨¼ì € ë™ì¼í•œ networkì— í•´ë‹¹ containerê°€ ì¡´ì¬í•˜ëŠ”ì§€ë¥¼ í™•ì¸í•œë‹¤. -> ì—†ë‹¤ë©´, ì™¸ë¶€ DNS serverë¡œ\n6. ì¡´ì¬í•œë‹¤ë©´, ì´ë¥¼ ìš”ì²­ì„ ë³´ë‚¸ resolverì—ê²Œ ì „ë‹¬í•˜ê³ , ì´ê²Œ ë‹¤ì‹œ containerë¡œ ì „ë‹¬ëœë‹¤.\n\n### Load balancing\n\ndocker swarmì€ ê¸°ë³¸ì ì¸ load balancerë¥¼ ì§€ì›í•˜ì—¬, ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ êµ¬í˜„ë˜ì–´ì§„ë‹¤.\n\n```bash\n$ docker service create \\\n  --name my-web \\\n  --publish published=8080,target=80 \\\n  --replicas 2 \\\n  nginx\n```\n\n![docker-ingress-network](/images/docker-ingress-network.png)\n\nì¦‰, ì–´ë””ë¡œ ìš”ì²­ì„ ë³´ë‚¸ë‹¤ê³ , í• ì§€ë¼ë„ load balancerëŠ” ì–´ë””ì— í•´ë‹¹ ì„œë¹„ìŠ¤ê°€ ì¡´ì¬í•˜ëŠ”ì§€ë¥¼ íŒŒì•…í•˜ê³ , ì´ë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•´ì§„ë‹¤. ë”°ë¼ì„œ, ì–´ëŠ ë…¸ë“œë¡œ ìš”ì²­ì„ ë³´ë‚´ë”ë¼ë„ ì •ìƒì ìœ¼ë¡œ ìš”ì²­ì´ ì „ë‹¬ë  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤. ì´ë¥¼ Ingress load balancingì´ë¼ê³  ë¶€ë¥¸ë‹¤.\n\në§Œì•½, íŠ¹ì • nodeë¡œ ì „ë‹¬ëœ ìš”ì²­ì€ í•´ë‹¹ nodeì— ìˆëŠ” containerë¡œ ì „ë‹¬ë˜ê¸°ë¥¼ ë°”ë€ë‹¤ë©´, hostëª¨ë“œë¥¼ ì´ìš©í•˜ì—¬ ì§„í–‰í•  ìˆ˜ë„ ìˆë‹¤.\n\nì—¬ê¸°ê¹Œì§€ê°€ networkì— ëŒ€í•œ ì „ë°˜ì ì´ ë‚´ìš©ì…ë‹ˆë‹¤.\n","slug":"docker-network-3","date":"2021-07-11 00:40","title":"[Docker] Network(3)","category":"Tech","tags":["Docker","Container","Network"],"thumbnailSrc":"https://euidong.github.io/images/docker-picture.jpg"}]},"__N_SSG":true}