<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="description" content="Just Tech Blog"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><meta property="og:type" content="blog"/><meta property="og:site_name" content="JustLog"/><title>Network<!-- --> | JustLog<!-- --></title><meta property="og:title" content="JustLog"/><meta property="og:description" content="Just Tech Blog"/><meta property="og:url" content="https://euidong.github.io"/><meta property="og:image" content="https://euidong.github.io/logo192.png"/><meta name="next-head-count" content="10"/><link rel="icon" href="https://euidong.github.io/favicon.png"/><link rel="apple-touch-icon" href="https://euidong.github.io/logo192.png"/><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7452732177557701" crossorigin="anonymous"></script><link rel="preload" href="/_next/static/css/3a5b7dfd849ed6a5.css" as="style"/><link rel="stylesheet" href="/_next/static/css/3a5b7dfd849ed6a5.css" data-n-g=""/><link rel="preload" href="/_next/static/css/6dc16d084a5153e5.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6dc16d084a5153e5.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-9b312e20a4e32339.js" defer=""></script><script src="/_next/static/chunks/framework-81da43a8dcd978d9.js" defer=""></script><script src="/_next/static/chunks/main-7b6c38cbad60dfcf.js" defer=""></script><script src="/_next/static/chunks/pages/_app-da9a1ccd6dcdcb35.js" defer=""></script><script src="/_next/static/chunks/260-70537706ba3e961b.js" defer=""></script><script src="/_next/static/chunks/pages/categories/%5Bsubject%5D-9ddd995871d1750e.js" defer=""></script><script src="/_next/static/y6vQLKbVoTQaeM1YkRMho/_buildManifest.js" defer=""></script><script src="/_next/static/y6vQLKbVoTQaeM1YkRMho/_ssgManifest.js" defer=""></script><script src="/_next/static/y6vQLKbVoTQaeM1YkRMho/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div class="Layout_wrapper__dKJSz root"><header class="Layout_header__XosLl" style="position:sticky"><div><button tabindex="1" class="SideBarToggler_search_bar_toggler__CEuUg"><svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="35px" width="35px" xmlns="http://www.w3.org/2000/svg"><path d="M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z" fill="currentColor"></path><path d="M2 12.0322C2 11.4799 2.44772 11.0322 3 11.0322H21C21.5523 11.0322 22 11.4799 22 12.0322C22 12.5845 21.5523 13.0322 21 13.0322H3C2.44772 13.0322 2 12.5845 2 12.0322Z" fill="currentColor"></path><path d="M3 17.0645C2.44772 17.0645 2 17.5122 2 18.0645C2 18.6167 2.44772 19.0645 3 19.0645H21C21.5523 19.0645 22 18.6167 22 18.0645C22 17.5122 21.5523 17.0645 21 17.0645H3Z" fill="currentColor"></path></svg></button><nav class="SideBar_side_bar__wrapper--close__8Nwnr"><a class="SideBar_side_bar__li__crDBH" tabindex="-1" href="/">Home</a><a class="SideBar_side_bar__li__crDBH" tabindex="-1" href="/tags">Tags</a><a class="SideBar_side_bar__li__crDBH" tabindex="-1" href="/categories/Algorithm">Algorithm<!-- --><span class="SideBar_side_bar__li__cnt__9QV_z">(<!-- -->11<!-- -->)<!-- --></span></a><a class="SideBar_side_bar__li__crDBH" tabindex="-1" href="/categories/Computer%20Architecture">Computer Architecture<!-- --><span class="SideBar_side_bar__li__cnt__9QV_z">(<!-- -->7<!-- -->)<!-- --></span></a><a class="SideBar_side_bar__li__crDBH" tabindex="-1" href="/categories/Tech">Tech<!-- --><span class="SideBar_side_bar__li__cnt__9QV_z">(<!-- -->15<!-- -->)<!-- --></span></a><a class="SideBar_side_bar__li__crDBH" tabindex="-1" href="/categories/Web">Web<!-- --><span class="SideBar_side_bar__li__cnt__9QV_z">(<!-- -->4<!-- -->)<!-- --></span></a><a class="SideBar_side_bar__li__crDBH" tabindex="-1" href="/categories/Network">Network<!-- --><span class="SideBar_side_bar__li__cnt__9QV_z">(<!-- -->11<!-- -->)<!-- --></span></a></nav></div><a class="Logo_logo___yD0t" tabindex="1" href="/"></a><div><button class="SearchBarToggler_search_bar_toggler__3dHbA" tabindex="2"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="25px" width="25px" xmlns="http://www.w3.org/2000/svg"><path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path></svg></button></div></header><section><div class="RowCard_row_card__list__background___xFj5"><h1 class="RowCard_row_card__list__title__t4a2h"> Network</h1><label class="RowCard_row_card__list__select__wrapper__TZ4_9"><select class="RowCard_row_card__list__select__dxkxA"><option class="RowCard_row_card__list__select__option__GRKZU">ìµœì‹ ìˆœ<!-- --></option><option class="RowCard_row_card__list__select__option__GRKZU">AtoZ<!-- --></option><option class="RowCard_row_card__list__select__option__GRKZU">ZtoA<!-- --></option></select></label><ul class="RowCard_row_card__list__wrapper__5Gtgi"><div class="RowCard_row_card__wrapper__kohuv"><a class="RowCard_row_card__thumbnail__wrapper__bedY4" href="/posts/p4"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:200px;height:200px;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><img alt="P4" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fixed" class="RowCard_row_card__thumbnail__Dh_84" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover"/><noscript><img alt="P4" srcSet="https://euidong.github.io/images/p4-icon.png?imwidth=256 1x, https://euidong.github.io/images/p4-icon.png?imwidth=640 2x" src="https://euidong.github.io/images/p4-icon.png?imwidth=640" decoding="async" data-nimg="fixed" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" class="RowCard_row_card__thumbnail__Dh_84" loading="lazy"/></noscript></span></a><div class="RowCard_row_card__tray__trcA5"><a class="RowCard_row_card__tray__title__lVniM" tabindex="-1" href="/posts/p4">P4</a><div class="RowCard_row_card__tray__date__3cY_j">2022ë…„ 6ì›” 9ì¼ 17ì‹œ 29ë¶„</div><ul class="RowCard_row_card__tray__tag__qXmOl"><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/SDN"># <!-- -->SDN<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/P4"># <!-- -->P4<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/ProgrammableSwitch"># <!-- -->ProgrammableSwitch<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/DataPlane"># <!-- -->DataPlane<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/OpenFlow"># <!-- -->OpenFlow<!-- --></a></ul></div></div><div class="RowCard_row_card__wrapper__kohuv"><a class="RowCard_row_card__thumbnail__wrapper__bedY4" href="/posts/sdn-tutorial"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:200px;height:200px;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><img alt="SDN Tutorial" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fixed" class="RowCard_row_card__thumbnail__Dh_84" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover"/><noscript><img alt="SDN Tutorial" srcSet="https://euidong.github.io/images/sdn-tuto-hero.jpg?imwidth=256 1x, https://euidong.github.io/images/sdn-tuto-hero.jpg?imwidth=640 2x" src="https://euidong.github.io/images/sdn-tuto-hero.jpg?imwidth=640" decoding="async" data-nimg="fixed" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" class="RowCard_row_card__thumbnail__Dh_84" loading="lazy"/></noscript></span></a><div class="RowCard_row_card__tray__trcA5"><a class="RowCard_row_card__tray__title__lVniM" tabindex="-1" href="/posts/sdn-tutorial">SDN Tutorial</a><div class="RowCard_row_card__tray__date__3cY_j">2022ë…„ 6ì›” 3ì¼ 19ì‹œ 54ë¶„</div><ul class="RowCard_row_card__tray__tag__qXmOl"><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/SDN"># <!-- -->SDN<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/Mininet"># <!-- -->Mininet<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/OpenFlow"># <!-- -->OpenFlow<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/ONOS"># <!-- -->ONOS<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/OpenVSwitch"># <!-- -->OpenVSwitch<!-- --></a></ul></div></div><div class="RowCard_row_card__wrapper__kohuv"><a class="RowCard_row_card__thumbnail__wrapper__bedY4" href="/posts/routing"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:200px;height:200px;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><img alt="Routing" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fixed" class="RowCard_row_card__thumbnail__Dh_84" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover"/><noscript><img alt="Routing" srcSet="https://euidong.github.io/images/routing-hero.jpg?imwidth=256 1x, https://euidong.github.io/images/routing-hero.jpg?imwidth=640 2x" src="https://euidong.github.io/images/routing-hero.jpg?imwidth=640" decoding="async" data-nimg="fixed" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" class="RowCard_row_card__thumbnail__Dh_84" loading="lazy"/></noscript></span></a><div class="RowCard_row_card__tray__trcA5"><a class="RowCard_row_card__tray__title__lVniM" tabindex="-1" href="/posts/routing">Routing</a><div class="RowCard_row_card__tray__date__3cY_j">2022ë…„ 5ì›” 30ì¼ 12ì‹œ 28ë¶„</div><ul class="RowCard_row_card__tray__tag__qXmOl"><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/Routing"># <!-- -->Routing<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/RIP"># <!-- -->RIP<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/EIGRP"># <!-- -->EIGRP<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/OSPF"># <!-- -->OSPF<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/BGP"># <!-- -->BGP<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/ISIS"># <!-- -->ISIS<!-- --></a></ul></div></div><div class="RowCard_row_card__wrapper__kohuv"><a class="RowCard_row_card__thumbnail__wrapper__bedY4" href="/posts/overlay-network"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:200px;height:200px;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><img alt="Overlay Network" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fixed" class="RowCard_row_card__thumbnail__Dh_84" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover"/><noscript><img alt="Overlay Network" srcSet="https://euidong.github.io/images/climb-the-rock.jpg?imwidth=256 1x, https://euidong.github.io/images/climb-the-rock.jpg?imwidth=640 2x" src="https://euidong.github.io/images/climb-the-rock.jpg?imwidth=640" decoding="async" data-nimg="fixed" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" class="RowCard_row_card__thumbnail__Dh_84" loading="lazy"/></noscript></span></a><div class="RowCard_row_card__tray__trcA5"><a class="RowCard_row_card__tray__title__lVniM" tabindex="-1" href="/posts/overlay-network">Overlay Network</a><div class="RowCard_row_card__tray__date__3cY_j">2022ë…„ 5ì›” 30ì¼ 09ì‹œ 23ë¶„</div><ul class="RowCard_row_card__tray__tag__qXmOl"><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/P2P"># <!-- -->P2P<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/VPN"># <!-- -->VPN<!-- --></a></ul></div></div><div class="RowCard_row_card__wrapper__kohuv"><a class="RowCard_row_card__thumbnail__wrapper__bedY4" href="/posts/optical-transport-network"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:200px;height:200px;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><img alt="ê´‘í†µì‹ ë§" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fixed" class="RowCard_row_card__thumbnail__Dh_84" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover"/><noscript><img alt="ê´‘í†µì‹ ë§" srcSet="https://euidong.github.io/images/optical-network.jpg?imwidth=256 1x, https://euidong.github.io/images/optical-network.jpg?imwidth=640 2x" src="https://euidong.github.io/images/optical-network.jpg?imwidth=640" decoding="async" data-nimg="fixed" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" class="RowCard_row_card__thumbnail__Dh_84" loading="lazy"/></noscript></span></a><div class="RowCard_row_card__tray__trcA5"><a class="RowCard_row_card__tray__title__lVniM" tabindex="-1" href="/posts/optical-transport-network">ê´‘í†µì‹ ë§</a><div class="RowCard_row_card__tray__date__3cY_j">2022ë…„ 5ì›” 28ì¼ 19ì‹œ 03ë¶„</div><ul class="RowCard_row_card__tray__tag__qXmOl"><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/OpticalTransportNetwork"># <!-- -->OpticalTransportNetwork<!-- --></a></ul></div></div><div class="RowCard_row_card__wrapper__kohuv"><a class="RowCard_row_card__thumbnail__wrapper__bedY4" href="/posts/types-of-network"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:200px;height:200px;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><img alt="Networkì˜ ì¢…ë¥˜" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fixed" class="RowCard_row_card__thumbnail__Dh_84" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover"/><noscript><img alt="Networkì˜ ì¢…ë¥˜" srcSet="https://euidong.github.io/images/base-station.jpg?imwidth=256 1x, https://euidong.github.io/images/base-station.jpg?imwidth=640 2x" src="https://euidong.github.io/images/base-station.jpg?imwidth=640" decoding="async" data-nimg="fixed" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" class="RowCard_row_card__thumbnail__Dh_84" loading="lazy"/></noscript></span></a><div class="RowCard_row_card__tray__trcA5"><a class="RowCard_row_card__tray__title__lVniM" tabindex="-1" href="/posts/types-of-network">Networkì˜ ì¢…ë¥˜</a><div class="RowCard_row_card__tray__date__3cY_j">2022ë…„ 5ì›” 27ì¼ 09ì‹œ 59ë¶„</div><ul class="RowCard_row_card__tray__tag__qXmOl"><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/BackbornNetwork"># <!-- -->BackbornNetwork<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/Internet"># <!-- -->Internet<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/DatacenterNetwork"># <!-- -->DatacenterNetwork<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/EdgecomputingNetwork"># <!-- -->EdgecomputingNetwork<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/AccessNetwork"># <!-- -->AccessNetwork<!-- --></a></ul></div></div><div class="RowCard_row_card__wrapper__kohuv"><a class="RowCard_row_card__thumbnail__wrapper__bedY4" href="/posts/openflow"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:200px;height:200px;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><img alt="OpenFlow" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fixed" class="RowCard_row_card__thumbnail__Dh_84" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover"/><noscript><img alt="OpenFlow" srcSet="https://euidong.github.io/images/flow.jpg?imwidth=256 1x, https://euidong.github.io/images/flow.jpg?imwidth=640 2x" src="https://euidong.github.io/images/flow.jpg?imwidth=640" decoding="async" data-nimg="fixed" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" class="RowCard_row_card__thumbnail__Dh_84" loading="lazy"/></noscript></span></a><div class="RowCard_row_card__tray__trcA5"><a class="RowCard_row_card__tray__title__lVniM" tabindex="-1" href="/posts/openflow">OpenFlow</a><div class="RowCard_row_card__tray__date__3cY_j">2022ë…„ 5ì›” 25ì¼ 22ì‹œ 23ë¶„</div><ul class="RowCard_row_card__tray__tag__qXmOl"><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/SDN"># <!-- -->SDN<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/ONF"># <!-- -->ONF<!-- --></a></ul></div></div><div class="RowCard_row_card__wrapper__kohuv"><a class="RowCard_row_card__thumbnail__wrapper__bedY4" href="/posts/sdn"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:200px;height:200px;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><img alt="SDN" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fixed" class="RowCard_row_card__thumbnail__Dh_84" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover"/><noscript><img alt="SDN" srcSet="https://euidong.github.io/images/network-background.jpg?imwidth=256 1x, https://euidong.github.io/images/network-background.jpg?imwidth=640 2x" src="https://euidong.github.io/images/network-background.jpg?imwidth=640" decoding="async" data-nimg="fixed" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" class="RowCard_row_card__thumbnail__Dh_84" loading="lazy"/></noscript></span></a><div class="RowCard_row_card__tray__trcA5"><a class="RowCard_row_card__tray__title__lVniM" tabindex="-1" href="/posts/sdn">SDN</a><div class="RowCard_row_card__tray__date__3cY_j">2022ë…„ 5ì›” 25ì¼ 09ì‹œ 00ë¶„</div><ul class="RowCard_row_card__tray__tag__qXmOl"><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/SDN"># <!-- -->SDN<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/NFV"># <!-- -->NFV<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/OpenFlow"># <!-- -->OpenFlow<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/ONOS"># <!-- -->ONOS<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/OpenDayLight"># <!-- -->OpenDayLight<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/P4"># <!-- -->P4<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/DPDK"># <!-- -->DPDK<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/FD.io"># <!-- -->FD.io<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/OpenStack"># <!-- -->OpenStack<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/CORD"># <!-- -->CORD<!-- --></a></ul></div></div><div class="RowCard_row_card__wrapper__kohuv"><a class="RowCard_row_card__thumbnail__wrapper__bedY4" href="/posts/mininet"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:200px;height:200px;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><img alt="Mininet" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fixed" class="RowCard_row_card__thumbnail__Dh_84" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover"/><noscript><img alt="Mininet" srcSet="https://euidong.github.io/images/switch-with-cable.jpg?imwidth=256 1x, https://euidong.github.io/images/switch-with-cable.jpg?imwidth=640 2x" src="https://euidong.github.io/images/switch-with-cable.jpg?imwidth=640" decoding="async" data-nimg="fixed" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" class="RowCard_row_card__thumbnail__Dh_84" loading="lazy"/></noscript></span></a><div class="RowCard_row_card__tray__trcA5"><a class="RowCard_row_card__tray__title__lVniM" tabindex="-1" href="/posts/mininet">Mininet</a><div class="RowCard_row_card__tray__date__3cY_j">2022ë…„ 5ì›” 24ì¼ 12ì‹œ 58ë¶„</div><ul class="RowCard_row_card__tray__tag__qXmOl"><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/Emulator"># <!-- -->Emulator<!-- --></a><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/Tool"># <!-- -->Tool<!-- --></a></ul></div></div><div class="RowCard_row_card__wrapper__kohuv"><a class="RowCard_row_card__thumbnail__wrapper__bedY4" href="/posts/segment-routing"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:200px;height:200px;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><img alt="Segment Routing" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fixed" class="RowCard_row_card__thumbnail__Dh_84" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover"/><noscript><img alt="Segment Routing" srcSet="https://euidong.github.io/images/forwarding.jpg?imwidth=256 1x, https://euidong.github.io/images/forwarding.jpg?imwidth=640 2x" src="https://euidong.github.io/images/forwarding.jpg?imwidth=640" decoding="async" data-nimg="fixed" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" class="RowCard_row_card__thumbnail__Dh_84" loading="lazy"/></noscript></span></a><div class="RowCard_row_card__tray__trcA5"><a class="RowCard_row_card__tray__title__lVniM" tabindex="-1" href="/posts/segment-routing">Segment Routing</a><div class="RowCard_row_card__tray__date__3cY_j">2022ë…„ 5ì›” 23ì¼ 10ì‹œ 41ë¶„</div><ul class="RowCard_row_card__tray__tag__qXmOl"><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/Routing"># <!-- -->Routing<!-- --></a></ul></div></div><div class="RowCard_row_card__wrapper__kohuv"><a class="RowCard_row_card__thumbnail__wrapper__bedY4" href="/posts/mpls"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:200px;height:200px;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><img alt="MPLS" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fixed" class="RowCard_row_card__thumbnail__Dh_84" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover"/><noscript><img alt="MPLS" srcSet="https://euidong.github.io/images/routing.jpg?imwidth=256 1x, https://euidong.github.io/images/routing.jpg?imwidth=640 2x" src="https://euidong.github.io/images/routing.jpg?imwidth=640" decoding="async" data-nimg="fixed" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" class="RowCard_row_card__thumbnail__Dh_84" loading="lazy"/></noscript></span></a><div class="RowCard_row_card__tray__trcA5"><a class="RowCard_row_card__tray__title__lVniM" tabindex="-1" href="/posts/mpls">MPLS</a><div class="RowCard_row_card__tray__date__3cY_j">2022ë…„ 5ì›” 22ì¼ 15ì‹œ 25ë¶„</div><ul class="RowCard_row_card__tray__tag__qXmOl"><a class="RowCard_row_card__tray__tag__li__7_3Zt" tabindex="-1" href="/tags/Routing"># <!-- -->Routing<!-- --></a></ul></div></div></ul></div></section><footer class="Layout_footer__EL5v8"><div class="Layout_footer__copyright__r5baC"><span>Copyright Â© euidong</span><br/><span>ëª¨ë“  ì»¨í…ì¸ ì— ëŒ€í•œ ì €ì‘ê¶Œì€ ì‘ì„±ìì—ê²Œ ì¡´ì¬í•©ë‹ˆë‹¤. <!-- --><br/>ë¶ˆë²• ë³µì œë¥¼ í†µí•œ ìƒì—…ì  ì‚¬ìš©ì„ ì ˆëŒ€ì ìœ¼ë¡œ ê¸ˆì§€í•©ë‹ˆë‹¤. <!-- --><br/>ë‹¨, ë¹„ìƒì—…ì  ì´ìš©ì˜ ê²½ìš° ì¶œì²˜ ë° ë§í¬ë¥¼ ì ìš©í•œë‹¤ë©´ ììœ ë¡­ê²Œ ì‚¬ìš©ê°€ëŠ¥ í•©ë‹ˆë‹¤.<!-- --></span><span>Also I use photos by<!-- --> <!-- --><a href="https://unsplash.com/@lorenzoherrera?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" tabindex="-1">Lorenzo Herrera</a> <!-- -->on<!-- --> <!-- --><a href="https://unsplash.com/s/photos/tech?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" tabindex="-1">Unsplash</a></span></div><div class="Layout_footer__contents__YZWSm"><a class="Layout_footer__contents__link__K_TKH" href="https://github.com/euidong" target="_blank" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="60" width="60" xmlns="http://www.w3.org/2000/svg"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg><span>github</span></a><a class="Layout_footer__contents__link__K_TKH" href="https://euidong.github.io/portfolio" target="_blank" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="60" width="60" xmlns="http://www.w3.org/2000/svg"><path d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z"></path></svg><span>portfolio</span></a><a class="Layout_footer__contents__link__K_TKH" href="https://chrome.google.com/webstore/detail/bonfire/nkooidijgbppkojdgkoafcoppnohdfka?hl=ko" target="_blank" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="60" width="60" xmlns="http://www.w3.org/2000/svg"><path d="M5.016 16c-1.066-2.219-0.498-3.49 0.321-4.688 0.897-1.312 1.129-2.61 1.129-2.61s0.706 0.917 0.423 2.352c1.246-1.387 1.482-3.598 1.293-4.445 2.817 1.969 4.021 6.232 2.399 9.392 8.631-4.883 2.147-12.19 1.018-13.013 0.376 0.823 0.448 2.216-0.313 2.893-1.287-4.879-4.468-5.879-4.468-5.879 0.376 2.516-1.364 5.268-3.042 7.324-0.059-1.003-0.122-1.696-0.649-2.656-0.118 1.823-1.511 3.309-1.889 5.135-0.511 2.473 0.383 4.284 3.777 6.197z"></path></svg><span>chat</span></a></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"posts":[{"content":"\n## Reference\n\n- Thumbnail: [ğŸ”— P4 ê³µì‹í™ˆí˜ì´ì§€](https://p4.org)\n- [P4 specification](https://p4.org/p4-spec/docs/P4-16-v1.2.2.pdf)\n\n## History\n\nì˜ˆì „ Postingì—ì„œ [ğŸ”— OpenFlow](/posts/openflow)ì™€ [ğŸ”— SDN](/posts/sdn)ì— ëŒ€í•´ì„œ ë‹¤ë£¬ ì ì´ ìˆë‹¤. ì´ë•Œ, P4ì— ëŒ€í•´ì„œ ê°„ëµíˆ ì•Œì•„ë³´ê³  ì§€ë‚˜ê°”ì—ˆëŠ”ë°, í•´ë‹¹ Postingì—ì„œëŠ” ì´ë¥¼ ìì„¸íˆ ë‹¤ë£° ê²ƒì´ë‹¤. ë§Œì•½, ì´ì— ëŒ€í•œ ê°œë…ì´ ì¡í˜€ìˆì§€ ì•Šë‹¤ë©´, í•´ë‹¹ Postingì„ ì´í•´í•˜ê¸° ì–´ë µë‹¤. ë”°ë¼ì„œ, SDNê³¼ OpenFlow ê´€ë ¨ Postingì„ ë¨¼ì € ì½ê³  ë‹¤ì‹œ ëŒì•„ì˜¤ê¸°ë¥¼ ë°”ë€ë‹¤.\n\në¨¼ì €, P4ì˜ ì´ˆê¸° ì‹œì‘ì€ OpenFlowì˜ ì„±ì¥ê³¼ ì—°ê´€ì´ ìˆë‹¤. OpenFlowëŠ” ê¸°ì¡´ì˜ Switchë¥¼ Data Planeê³¼ Control Planeìœ¼ë¡œ ë‚˜ëˆ„ì–´ Control Planeì„ ì™¸ë¶€ Server(Controller)ë¡œ ì˜®ê¸°ê³  ì´ë“¤ì€ OpenFlow Protocolì„ í†µí•´ì„œ Switchì˜ Data Palenì„ ì œì–´í•˜ê³ ì í–ˆë‹¤. OpenFlowì˜ ì‚¬ìš©ì´ ê°€ì†í™”ë˜ë©´ì„œ ê³„ì†í•´ì„œ ìƒˆë¡œìš´ versionì´ updateë˜ì—ˆê³ , 1.0ì—ì„œ 1.5ê¹Œì§€ ë„ë‹¬í•˜ê²Œ ë˜ì—ˆë‹¤. ê·¸ëŸ°ë°, ì—¬ëŸ¬ Usecaseì™€ Protocolì„ ì§€ì›í•˜ê¸° ìœ„í•´ì„œ ì ì  ë¹„ëŒ€í•´ì§€ëŠ” Headerë¥¼ ë§ˆì£¼ì¹˜ê²Œ ëœë‹¤. ì´ëŠ” í†µì‹  ì†ë„ì˜ ì €í•˜ë¥¼ ì•¼ê¸°í•  ë¿ë§Œ ì•„ë‹ˆë¼ ê¸°ì¡´ì˜ ìœ ì—°í•œ ì‹œìŠ¤í…œì„ ë§Œë“¤ê³ ìí•œ OpenFlowì˜ íƒ„ìƒ ë°°ê²½ê³¼ë„ ê±°ë¦¬ê°€ ìˆê²Œ ëœë‹¤. ë”°ë¼ì„œ, Data Planeì„ í•„ìš”ì— ë”°ë¼ Protocol, Header, Algorithmì„ í¬í•¨í•˜ì—¬ Programmingìœ¼ë¡œ êµ¬í˜„í•˜ì—¬ ì‚¬ìš©í•˜ë©´ ì¢‹ì§€ ì•Šì„ê¹Œë¼ëŠ” ë°œìƒì—ì„œ ì‹œì‘ëœ ê²ƒì´ P4ì´ë‹¤. ê·¸ë ‡ê¸°ì— P4ì˜ full nameì´ **Programming Protocol-independent Packet processors**ì¸ ê²ƒì´ë‹¤.\n\nì´ë ‡ê²Œ ì‹œì‘ëœ ProjectëŠ” ì ì  ë¹„ëŒ€í•´ì§€ë©°, ì›ë˜ëŠ” Programmable Switchë¥¼ ìœ„í•œ ì–¸ì–´ë¥¼ ëª©ì ìœ¼ë¡œ í–ˆë‹¤ë©´ í˜„ì¬ì—ëŠ” ì—¬ëŸ¬ ëª©ì ì˜ ì¥ë¹„(target)ì„ ì§€ì›í•˜ëŠ” ì–¸ì–´ë¡œ í™•ì¥ë˜ì—ˆë‹¤. ë”°ë¼ì„œ, P4ë¥¼ í•œ ë¬¸ì¥ìœ¼ë¡œ ì •ì˜í•˜ë¼ê³  í•˜ë©´, **Programmable Targetì˜ Data Planeì„ Programmingí•˜ëŠ” ì–¸ì–´**ë¼ê³  í•  ìˆ˜ ìˆë‹¤.\n\n## ë™ì‘ì›ë¦¬\n\nP4ë¥¼ í†µí•œ Programmingì„ í†µí•´ì„œ ìš°ë¦¬ê°€ ìµœì¢…ì ìœ¼ë¡œ ë§Œë“œëŠ” ê²ƒì€ ë‘ ê°€ì§€ì´ë‹¤. ì²«ë²ˆì§¸ë¡œ, `DataPlane runtime`ì€ Tableê³¼ Action ê·¸ë¦¬ê³  ì ì ˆí•œ Alogrithmì„ í†µí•´ ì‹¤ì œë¡œ Packetì„ ì²˜ë¦¬ ë° Forwardingí•  Softwareë¥¼ ì œì‘í•˜ê³ , Control Planeì—ì„œ Data Planeì„ ì œì–´ ë° ì„¤ì •ì„ í•˜ê¸° ìœ„í•œ APIë¥¼ ì œì‘í•œë‹¤.\n\n![p4-overview](/images/p4-overview.jpeg)\n\nì´ë¥¼ ìœ„í•´ì„œ Targetì„ ì œì‘í•˜ëŠ” VenderëŠ” ë‹¤ìŒê³¼ ê°™ì€ 3ê°€ì§€ë¥¼ ì œì‘í•œë‹¤.\n\n1. P4 Architecture : í•´ë‹¹ Targetì—ì„œ ì‘ë™ì´ ê°€ëŠ¥í•œ Interfaceì™€ extern objectë¥¼ ì •ì˜í•´ë†“ì€ ëª…ì„¸ì„œì´ë‹¤. í›„ì— P4 programmerëŠ” ì´ë¥¼ ì°¸ê³ í•˜ì—¬ í•´ë‹¹ Interfaceì— í•´ë‹¹í•˜ëŠ” Packageë¥¼ ì‘ì„±í•˜ë©´ ëœë‹¤.\n2. P4 Compiler : Programmerê°€ ì‘ì„±í•œ Codeë¥¼ Compileí•˜ì—¬ APIì™€ DataPlane Runtimeì„ ìƒì„±í•œë‹¤.\n3. Target(Hardware) : ì‹¤ì œë¡œ ë™ì‘í•˜ëŠ” Hardwareì´ë‹¤.\n\nì´ì œ P4 ê°œë°œì(Programmer)ëŠ” P4 Architectureë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ì—¬ ì›í•˜ëŠ” ë™ì‘ì„ êµ¬í˜„í•œë‹¤. ì´ë¥¼ Compilerë¥¼ í†µí•´ì„œ ì‹¤í–‰ì‹œì¼œ ì •ìƒë™ì‘ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ì—¬ ìµœì¢…ì ìœ¼ë¡œ ë™ì‘í•˜ëŠ” P4 Targetì„ ì™„ì„±í•  ìˆ˜ ìˆë‹¤.\n\nì´ë ‡ê²Œ ë³´ì•˜ë“¯ì´ P4 Programming ê³¼ì •ì€ Target ë””ìì´ë„ˆ(Vender)ì— ì˜í•´ì„œ ë§Œë“¤ì–´ì§„ ê°ì²´ ì§€í–¥ Architectureì— ê¸°ë°˜í•˜ì—¬ Implementationì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ í•µì‹¬ì´ë‹¤. ì•„ë§ˆ ê°ì²´ ì§€í–¥ì— ìµìˆ™í•˜ë‹¤ë©´ êµ‰ì¥íˆ ì¹œìˆ™í•œ ê°œë…ì¼ ê²ƒì´ë‹¤.\n\n## êµ¬ì„±ìš”ì†Œ\n\nP4 programmingì„ í†µí•´ì„œ ì‹¤ì œë¡œ ì‘ì„±í•˜ê±°ë‚˜ ì‚¬ìš©í•˜ëŠ” êµ¬ì„±ìš”ì†Œë“¤ì€ ì•„ë˜ì™€ ê°™ë‹¤.\n\n- **Architecture** : P4ë¥¼ ì§€ì›í•˜ëŠ” ì§€ì›í•˜ëŠ” Switchì˜ êµ¬ì„±ìš”ì†Œë“¤ì˜ interface(ê°ì²´ì§€í–¥ì—ì„œì˜ interface)ë¥¼ ì‘ì„±í•œ ëª…ì„¸ì„œë¡œ ì´ëŠ” Programmerê°€ ì•„ë‹Œ í•´ë‹¹ Targetì„ ì œì‘í•œ Venderê°€ ì‘ì„±í•œë‹¤. ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ P4 ProgrammerëŠ” Implementationì„ ìˆ˜í–‰í•œë‹¤.\n- **Header Type** : í•´ë‹¹ Data Planeì—ì„œ ì‚¬ìš©í•  ê°ê°ì˜ Packetì˜ Headerì˜ í˜•íƒœë¥¼ ì˜ë¯¸í•œë‹¤. ì¦‰, Packetì˜ Header ë¶€ë¶„ì„ ì •ì˜í•œ ê²ƒì´ë‹¤.\n- **Parser** : ì—°ì†ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” Packetì—ì„œ Headerë¥¼ ì‹ë³„í•˜ê³  ì¶”ì¶œí•˜ëŠ” ì—­í• ì„ í•œë‹¤.\n- **Table** : Programmerì— ì˜í•´ì„œ ì •ì˜ëœ keyì™€ ì´ì— ëŒ€ì‘í•˜ëŠ” Actionì´ ì €ì¥ëœë‹¤. ì´ë¥¼ í†µí•´ì„œ, Routing Table, Flow Lookup Table, ACL ë“±ê³¼ ê°™ì€ ì¼ë°˜ Switchì˜ Tableë„ êµ¬ì„±ì´ ê°€ëŠ¥í•˜ë©°, ë” ë³µì¡í•œ í˜•íƒœì˜ ìƒˆë¡œìš´ Tableì„ êµ¬ì„±í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤.\n- **Action** : Headerì™€ Metadataì— íŠ¹ì •í•œ ì¡°ì‘ì„ ê°€í•  ìˆ˜ ìˆë‹¤.\n- **Match-action unit** : ì‹¤ì œë¡œ Tableì„ ì¡°íšŒí•˜ì—¬, Actionì„ ìˆ˜í–‰í•˜ëŠ” Unitìœ¼ë¡œ ë™ì‘ìˆœì„œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\n  1. Packetì˜ fieldì™€ metadataë¥¼ í™œìš©í•˜ì—¬ keyë¥¼ ìƒì„±í•œë‹¤.\n  2. ìƒì„±í•œ keyë¡œ Tableì—ì„œ ì¡°íšŒ(Lookup)í•œë‹¤.\n  3. ì¡°íšŒëœ keyì— ëŒ€ì‘í•˜ëŠ” actionì´ ì¡´ì¬í•œë‹¤ë©´, ì´ë¥¼ ìˆ˜í–‰í•œë‹¤.\n- **User-defined metadata** : Programmer(user)ì— ì˜í•´ì„œ ì •ì˜ëœ data êµ¬ì¡°ë¡œ ê° packetì—ì„œ ì¶”ì¶œì´ ê°€ëŠ¥í•˜ë‹¤.\n- **Intrinsic metadata** : ê¸°ë³¸ì ìœ¼ë¡œ ì •ì˜ëœ data êµ¬ì¡°ë¡œ ê° packetì—ì„œ ì¶”ì¶œì´ ê°€ëŠ¥í•˜ë‹¤.\n- **Extern object** : ì¼ë°˜ì ì¸ Programming Languageì—ì„œ Libraryì™€ ê°™ì€ ì—­í• ì„ í•˜ë©°, P4ê°€ ì‹¤í–‰ë  Hardwareì—ì„œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ë“¤ì´ ì—¬ê¸°ì— í¬í•¨ëœë‹¤. P4ì—ì„œ ì´ë¥¼ ì´ìš©í•˜ì—¬ Programmingì´ ê°€ëŠ¥í•˜ì§€ë§Œ, ì´ëŠ” P4ë¥¼ ì§€ì›í•˜ëŠ” Hardware Switch ì œì‘ìê°€ ì§€ì •í•˜ëŠ” ê²ƒì´ê¸°ì— P4ë¥¼ í†µí•œ êµ¬í˜„ì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤.\n- **Deparser** : Packetì˜ Headerì™€ Payloadë¥¼ ë‹¤ì‹œ ê²°í•©í•˜ì—¬ output portë¡œ ë‚´ë³´ë‚¼ Packetì„ ìƒì„±í•œë‹¤.\n- **Control flow** : targetì˜ packet ì²˜ë¦¬ë¥¼ ê¸°ìˆ í•˜ëŠ” í•„ìˆ˜ì ì¸ program ìš”ì†Œì´ë‹¤. Deparsingê³¼ Match-action ë“±ì„ ì´ë¥¼ í†µí•´ì„œ ê¸°ìˆ í•  ìˆ˜ ìˆë‹¤.\n\n## Example\n\nê°€ì¥ ê¸°ë³¸ì ì¸ Siwtch(Very Simple Switch, **VSS**)ë¥¼ êµ¬í˜„í•˜ë©° P4ì˜ programming ì ˆì°¨ë¥¼ ìµí˜€ë³´ì. ì•„ë˜ ê·¸ë¦¼ì€ VSSë¥¼ ë¶„ì„í•œ ê·¸ë¦¼ì´ë‹¤.\n\n![Very Simple Switch](/images/vss.jpeg)\n\n### Flow\n\nì´ 3ê°€ì§€ì˜ Flowê°€ ì¡´ì¬í•œë‹¤. í•˜ë‚˜ëŠ” ì¼ë°˜ì ì¸ ë°ì´í„° Packetì„ ì˜ë¯¸í•˜ë©° Targetì˜ **Physical Ethernet**ì„ í†µí•´ì„œ ë“¤ì–´ì˜¨ packetì´ ì´ì— í•´ë‹¹í•œë‹¤. ë˜ ë‹¤ë¥¸ í•˜ë‚˜ì˜ Control Flowë¡œ ëŒ€ê²Œ SDNì˜ Controllerë¥¼ í†µí•´ì„œ ë“¤ì–´ì˜¨ Packetì´ë‹¤. ëŒ€ê²Œ ì´ëŠ” CPUë¥¼ í†µí•´ì„œ ì „ë‹¬ë˜ê¸° ë•Œë¬¸ì— **From CPU**ë¼ê³  í‘œê¸°í•œë‹¤. ë§ˆì§€ë§‰ì€ **Recirculate**ì¸ë° ì´ëŠ” ë™ì¼ Target ë‚´ë¶€ì—ì„œ ì¬ì²˜ë¦¬ë¥¼ ìœ„í•´ì„œ ë‹¤ì‹œ Arbiterë¡œ ì „ë‹¬ëœ Packetì„ ì˜ë¯¸í•œë‹¤. ì´ëŠ” í•œ ë²ˆì˜ ìˆœí™˜ìœ¼ë¡œëŠ” ì œëŒ€ë¡œ ëœ ì²˜ë¦¬ê°€ ì–´ë ¤ìš´ ê²½ìš°ì— ì‚¬ìš©í•œë‹¤.\n\n### Component\n\nì£¼í™©ìƒ‰ ë°•ìŠ¤ì˜ ìš”ì†ŒëŠ” Hardwareë¡œ ì •ì˜ëœ ìš”ì†Œ(Arbiter, Parser Runtime, Demux/Queue)ë¥¼ ì˜ë¯¸í•˜ê³ , ê²€ì€ ë°•ìŠ¤ì˜ ìš”ì†Œ(Parser, Match-action Pipeline, Deparser)ëŠ” Softwareë¡œ êµ¬í˜„ë˜ëŠ” ìš”ì†Œë¥¼ ì˜ë¯¸í•œë‹¤. ê° ìš”ì†Œë¥¼ ë¨¼ì € ì•Œì•„ë³´ë„ë¡ í•˜ì.\n\n1. **Arbiter**  \n    í•œêµ­ì–´ë¡œëŠ” ì¤‘ì¬ìë¼ëŠ” ëœ»ì„ ê°€ì§€ë©°, Inputì„ ì¼ì°¨ì ìœ¼ë¡œ ê°€ê³µí•˜ëŠ” Block(ì¥ì¹˜)ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì€ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•œë‹¤.\n    - ì´ 16ê°œì˜ Portë¥¼ ê°€ì§€ë©°, 3ê°€ì§€ ì¢…ë¥˜ì˜ Inputì„ ì…ë ¥ë°›ëŠ”ë‹¤. (1)Physical Ethernet Input, (2)Control Flow(from CPU), (3)Recirculate Inputì„ ë°›ëŠ”ë‹¤.\n    - **Ethernet Inputì¸ ê²½ìš°**, checksumì„ ì¶”ì¶œí•˜ê³  ê²€ì¦í•œë‹¤. ë§Œì•½, ì˜¬ë°”ë¥´ì§€ ì•Šì€ checksumì´ë¼ë©´ packetì´ ë²„ë ¤ì§€ê³ , ì˜¬ë°”ë¥´ë‹¤ë©´ packetì˜ payloadì—ì„œ checksumì„ ì¶”ì¶œí•˜ì—¬ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì „ë‹¬í•œë‹¤.\n    - ì—¬ëŸ¬ packetì„ ë™ì‹œì— ìˆ˜ì‹ í•œ ê²½ìš°ì—ëŠ” ì´ë¥¼ schedulingí•˜ëŠ” Algorithmì„ ì‹¤í–‰ì‹œí‚¨ë‹¤.\n    - Arbiterê°€ Busy ìƒíƒœì´ê³ , ëŒ€ê¸° queueê°€ ê½‰ ì°¬ ê²½ìš°ì—ëŠ” ë„ì°©í•œ packetì„ Dropí•œë‹¤.\n    - packetì„ ë°›ì€ portë¥¼ `inCtrl.inputPort`ì— ì €ì¥í•˜ì—¬, Match-action Pipelineìœ¼ë¡œ ì „ë‹¬í•˜ì—¬ packetì´ ì–´ë””ì„œë¶€í„° ì™”ëŠ”ì§€ë¥¼ markingí•œë‹¤. ì—¬ê¸°ì„œëŠ” Physical Ethernet portëŠ” 0 ~ 7ë²ˆê¹Œì§€ë¥¼ ì˜ë¯¸í•˜ê³ , 13ì€ recirculation port, 14ëŠ” CPU portë¥¼ ì˜ë¯¸í•œë‹¤.\n2. **Parser**\n   Packetì„ ê°€ê³µí•˜ì—¬ Input Headerë¥¼ ì¶”ì¶œí•˜ê³ , user defined metadataë¥¼ ìƒì„±í•˜ì—¬ ì´ë¥¼ Match-action Pipelineìœ¼ë¡œ ì „ë‹¬í•œë‹¤.\n3. **Parser Runtime**\n   Parserì™€ í˜‘ë ¥ì„ í•˜ë©° ì‹¤í–‰ë˜ëŠ” ì¥ì¹˜ì´ë‹¤. Parserì— ì •ì˜ëœ actionì— ê¸°ë°˜í•˜ì—¬ Match-action Pipelineìœ¼ë¡œ error codeë¥¼ Match-action Pipelien, packet payloadì— ëŒ€í•œ ì •ë³´(payload ê¸¸ì´ ë“±)ë¥¼ Demuxë¡œ ì „ë‹¬í•œë‹¤.\n4. **Match-action Pipeline**\n   Parserë¡œ ë¶€í„° ì „ë‹¬ë°›ì€ Input Headerì™€ Parser Runtimeìœ¼ë¡œ ë¶€í„° ë°›ì€ error, Arbiterë¥¼ í†µí•´ ë°›ì€ `inCtrl.inputPort`ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ì—¬ keyë¥¼ êµ¬ì„±í•˜ê³ , ì´ë¥¼ í†µí•´ì„œ Tableì„ ì¡°íšŒí•˜ì—¬ ì ì ˆí•œ Actionì„ ì¡°íšŒí•˜ì—¬ ì‹¤í–‰í•œë‹¤. ì´ë¥¼ í†µí•´ì„œ ê²°ë¡ ì ìœ¼ë¡œ Output Headerì™€ `outCtrl.outputPort`ë¥¼ ìƒì„±í•œë‹¤.\n5. **Deparser**\n   Deparserì˜ ì—­í• ì€ output Headerë¥¼ ë‹¤ì‹œ ì¬ì¡°ë¦½í•˜ëŠ” ì¥ì¹˜ì´ë‹¤. ì˜¨ì „í•œ header í˜•íƒœë¥¼ ì™„ì„±í•´ì„œ Demuxì—ì„œ Packetì„ ìµœì¢…ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ”ë‹¤.\n6. **Demux/Queue**\n   ë°–ìœ¼ë¡œ ì „ë‹¬í•  packetì˜ headerëŠ” Deparserë¡œë¶€í„°, payloadëŠ” Parserë¡œ ë¶€í„° ì „ë‹¬ë°›ì•„ì„œ ì´ë¥¼ ì¬ê²°í•©í•˜ì—¬ ìƒˆë¡œìš´ packetì„ ìƒì„±í•˜ì—¬ ì˜¬ë°”ë¥¸ output portë¡œ ë‚´ë³´ë‚´ëŠ” ì—­í• ì„ í•˜ëŠ” ì¥ì¹˜ì´ë‹¤. output portëŠ” Matc-action Pipelineì˜ `outCtrl.outputPort`ë¥¼ í†µí•´ì„œ ì „ë‹¬ëœë‹¤. ì„¸ë¶€ì ì¸ ë™ì‘ì€ ì•„ë˜ì™€ ê°™ë‹¤.\n   - packet ì‚­ì œë¥¼ ì›í•˜ëŠ” ê²½ìš° drop portë¡œ packetì„ ë‚´ë³´ë‚¸ë‹¤.\n   - Physical Ethernetìœ¼ë¡œ ë‚˜ê°€ëŠ” packetì¸ ê²½ìš° í•´ë‹¹í•˜ëŠ” output interfaceë¡œ ì „ë‹¬í•œë‹¤. ë§Œì•½, í•´ë‹¹ interfaceê°€ Busy ìƒíƒœë¼ë©´ Queueì— ì €ì¥ëœë‹¤. output interfaceì—ì„œëŠ” packetì˜ checksumì„ ê³„ì‚°í•˜ì—¬ packetì˜ ëì— ë¶™ì—¬ì„œ ë‚´ë³´ë‚¸ë‹¤.\n   - CPUë¥¼ í†µí•´ì„œ ì „ë‹¬í•˜ëŠ” Control plane packetì˜ ê²½ìš°ì—ëŠ” Deparserì—ì„œ ìƒì„±ëœ Headerë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ , original packet ê·¸ëŒ€ë¡œë§Œ ì „ì†¡í•  ìˆ˜ ìˆë‹¤.\n   - `outCtrl.outputPort`ê°€ ì˜¬ë°”ë¥´ì§€ ì•Šë‹¤ë©´, í•´ë‹¹ packetì€ dropëœë‹¤.\n   - ë§Œì•½, Demuxê°€ Busy ìƒíƒœì´ê³ , queueì— ë¹ˆ ê³µê°„ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, `outCtrl.outputPort`ë¥¼ ë¬´ì‹œí•˜ê³  packetì„ dropí•œë‹¤.\n\n### Architecture.p4\n\nì•„ë˜ëŠ” ìœ„ì˜ ë‚´ìš©ì„ ê¸°ë°˜ìœ¼ë¡œ Venderê°€ ì‘ì„±í•œ Architectureì˜ ë‚´ìš©ì´ë‹¤.\n\n```c++\n// File: \"very_simple_switch_model.p4\"\n// Core Libraryë¡œ packet_inê³¼ packet_outì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ í•„ìš”í•˜ë‹¤.\n#include \u003ccore.p4\u003e \n\n// PortëŠ” 4bitë¡œ í‘œí˜„ ê°€ëŠ¥í•˜ë‹¤.\ntypedef bit\u003c4\u003e PortId;\n\n// 4 width(bit)ë¡œ í‘œí˜„í•˜ëŠ” 8, ìƒëµí•´ì„œ 8ë§Œ ì¨ë„ ë¬´ë°©\nconst PortId REAL_PORT_COUNT = 4w8; \n\n// Input packetì— ë™ë°˜ë˜ëŠ” metadataë¡œ Match-action Pipelineì—ì„œ ì‚¬ìš©ëœë‹¤.\nstruct InControl {\n  PortId inputPort;\n}\n\n// Special Input Port\nconst PortId RECIRCULATE_IN_PORT = 0xD;\nconst PortId CPU_IN_PORT = 0xE;\n\n// Match-action Pipelineì—ì„œ ìƒì„±ë˜ëŠ” Output packetì— ë™ë°˜ë˜ëŠ” metadata\nstruct OutControl {\n  PortId outputPort;\n}\n\n// Special Output Port\nconst PortId DROP_PORT = 0xF;\nconst PortId CPU_OUT_PORT = 0xE;\nconst PortId RECIRCULATE_OUT_PORT = 0xD;\n\n// ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” HëŠ” headerë¡œ programmerì— ì˜í•´ì„œ ì •ì˜ëœë‹¤.\n\n/**\n * Parse\n * @param b             input_packet\n * @param parsedHeaders headers contructed by parser\n */\nparser Parser\u003cH\u003e(packet_in b, out H parsedHeaders);\n\n\n/**\n * Match-action Pipeline\n * @param headers     Parserë¡œ ë¶€í„° ë°›ê³ , Deparserì—ê²Œ ë³´ë‚¸ë‹¤.\n * @param parseError  parsing ë„ì¤‘ì— ìƒì„±ëœ error\n * @param inCtrl      packetì„ ë°›ì€ input portë¥¼ í¬í•¨í•œ ì •ë³´\n * @param outCtrl     packetì„ ë³´ë‚¼ output portë¥¼ í¬í•¨í•œ ì •ë³´\n */\ncontrol Pipe\u003cH\u003e(inout H headers, \n                in error parseError, \n                in InControl inCtrl, \n                out OutControl outCtrl);\n\n/**\n * Deparser\n * @param outputHeaders programmerì— ì˜í•´ì„œ ì •ì˜ëœ output header\n * @param b             ë°–ìœ¼ë¡œ ë‚´ë³´ë‚¼ packet\n */\ncontrol Deparser\u003cH\u003e(inout H outputHeaders, packet_out b);\n\n/**\n * Top level Packet\n */\npackege VSS\u003cH\u003e(parse\u003cH\u003e p, Pipe\u003cH\u003e map, Deparser\u003cH\u003e d);\n\n/**\n * Extern block\n * ì´ëŠ” Target venderê°€ ë‚´ë¶€ì ìœ¼ë¡œ êµ¬í˜„í•œ blockì´ë‹¤.\n * programmerëŠ” ì•„ë˜ ì„ ì–¸ëœ blockì„ ììœ ë¡­ê²Œ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤.\n */\nextern Checksum16 {\n  Checksum16();\n  void clear();\n  void update\u003cT\u003e(in T data);\n  void remove\u003cT\u003e(in T data);\n  bit\u003c16\u003e get();\n}\n```\n\nì´ë ‡ê²Œ ì‘ì„±ëœ architectureë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ì—¬ programmerëŠ” ì½”ë“œ ì‘ì„±ì´ ê°€ëŠ¥í•˜ë‹¤.\n\n### Programming.p4\n\në¨¼ì € ì–´ë–¤ ë™ì‘ì„ ìˆ˜í–‰í•˜ê²Œ í• ì§€ë¥¼ ì •ì˜í•˜ì.\n\n\u003c!-- TODO ì±„ìš°ê¸° --\u003e\n1. Ethernet/IPv4 headerë¥¼ í™œìš©í•˜ì—¬ Forwardingì„ ìˆ˜í–‰í•  ê²ƒì´ë‹¤.\n2. CheckSumì„ í™•ì¸í•˜ì—¬ ì •ë‹¹ì„± ì—¬ë¶€ë¥¼ í™•ì¸í•œë‹¤.\n3. TTL ê°’ì„ í™•ì¸í•˜ì—¬ ì •ë‹¹ì„± ì—¬ë¶€ë¥¼ í™•ì¸í•œë‹¤.\n4. Destination IPv4ë¥¼ í™œìš©í•˜ì—¬ Next Hopì˜ IPv4ë¥¼ ì°¾ëŠ”ë‹¤.\n5. ì¶”ì¶œí–ˆë˜ Packetì˜ Headerë¥¼ ë‹¤ì‹œ Ethernet/IPv4ë¡œ ì¬êµ¬ì„±í•œë‹¤.\n\nì´ë¥¼ ì½”ë“œë¡œì¨ êµ¬í˜„í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤.\n\n```c++\n// File: \"very_simple_switch_impl.p4\"\n# include \u003ccore.p4\u003e\n# include \"very_simple_switch_model.p4\"\n\n// í•´ë‹¹ programì€ packetì—ì„œ IPv4ì™€ \n// ethernet headerë¥¼ ê°€ì ¸ì™€\n// destination IPì— ê¸°ë°˜í•˜ì—¬ packetì„ \n// forwardingí•˜ëŠ” ê²ƒì„ ëª©ì ìœ¼ë¡œ í•œë‹¤.\n\ntypedef bit\u003c48\u003e EthernetAddress;\ntypedef bit\u003c32\u003e IPv4Address;\n\n// Standard Ethernet header\nheader Ethernet_h {\n  EthernetAddress dstAddr;\n  EthernetAddress srcAddr;\n  bit\u003c16\u003e         etherType;\n}\n\n// IPv4 header (without option)\nheader IPv4_h {\n  bit\u003c4\u003e      version;\n  bit\u003c4\u003e      ihl;\n  bit\u003c8\u003e      diffserv;\n  bit\u003c16\u003e     totalLen;\n  bit\u003c16\u003e     identification;\n  bit\u003c3\u003e      flags;\n  bit\u003c13\u003e     fragOffset;\n  bit\u003c8\u003e      ttl;\n  bit\u003c8\u003e      protocol;\n  bit\u003c16\u003e     hdrChecksum;\n  IPv4Address srcAddr;\n  IPv4Address dstAddr;\n}\n\n// packetì—ì„œ ì¶”ì¶œí•œ headerí˜•íƒœì˜ êµ¬ì¡°ì²´\nstruct Parsed_packet {\n  Ethernet_h ethernet;\n  IPv4_h     ip;\n}\n\n/* Parser Section */\n\n// Programmerì— ì˜í•´ì„œ ì •ì˜ëœ errorë¡œ \n// parsing ë„ì¤‘ì— ì´ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.\nerror {\n  IPv4OptionsNotSupported,\n  IPv4IncorrectVersion,\n  IPv4ChecksumError\n}\n\n/**\n * @param b ë“¤ì–´ì˜¤ëŠ” packet\n * @param p parsingí•´ì„œ ë‚˜ê°ˆ packet Header\n */\nparser TopParser(packet_in b, out Parsed_packet p) {\n  Checksum16() ck; // checksum blockì„ instantiating\n\n  state start {\n    b.extract(p.ethernet); // pì˜ ethernet ë¶€ë¶„ì„ bì—ì„œ ì¶”ì¶œ\n    transition select(p.ethernet.etherType) {\n      0x800: parse_ipv4; // forward packet to parse_ipv4\n      // default ruleì´ ì—†ê¸° ë•Œë¬¸ì— 0x800(ethernet)ì„ \n      // ì œì™¸í•œ packetì„ ëª¨ë‘ rejected ëœë‹¤.\n    } \n  }\n\n  state parse_ipv4 {\n    b.extract(p.ip);\n    verify(p.ip.version == 4w4, error.IPv4IncorrectVersion);\n    verify(p.ip.ihl == 4w5, error.IPv4OptionsNotSupported);\n    ck.clear();\n    ck.update(p.ip);\n    verify(ck.get() == 16w0, error.IPv4ChecksumError);\n    transition accept; // ë‹¤ìŒ blockìœ¼ë¡œ outì„ forwarding\n  }\n}\n\n/* Match-action Pipeline Section */\n\ncontrol TopPipe(inout Parsed_packet headers, \n                in error parseError,\n                in InControl inCtrl,\n                out OutControl outCtrl) {\n  IPv4Address nextHop;\n\n  action Drop_action() { outCtrl.outputPort = DROP_PORT; }\n\n  action Set_nhop(IPv4Address ipv4_dest, PortId port) {\n    nextHop = ipv4_dest;\n    headers.ip.ttl = headers.ip.ttl - 1;\n    outCtrl.outputPort = port;\n  }\n\n  table ipv4_match {\n    // lpm : longest-prefix match\n    key = { headers.ip.dstAddr: lpm; }\n    // í•´ë‹¹ í…Œì´ë¸”ì—ì„œ keyì— ëŒ€ì‘í•  ìˆ˜ ìˆëŠ” actionì˜ listì´ë‹¤. \n    // í•´ë‹¹ tableì€ í›„ì— controllerì— ì˜í•´ì„œ ì±„ì›Œì§„ë‹¤.\n    // ì¦‰, í…Œì´ë¸”ì€ p4 prgrammingì„ í†µí•´ì„œ ì±„ìš°ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.\n    actions = {\n      Drop_action;\n      Set_nhop;\n    }\n    size = 1024;\n    default_action = Drop_action;\n  }\n\n  action Send_to_cpu() {\n    outCtrl.outputPort = CPU_OUT_PORT;\n  }\n\n  table check_ttl {\n    // exact : ì •í™•íˆ ì¼ì¹˜í•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì¸\n    key = { headers.ip.ttl: exact; }\n    actions = { \n      Send_to_cpu;\n      NoAction;\n    }\n    const default_action = NoAction;\n  }\n\n  action Set_dmac(EthernetAddress dmac) {\n    headers.ethernet.dstAddr = dmac;\n  }\n  \n  table dmac {\n    key = { NextHop: exact; }\n    actions = {\n      Drop_action;\n      Set_dmac;\n    }\n    size = 1024;\n    default_action = Drop_action;\n  }\n\n  action Set_smac(EthernetAddress smac) {\n    headers.ethernet.srcAddr = smac;\n  }\n  \n  table smac {\n    key = { outCtrl.outputPort: exact; }\n    actions = {\n      Drop_action;\n      Set_smac;\n    }\n    size = 16;\n    default_action = Drop_action;\n  }\n\n  apply {\n    if (parseError != error.NoError) {\n      Drop_actrion();\n      return;\n    }\n\n    ipv4_match.apply();\n    if (outCtrl.outputPort == DROP_PORT) return;\n\n    check_ttl.apply();\n    if (outCtrl.outputPort == CPU_OUT_PORT) return;\n\n    dmac.apply();\n    if (outCtrl.outputPort == DROP_PORT) return;\n\n    smac.apply();\n  }\n}\n\n/* Deparser Section */\n\ncontrol TopDeparser(inout Parsed_packet p, packet_out b) {\n  Checksum16() ck;\n  apply {\n    b.emit(p.ethernet);\n    if (p.ip.isValid()) {\n      ck.clear();\n      p.ip.hdrChecksum = 16w0;\n      ck.update(p.ip);\n      p.ip.hdrChecksum = ck.get();\n    }\n    b.emit(p.ip);\n  }\n}\n\n// VSS packetë¥¼ Instantiate\nVSS(TopParser(), TopPipe(), TopDeparser()) main;\n```\n\nì—¬ê¸°ê¹Œì§€ê°€ ê¸°ë³¸ì ì¸ P4ì— ëŒ€í•œ ì„¤ëª…ì´ë‹¤. í›„ì— ì „ë°˜ì ì¸ ë¬¸ë²•ê³¼ ì‘ì„±ë²•ì— ëŒ€í•œ ê°€ì´ë“œë¥¼ ì‘ì„±í•˜ë„ë¡ í•˜ê² ë‹¤.\n","slug":"p4","date":"2022-06-09 17:29","title":"P4","category":"Network","tags":["SDN","P4","ProgrammableSwitch","DataPlane","OpenFlow"],"thumbnailSrc":"https://euidong.github.io/images/p4-icon.png"},{"content":"\n## Reference\n\n- Thumbnail : Photo by [Alina Grubnyak](https://unsplash.com/@alinnnaaaa?utm_source=unsplash\u0026utm_medium=referral\u0026utm_content=creditCopyText) on [Unsplash](https://unsplash.com/s/photos/virtual-network?utm_source=unsplash\u0026utm_medium=referral\u0026utm_content=creditCopyText)\n\nSDNì„ ì‹¤ì œ êµ¬í˜„í•˜ëŠ” ê²ƒì€ êµ‰ì¥íˆ ì–´ë ¤ìš´ ì¼ì´ë‹¤. ë”°ë¼ì„œ, Mininetì„ í™œìš©í•˜ì—¬ ê°€ìƒì˜ Topologyë¥¼ í†µí•´ì„œ ë¨¼ì € í…ŒìŠ¤íŒ…ì„ í•œ í›„ì— ì‹¤ì œë¡œ ì ìš©í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤.\n\në”°ë¼ì„œ, í•´ë‹¹ Postingì—ì„œëŠ” `Mininet`, `OpenFlow`, `Open VSwitch`, `ONOS`ë¥¼ ì´ìš©í•˜ì—¬ ê°„ë‹¨í•œ Tutorialì„ ìˆ˜í–‰í•´ë³¼ ê²ƒì´ë‹¤. ì´ Postingì„ í†µí•´ì„œ ë‚¨ê¸°ê³ ì í•˜ëŠ” ê²ƒì€ SDNì„ í…ŒìŠ¤íŒ…í•˜ëŠ” ì ˆì°¨ë¥¼ ìµíˆëŠ” ê²ƒì´ë‹¤.\n\n## 0. Tools\n\në¨¼ì € ì‘ì„±ìì˜ ì‹¤í–‰í™˜ê²½ì€ MAC OS Xë¡œ ëŒ€ë¶€ë¶„ì˜ ì„¤ì •ì€ ëª¨ë‘ ë™ì¼í•˜ì§€ë§Œ `XTerminal`ì€ Window/MACì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— Window ì „ìš©ì„ ì„¤ì¹˜í•´ì•¼ í•œë‹¤.\n\n- Host Machine\n  - Virtual Box : [ğŸ”— Download](https://www.virtualbox.org/wiki/Downloads) [ğŸ”— ê³µì‹ì‚¬ì´íŠ¸](https://www.virtualbox.org/)\n    - VMì„ ì‹¤í–‰ì‹œí‚¤ê¸° ìœ„í•œ ë„êµ¬, OpenSourceì´ë©° ë¬´ë£Œì´ê¸° ë•Œë¬¸ì— ë§ì´ ì‚¬ìš©ëœë‹¤.(v6.1)\n  - Vagrant : [ğŸ”— Download](https://www.vagrantup.com/downloads) [ğŸ”— ê³µì‹ì‚¬ì´íŠ¸](https://www.vagrantup.com/)\n    - Virtual Environment êµ¬ì¶•ì„ ìë™í™”í•˜ëŠ” ë„êµ¬(v2.2.19)\n  - XQuartz : [ğŸ”— Download](https://www.xquartz.org/releases/index.html) [ğŸ”— ê³µì‹ì‚¬ì´íŠ¸](https://www.xquartz.org/)\n    - XTerminal ì‹œìŠ¤í…œìœ¼ë¡œ ì›ê²©ìœ¼ë¡œ Graphic ì‹œìŠ¤í…œì„ í˜¸ìŠ¤íŒ…í•˜ëŠ” ë„êµ¬ì´ë‹¤. ì¦‰, `ssh`ë¡œ ì ‘ì†í•œ ì‹œìŠ¤í…œì—ì„œ ì¶”ê°€ì ìœ¼ë¡œ terminalì„ ìƒì„±í•˜ê±°ë‚˜ GUIë¥¼ ìš”êµ¬í•˜ëŠ” applicationì„ ì‹¤í–‰ì‹œí‚¬ ë•Œ ì´ë¥¼ host machineì—ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ”ë‹¤.(v2.8.1)\n- Virtual Machine\n  - Mininet : [ğŸ”— Download](http://mininet.org/download/) [ğŸ”— ê³µì‹ì‚¬ì´íŠ¸](http://mininet.org/)\n    - Network Topologyë¥¼ ê°€ìƒìœ¼ë¡œ êµ¬ì„±í•  ë¿ë§Œ ì•„ë‹ˆë¼ ì¶”ê°€ì ì¸ configuration / testingì´ ê°€ëŠ¥í•œ Virtual Environment Emulator(v2.3.0)\n  - OpenVSwitch : [ğŸ”— Download](https://www.openvswitch.org/download/) [ğŸ”— ê³µì‹ì‚¬ì´íŠ¸](https://www.openvswitch.org/)\n    - Virtual Switchë¥¼ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆëŠ” toolì´ë‹¤. ì´ë¥¼ í†µí•´ì„œ, Virtual Machine ë‚´ë¶€ì—ì„œ Virtual Switchë¥¼ ê°€ë™ì‹œí‚¬ ìˆ˜ ìˆë‹¤.OpenFlow Protocolì— ê¸°ë°˜í•œ ë‹¤ì–‘í•œ APIë¥¼ ë‚´ì¬í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ì´ë¥¼ í†µí•´ì„œ Virtual Switchì˜ Configuration ë“±ê³¼ ê°™ì€ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ë„ ìˆë‹¤.(v2.9.8)\n  - ONOS : [ğŸ”— Download](https://wiki.onosproject.org/download/) [ğŸ”— ê³µì‹ì‚¬ì´íŠ¸](https://wiki.onosproject.org/)\n    - Open Network Operation Systemìœ¼ë¡œ SDNì˜ Controller ì—­í• ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤. ë¿ë§Œ ì•„ë‹ˆë¼ WEB Interfaceë„ ì œê³µí•˜ë©°, ë‹¤ì–‘í•œ APIë¥¼ ì¶”ê°€ì ìœ¼ë¡œ ì œê³µí•˜ê¸° ë•Œë¬¸ì— ìœ ìš©í•˜ë‹¤.(v2.5.7)\n\n## 1. Setup\n\nìœ„ì— ì œì‹œí•œ Toolì„ ëª¨ë‘ `Virtual Machine` ë‚´ë¶€ì— ì„¤ì¹˜í•´ì•¼í•˜ì§€ë§Œ, ìë™ìœ¼ë¡œ í•´ë‹¹ toolì„ ì„¤ì¹˜í•˜ëŠ” `Vagrantfile`ì„ ë§Œë“¤ì–´ë†“ì•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©í•´ë„ ì¢‹ì„ ê²ƒì´ë‹¤. í•´ë‹¹ VagrantFileë¡œ buildí•˜ë©´ ì‹œê°„ì´ êµ‰ì¥íˆ ì†Œìš”ë  ìˆ˜ ìˆë‹¤. (ì¸í„°ë„· ìƒíƒœì— ë”°ë¼ ì²œì°¨ë§Œë³„ì´ì§€ë§Œ, ëŒ€ëµ 20ë¶„?)\n\n```bash\n$ git clone https://github.com/euidong/virtual-sdn-boilerplate\n$ cd virtual-sdn-boilerplate\n$ vagrant up\n# ì ‘ì†\n$ vagrant ssh\n```\n\n\u003e **Run ONOS**\n\n```bash\n# In Virtual Machine\n$ cd $ONOS_ROOT\n$ bazel run onos-local\n```\n\n## 2. Scenarioë¥¼ ì‘ì„±\n\nìš°ì„  ì–´ë–¤ ìƒí™©ì„ **emulation**í•  ê²ƒì¸ì§€ì— ëŒ€í•œ êµ¬ì²´ì ì¸ ê³„íšì´ í•„ìš”í•˜ë‹¤. ë”°ë¼ì„œ, ì´ë¥¼ ë¨¼ì € êµ¬ìƒí•´ë³´ì. ì•„ë˜ ì˜ˆì‹œëŠ” ë‹¨ìˆœíˆ ë‚´ê°€ ìƒê°í•œ ì˜ˆì‹œì´ë¯€ë¡œ ì •í™•ì„±ì´ëŸ° ê²ƒì€ ìƒê°í•˜ê¸° ë³´ë‹¤ëŠ” íë¦„ë§Œì„ ìµí˜€ë³´ì.\n\n```plaintext\nğŸ’¡ Base Scenario\n\n1. í›„ì§€ì‚° ì¸ê·¼ì—ì„œ ê³„ì†í•´ì„œ í™”ì‚°í™œë™ì´ ê°ì§€ë˜ê³  ìˆë‹¤. ë˜í•œ, í›„ì§€ì‚°ì€ 100ë…„ ë‹¨ìœ„ë¡œ í­ë°œì„ í•´ì™”ëŠ”ë° ìµœê·¼ 170ì—¬ ë…„ ë™ì•ˆ í­ë°œì´ ì¡´ì¬í•˜ì§€ ì•Šê³  ìˆë‹¤. ì´ë¡œ ë¯¸ë£¨ì–´ë³´ì•˜ì„ ë•Œ í›„ì§€ì‚°ì˜ í™”ì‚°í­ë°œì€ ì–¼ë§ˆ ë‚¨ì§€ ì•Šì•˜ì„ ê²ƒì´ë¼ê³  ì¶”ì¸¡í•  ìˆ˜ ìˆë‹¤.\n2. í›„ì§€ì‚°ì—ì„œ í­ë°œì´ ë°œìƒí•˜ëŠ”ì§€ë¥¼ íŒŒì•…í•˜ê¸° ìœ„í•´ì„œ ê³³ê³³ì— ê´€ì¸¡ê¸°ê°€ í•„ìš”í•˜ë©°, ì´ë¥¼ ë¶„ì„í•  ì„¼í„°ê°€ ì•ˆì „ì„ ìœ„í•´ í›„ì§€ì‚° ì•„ë˜ì— ì¡´ì¬í•˜ë©° ë°±ì—… ì„œë²„ë¥¼ ë³„ë„ë¡œ ë‹¤ë¥¸ ê³µê°„ì— ë‘ê³  ìˆë‹¤.\n3. ê° ê´€ì¸¡ì†Œì—ì„œ ì„œë¡œ ê°„ ë°ì´í„° ê³µìœ ë„ ê³„ì†í•´ì„œ ë°œìƒí•˜ëŠ” ê²½ìš°ê°€ ë¹ˆë²ˆí•˜ë‹¤. =\u003e Horizontal trafficì´ ë§ë‹¤ -\u003e datacenterì™€ ìœ ì‚¬í•œ í˜•íƒœì˜ Network -\u003e Spine-Leaf êµ¬ì¡°ê°€ ì ì ˆ.\n```\n\n## 3. Topology êµ¬ì„± with Mininet\n\në¨¼ì €, topologyë¥¼ ì‘ì„±í•´ì•¼í•œë‹¤. ì´ë¥¼ ìœ„í•´ì„œ `Mininet`ì„ í™œìš©í•œë‹¤. ì´ì— ëŒ€í•œ ê°œë… ì •ë¦¬ëŠ” [ğŸ”— Mininet](/posts/mininet)ì•  í•´ë‘ì—ˆë‹¤. Base Scenarioì˜ 3ë²ˆ ì‚¬í•­ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´ ìš°ë¦¬ì˜ TopologyëŠ” Spine-Leaf êµ¬ì¡°ë¥¼ ê°–ëŠ” ê²ƒì´ ì ì ˆí•˜ë‹¤. ë”°ë¼ì„œ, ì´ë¥¼ ë¨¼ì € í‘œí˜„í•´ë³´ë„ë¡ í•˜ê² ë‹¤.\n\n\u003e **Source Code**\n\n- `/vagrant/example/mt-fuji/topo.py`\n\n```python\nfrom mininet.topo import Topo\n\nclass SpineLeaf(Topo):\n  def build(self):\n    s_num = 2\n    l_num = 5\n    h_num = 2\n    spines = []\n    leaves = []\n    hosts = []\n\n    for i in range(s_num):\n      spines.append(self.addSwitch('s%s%s' % (1, i+1)))\n    for i in range(l_num):\n      leaves.append(self.addSwitch('l%s%s' % (2, i+1)))\n      for j in range(s_num):\n        self.addLink(spines[j], leaves[i])\n      for j in range(h_num):\n        hosts.append(self.addHost('h%s%s' % (i+1, j+1)))\n        self.addLink(leaves[i], hosts[i * h_num + j])\n\ntopos = { 'spineleaf': (lambda: SpineLeaf()) }\n```\n\n- ì‹¤í–‰\n\n```bash\n$ sudo mn --mac --controller remote --switch ovs --custom /vagrant/example/mt-fuji/topo.py --topo=spineleaf\n```\n\n- ì‹¤í–‰ ê²°ê³¼\n  - ë¹¨ê°„ìƒ‰ : `Spine Switch`\n  - ì²­ë¡ìƒ‰ : `Leaf Switch`\n\n![Spine-Leaf Topology](/images/spine-leaf-topo.png)\n\n## 4. Test í™˜ê²½êµ¬ì¶•\n\nì£¼ë¡œ ì‚¬ìš©ë˜ëŠ” Test í™˜ê²½ìš© ë„êµ¬ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n1. `ping` : íŠ¹ì • machine ê°„ì˜ ì—°ê²° ìƒíƒœë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ ë§ì´ ì‚¬ìš©ë˜ì–´ì§„ë‹¤.\n2. `trace` : `ping`ê³¼ ìœ ì‚¬í•˜ì§€ë§Œ ì§€ë‚˜ì³ê°„ `hop`ì„ ëª¨ë‘ ì¡°íšŒ ê°€ëŠ¥í•˜ì—¬ ì¢€ ë” ì„¸ë¶€ì ì¸ ê²½ë¡œë¥¼ í™•ì¸í•  ë•Œ ìœ ìš©í•˜ë‹¤.\n3. `iperf` : clientì™€ server êµ¬ì¡°ë¡œ ì´ë£¨ì–´ì§€ë©°, `tcp`, `udp` packetì„ ì „ì†¡í•  ìˆ˜ ìˆë‹¤. íŠ¹ì • machineì—ì„œëŠ” `server`ë¡œ ì‹¤í–‰ì‹œí‚¤ê³ , ë‹¤ë¥¸ machineì—ì„œ í•´ë‹¹ `server`ë¡œ dataë¥¼ ë³´ë‚´ë„ë¡ í•  ìˆ˜ ìˆë‹¤. `ping`ë³´ë‹¤ ì£¼ê¸°ì ìœ¼ë¡œ, ëŒ€ìš©ëŸ‰ì˜ ë°ì´í„°ë¥¼ ë³´ë‚´ê³  ê´€ì¸¡í•  ìˆ˜ ìˆë‹¤.\n4. `wireshark` : ì‹¤ì ¤ trafficì˜ ì´ë™ì„ GUIë¡œ ë³¼ ìˆ˜ ìˆë„ë¡ ë•ëŠ” ë„êµ¬ì´ë‹¤.\n5. `ONOS WEB GUI` : ONOSì—ì„œëŠ” Webì„ í†µí•´ì„œ Network ìƒíƒœì™€ Trafficì„ ê´€ì¸¡í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.\n\nì—¬ê¸°ì„œëŠ” `iperf`ë¥¼ í†µí•´ì„œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê³ , `ONOS WEB GUI`ë¥¼ í†µí•´ì„œ trafficì„ ê´€ì¸¡í•  ê²ƒì´ë‹¤.\n\nì•„ë˜ commandë¥¼ í†µí•´ì„œ `h51`ê°€ ìœ„ì—ì„œ ì–¸ê¸‰í•œ í›„ì§€ì‚° ì•„ë˜ì˜ ì„œë²„ê°€ ë˜ê³ , `h52`ê°€ ë°±ì—… ì„œë²„ê°€ ë˜ëŠ” ìƒí™©ì„ ê°€ì •í•˜ê¸° ìœ„í•´ì„œ í•´ë‹¹ ë‘ ìœ„ì¹˜ë¥¼ `iperf server`ë¡œ ì§€ì •í•œë‹¤. ê·¸ë¦¬ê³  ëª¨ë“  ê´€ì¸¡ì†Œ(`h11`, `h12`, ..., `h41`, `h42`)ì—ì„œ `iperf client`ê°€ ë˜ì–´ trafficì„ ì£¼ê¸°ì ìœ¼ë¡œ ë³´ë‚´ë„ë¡ ì„¤ì •í•œë‹¤.\n\n```bash\nmininet\u003e h51 iperf -s -u \u0026\nmininet\u003e h52 iperf -s -u \u0026\n\n# xterm ëª…ë ¹ì–´ëŠ” hostì— ìœ„ì—ì„œ ì„¤ëª…í•œ XQuartzê°€ ì •ìƒì ìœ¼ë¡œ ì„¤ì¹˜ë˜ì–´ìˆì–´ì•¼ ì‘ë™í•œë‹¤.\nmininet\u003e xterm h11 h12 h21 h22 h31 h32 h41 h42\n\n# ê° clientì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ìš”ì²­ì„ ì „ì†¡í•œë‹¤.\n$ iperf -u -c 10.0.0.9 -i1 -t100000000000\n```\n\n![ONOSì—ì„œ í™•ì¸í•œ ëª¨ìŠµ](/images/sdn-tuto-example-1.png)\n\n## 5. Flow Control\n\nê¸°ë³¸ì ìœ¼ë¡œ Flowë¥¼ ì œì–´í•  ìˆ˜ ìˆëŠ” ë°©ì‹ì€ í•´ë‹¹ Settingì„ ìˆ˜í–‰í•¼ ë•Œ, 3ê°€ì§€ ë°©ë²•ì´ ìˆë‹¤.\n\n1. Open vSwitch CLI : OpenFlow Protocolì— ê¸°ë°˜í•œ ì—¬ëŸ¬ CLI ëª…ë ¹ì–´ë¥¼ ì§€ì›í•œë‹¤. ì´ë¥¼ í†µí•´ì„œ, Flow Tableì„ ì§ì ‘ ì‘ì„±í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.\n2. ONOS REST API : ONOS REST APIë¥¼ í†µí•´ì„œ ì œì–´ê°€ ê°€ëŠ¥í•˜ë‹¤. ì´ë•Œì—ëŠ” ONOSê°€ high levelë¡œ ì¶”ìƒí™”í•œ flow control ë°©ì‹ì„ í™œìš©í•´ì•¼ í•œë‹¤.(ex. intent) ì´ëŠ” ONOSë¥¼ ì‹¤í–‰í•˜ê³  ìˆë‹¤ë©´, ë‹¤ìŒ urlì—ì„œ í™•ì¸ì´ ê°€ëŠ¥í•˜ë‹¤. [http://localhost:8181/onos/v1/docs/](http://localhost:8181/onos/v1/docs/)\n3. ONOS CLI : ONOS CLI ëª…ë ¹ì–´ë¥¼ í†µí•´ì„œ ì œì–´ê°€ ê°€ëŠ¥í•˜ë‹¤.\n\nì´ì œë¶€í„° í•´ë‹¹ ì„¸ê°€ì§€ ë°©ì‹ì„ ì ì ˆíˆ í™œìš©í•˜ì—¬ ì„¤ì •í•˜ì—¬ ê° Simulation ë³„ë¡œ ìˆ˜í–‰ì„ í•´ë³´ë„ë¡ í•˜ê² ë‹¤.\n\n### Scenario 1\n\n\u003e **ì¤‘ê°„ì— linkê°€ ëŠì–´ì§„ ê²½ìš° with ONOS CLI**\n\n![sdn-tuto-scenario-1](/images/sdn-tuto-scenario-1.png)\n\në¨¼ì € ëª¨ë“  hostì—ì„œ serverë¡œ trafficì„ ì¤‘ê³„í•´ì¤„ ìˆ˜ ìˆë„ë¡ ë‹¤ìŒê³¼ ê°™ì´ intentë¥¼ ì„¤ì •í•´ì¤„ ìˆ˜ ìˆë‹¤. íŠ¹ì • hostê°„ì˜ intentë¥¼ ì„¤ì •í•˜ë©´ ìë™ìœ¼ë¡œ ê²½ë¡œë¥¼ ì°¾ì•„ì„œ routingì„ ìˆ˜í–‰í•´ì¤€ë‹¤. ë˜í•œ, íŠ¹ì • ì—°ê²°ì´ ì¤‘ê°„ì— ì‚¬ë¼ì ¸ë„ ìë™ìœ¼ë¡œ ê²½ë¡œë¥¼ ì¬ì„¤ì •í•œë‹¤.\n\n```bash\nonos\u003e add-host-intent 00:00:00:00:00:01/None 00:00:00:00:00:09/None\nonos\u003e add-host-intent 00:00:00:00:00:02/None 00:00:00:00:00:09/None\nonos\u003e add-host-intent 00:00:00:00:00:03/None 00:00:00:00:00:09/None\nonos\u003e add-host-intent 00:00:00:00:00:04/None 00:00:00:00:00:09/None\nonos\u003e add-host-intent 00:00:00:00:00:05/None 00:00:00:00:00:09/None\nonos\u003e add-host-intent 00:00:00:00:00:06/None 00:00:00:00:00:09/None\nonos\u003e add-host-intent 00:00:00:00:00:07/None 00:00:00:00:00:09/None\nonos\u003e add-host-intent 00:00:00:00:00:08/None 00:00:00:00:00:09/None\n```\n\nì´ í›„ì— mininetì—ì„œ íŠ¹ì • linkë¥¼ ë¹„í™œì„±í™”ì‹œí‚¨ë‹¤.\n\n```bash\nmininet\u003e link s11 l25 down\n```\n\n![sdn-tuto-scenario-1-result](/images/sdn-tuto-scenario-1-result.png)\n\n### Scenario 2\n\n\u003e **Load Balancingì„ í†µí•´ì„œ ì¸¡ì • ë°ì´í„° ê³ ë¥´ê²Œ ë¶„ë°° with Open Vswitch CLI**\n\n![sdn-tuto-scenario-2](/images/sdn-tuto-scenario-2.png)\n\nì´ì „ Scenarioì˜ intentë¥¼ ìœ ì§€í•œ ìƒíƒœì—ì„œ OpenFlowì˜ Group Tableì˜ `select` typeì„ í™œìš©í•˜ë©´, Load Balancingì´ ê°€ëŠ¥í•˜ë‹¤. ë¨¼ì €, ONOS CLIì—ì„œ ì™¸ë¶€ flowRuleë„ ë°›ì•„ë“¤ì´ë„ë¡ ì„¤ì •í•œ í›„\n\n```bash\n$ onos localhost\nonos\u003e cfg set org.onosproject.net.flow.impl.FlowRuleManager allowExtraneousRules True\n```\n\në‹¤ìŒê³¼ ê°™ì´ group entry ìƒì„± ë° flowì¶”ê°€ë¡œ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤.\n\n```bash\n$ sudo ovs-ofctl add-group l21 \\\n  \"group_id=1,type=select,bucket=output:1,bucket=output:2\" -O OpenFlow11\n$ sudo ovs-ofctl add-flow l21 in_port=3,actions=group:1 -O OpenFlow11\n$ sudo ovs-ofctl add-flow l21 in_port=4,actions=group:1 -O OpenFlow11\n\n$ sudo ovs-ofctl add-group l22 \\\n  \"group_id=1,type=select,bucket=output:1,bucket=output:2\" -O OpenFlow11\n$ sudo ovs-ofctl add-flow l22 in_port=3,actions=group:1 -O OpenFlow11\n$ sudo ovs-ofctl add-flow l22 in_port=4,actions=group:1 -O OpenFlow11\n\n$ sudo ovs-ofctl add-group l23 \\\n  \"group_id=1,type=select,bucket=output:1,bucket=output:2\" -O OpenFlow11\n$ sudo ovs-ofctl add-flow l23 in_port=3,actions=group:1 -O OpenFlow11\n$ sudo ovs-ofctl add-flow l23 in_port=4,actions=group:1 -O OpenFlow11\n\n$ sudo ovs-ofctl add-group l24 \\\n  \"group_id=1,type=select,bucket=output:1,bucket=output:2\" -O OpenFlow11\n$ sudo ovs-ofctl add-flow l24 in_port=3,actions=group:1 -O OpenFlow11\n$ sudo ovs-ofctl add-flow l24 in_port=4,actions=group:1 -O OpenFlow11\n```\n\n![sdn-tuto-scenario-2-result](/images/sdn-tuto-scenario-2-result.png)\n\n### Scenario 3\n\n\u003e **h51ì´ downë˜ì–´ h52ë¡œ traffic redirection with Open Vswitch CLI**\n\n![sdn-tuto-scenario-3](/images/sdn-tuto-scenario-3.png)\n\nserverë¡œ ê°€ëŠ” Leaf Switchì—ì„œ packetì˜ IP, MAC ì£¼ì†Œë¥¼ ë³€ê²½í•˜ì—¬ Redirectionì´ ê°€ëŠ¥í•˜ë‹¤.\n\n```bash\n$ sudo ovs-ofctl add-flow l25 \\\n  \"in_port=1, dl_dst=00:00:00:00:00:09,\n   actions=mod_dl_dst:00:00:00:00:00:10,mod_nw_dst:10.0.0.10,output:4\"\n$ sudo ovs-ofctl ad-flow l25 \\\n  \"in_port=4, dl_src=00:00:00:00:00:10,\n   actions=mod_dl_src:00:00:00:00:00:09,mod_nw_dst:10.0.0.9,output:1\"\n```\n\n![sdn-tuto-scenario-3-result](/images/sdn-tuto-scenario-3-result.png)\n\n### Scenario 4\n\n\u003e **Meterë¥¼ ì´ìš©í•´ì„œ ê´€ì¸¡ì†Œë¡œ ê°€ëŠ” ê³¼ë„í•œ traffic ì°¨ë‹¨ with ONOS REST API**\n\n![sdn-tuto-scenario-4](/images/sdn-tuto-scenario-4.png)\n\níŠ¹ì • Switchì—ì„œ íŠ¹ì • portë¡œ ë‚˜ê°€ëŠ” trafficì˜ ìµœëŒ€ê°’ì„ `500KB/s`ë¡œ ì œí•œí•˜ëŠ” ì˜ˆì‹œì´ë‹¤.\n\n- Meterë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ REST API  \n  **`/meters/of:000000000000000c`ë¡œ POST ìš”ì²­**\n\n```json\n{\n  \"deviceId\": \"of:000000000000000c\",\n  \"unit\": \"KB_PER_SEC\",\n  \"burst\": true,\n  \"bands\": [\n    {\n      \"type\": \"DROP\",\n      \"rate\": 500,\n      \"burstSize\": 0,\n      \"prec\": 0\n    }\n  ]\n}\n```\n\n- Meterë¥¼ íŠ¹ì • Switchì— ì ìš©í•˜ê¸° ìœ„í•œ REST API  \n  **`/flows/of:000000000000000c?appId=meter`ë¡œ POST ìš”ì²­**\n\n```json\n{\n  \"priority\": 40000,\n  \"isPermanent\": true,\n  \"deviceId\": \"of:000000000000000c\",\n  \"treatment\": {\n    \"instructions\": [\n      {\n        \"type\": \"METER\",\n        \"meterId\": \"1\"\n      },\n      {\n        \"type\": \"OUTPUT\",\n        \"port\": \"2\"\n      }\n    ]\n  },\n  \"selector\": {\n    \"criteria\": [\n      {\n        \"type\": \"ETH_TYPE\",\n        \"ethType\": \"0x0800\"\n      }\n    ]\n  }\n}\n```\n\n![sdn-tuto-scenario-4-result](/images/sdn-tuto-scenario-4-result.png)\n","slug":"sdn-tutorial","date":"2022-06-03 19:54","title":"SDN Tutorial","category":"Network","tags":["SDN","Mininet","OpenFlow","ONOS","OpenVSwitch"],"thumbnailSrc":"https://euidong.github.io/images/sdn-tuto-hero.jpg"},{"content":"\n## Reference\n\n- Thumbnail : Photo by [Nick Seagrave](https://unsplash.com/@seagrave?utm_source=unsplash\u0026utm_medium=referral\u0026utm_content=creditCopyText) on [Unsplash](https://unsplash.com/s/photos/route?utm_source=unsplash\u0026utm_medium=referral\u0026utm_content=creditCopyText)\n\n## Routing Vs Switching Vs Forwarding\n\në§¤ìš° ìœ ì‚¬í•œ ê°œë…ì´ì§€ë§Œ ì´ì— ëŒ€í•´ì„œ ì•Œì•„ë‘ê³  ê°€ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\n\n- `Switching` : Inbound Interfaceì—ì„œ Outbound Interfaceë¡œ packetë“¤ì„ ì „ì†¡ ì‹œí‚¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ì¦‰, í•˜ë‚˜ì˜ ê¸°ê¸° ë‚´ë¶€ì—ì„œ ë°œìƒí•˜ëŠ” ì¼ì„ ì˜ë¯¸í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.\n- `Forwarding` : í•œ ì¥ì¹˜ê°€ ëª©ì ì§€ë¡œ ê°€ëŠ” ê²½ë¡œì— ìˆëŠ” ë‹¤ìŒ ì¥ì¹˜ë¡œ packetì„ ì „ì†¡í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. í•˜ì§€ë§Œ, Switchingê³¼ ë™ì¼í•œ ëœ»ìœ¼ë¡œë„ ë§ì´ ì‚¬ìš©ëœë‹¤.\n- `Routing` : ë…¼ë¦¬ì ìœ¼ë¡œ Network Topologyë¥¼ í•™ìŠµí•˜ì—¬, ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìµœì ì˜ ê²½ë¡œë¥¼ ì°¾ì•„ ì´ë™í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ë”°ë¼ì„œ, ì „ì²´ì ì¸ ê¸¸ì„ ì°¾ëŠ” ê²ƒê³¼ ì´ë¥¼ ë”°ë¼ê°€ëŠ” ê³¼ì •ì„ ì˜ë¯¸í•œë‹¤.\n\n## Switch\n\nSwitchë¥¼ ë¶€ë¥´ëŠ” ëª…ì¹­ ì—­ì‹œ ë‹¤ì–‘í•˜ê³ , ìƒí™©ì— ë”°ë¼ ì—­í• ë„ ì–´ëŠì •ë„ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ì •ë¦¬ë¥¼ í•œë‹¤. ëŒ€ê²Œ OSI 7ê³„ì¸µì— ê¸°ë°˜í•˜ì—¬ ë¶„ë¥˜ë¥¼ í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤.\n\n- `L2 Switch` : Ethernet Switchë¥¼ ëŒ€ê²Œ ì˜ë¯¸í•˜ë©°, ì¼ë°˜ì ìœ¼ë¡œ Switchë¼ê³  ë¶€ë¥´ëŠ” ì¥ì¹˜ê°€ ì´ë¥¼ ì˜ë¯¸í•œë‹¤. MAC ì£¼ì†Œì— ê¸°ë°˜í•œ Forwardingì„ ìˆ˜í–‰í•˜ëŠ” ì¥ì¹˜ì´ë‹¤.\n- `L3 Switch` : Routerë¼ê³ ë„ ë¶ˆë¦¬ëŠ” ì¥ì¹˜ë¡œ, IP ì£¼ì†Œì— ê¸°ë°˜í•˜ì—¬ ìµœì ì˜ ê²½ë¡œë¥¼ í•™ìŠµí•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì„ í¬í•¨í•œ Switchì´ë‹¤.\n- `L4 Switch` : Port ë²ˆí˜¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ Switchingì„ ìˆ˜í–‰í•˜ëŠ” ì¥ì¹˜ë¡œ ëŒ€ê²Œ Machine ë‚´ë¶€ì—ì„œ Softwareì ìœ¼ë¡œ êµ¬í˜„í•˜ëŠ” Switchì¼ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤.\n- `L7 Switch` : Application Levelì—ì„œ ëª¨ë“  Trafficì„ ê´€ë¦¬ ë° URL, Cookie ê¸°ë°˜ìœ¼ë¡œ ììœ ë¡­ê²Œ Switchingì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ìƒê°í•˜ëŠ” Load Balancingê³¼ ê°™ì€ ì‘ì—…ë„ ì‰½ê²Œ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ Softwareì ìœ¼ë¡œ êµ¬í˜„ë˜ì–´ì§„ë‹¤.\n\n## Routing ì˜ì—­\n\nìš°ë¦¬ê°€ Routingì„ ìˆ˜í–‰í•˜ëŠ” ê²½ìš°ì— caseëŠ” í¬ê²Œ ë‘ ê°€ì§€ë¡œ ë‚˜ë‰˜ì–´ì§„ë‹¤. **AS ë‚´ë¶€ì¸ê°€? ì™¸ë¶€ì¸ê°€?** ì´ë‹¤. `AS`ë€ Autonomous Systemì˜ ì•½ìë¡œ í•˜ë‚˜ì˜ ê¸°ê´€ì—ì„œ ê´€ë¦¬í•˜ëŠ” IP subnetë“¤ê³¼ Routerë“¤ì˜ ì§‘í•©ì„ ì˜ë¯¸í•œë‹¤. ê° ASëŠ” ê³ ìœ  ì‹ë³„ê°’ì¸ ASN(AS Number)ì— ì˜í•´ì„œ ì‹ë³„ë˜ë©° ê° ê¸°ì—…, í†µì‹  ì‚¬ì—…ì, ëŒ€í•™, ì–¸ë¡  ê¸°ê´€ ë“±ì´ ì´ë¥¼ ê°–ê³  ìˆë‹¤. ì´ë ‡ê²Œ ê°™ì€ AS ë‚´ë¶€ì— ì¡´ì¬í•˜ëŠ” ê¸°ê¸° ê°„ì˜ Protocolì„ Interior Gateway Protocol(**IGP**)ì´ë¼ê³  í•˜ê³ , ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš° Exterior Gateway Protocol(**EGP**)ë¼ê³  í•œë‹¤.\n\n## Base\n\nê° Routing Protocolì— ëŒ€í•´ì„œ ìì„¸íˆ ì‚´í´ë³´ê¸°ì— ì• ì„œ ê¸°ë³¸ì ì¸ Network í™˜ê²½ì— ëŒ€í•œ ì´í•´ê°€ í•„ìš”í•˜ë‹¤. ê·¸ëŸ¬ê¸° ìœ„í•´ì„œ ì•„ë˜ ê°œë…ì— ëŒ€í•œ ìˆ™ì§€ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ì.\n\n1. MAC/IP  \n   MACì€ íŠ¹ì • Network ì—°ê²° ë‹¨ì(Network Interface Card, NIC)ì—ê²Œ ì£¼ì–´ì§€ëŠ” ê³ ìœ ê°’ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë‹¤. ê·¸ë ‡ê¸°ì— í•˜ë‚˜ì˜ ê¸°ê¸°ëŠ” í•˜ë‚˜ ì´ìƒì˜ NICë¥¼ ê°€ì§„ë‹¤ë©´, í•˜ë‚˜ ì´ìƒì˜ MAC addressë¥¼ ê°–ê²Œ ë˜ê³ , ì´ì— ë”°ë¼ íŠ¹ì • ê¸°ê¸°ë¥¼ ì •í™•í•˜ê²Œ ê°€ë¥´í‚¤ê¸° ìœ„í•´ì„œ IPv4 ì£¼ì†Œë¥¼ ì‚¬ìš©í•œë‹¤. ê·¸ëŸ¬ë‚˜, IP ë¶€ì¡± í˜„ìƒìœ¼ë¡œ ì¸í•´ í˜„ì¬ì—ëŠ” ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ì—ì„œëŠ” private IPë¼ëŠ” ë³„ë„ì˜ ì˜ì—­ìœ¼ë¡œ í‘œê¸°ë¥¼ í•˜ê³ , ë„¤íŠ¸ì›Œí¬ì˜ ëŒ€í‘œ IPë¥¼ ë‚´ì„¸ìš°ëŠ” ë°©ì‹ìœ¼ë¡œ ë³€í™”í•˜ì˜€ë‹¤. ì•„ì§ê¹Œì§€ëŠ” í° ë¬¸ì œê°€ ë°œìƒí•˜ê³  ìˆì§€ ì•Šì§€ë§Œ, í›„ì—ëŠ” IPv6ë¡œ ë„˜ì–´ê°€ì•¼í•  ìˆ˜ë„ ìˆë‹¤.\n2. Broadcast Address  \n   Networkì—ì„œ Trafficì„ Networkì— ì—°ê²°ëœ ëª¨ë“  Nodeì—ê²Œ ë³´ë‚´ì•¼í•  ê²½ìš°ê°€ ìˆë‹¤. ì´ë•Œ, ë§Œì•½ ëª¨ë“  IP addressë¥¼ 1ë¡œ í‘œê¸°í•œë‹¤ë©´, ì´ëŠ” ëª¨ë“  Networkë¥¼ í–¥í•œ Broadcast Requestë¡œ ë°›ì•„ë“¤ì—¬ì§„ë‹¤. ì´ˆê¸°ì— Networkì—ì„œëŠ” ëª¨ë“  ìš”ì²­ì´ Broadcastë˜ê³  ì´ë¥¼ ë°›ì€ ì‚¬ìš©ìê°€ ì·¨ì‚¬ ì„ íƒí•˜ëŠ” êµ¬ì¡°ë¥¼ ê°€ì¡Œì—ˆì§€ë§Œ, Broadcast ìš”ì²­ì´ loopê°€ ìƒê¸°ë©´ì„œ, Network ì „ì²´ë¥¼ ë§ˆë¹„ì‹œí‚¤ê±°ë‚˜ ë³´ì•ˆìƒ/ì„±ëŠ¥ìƒì˜ ë¬¸ì œë¡œ ì¸í•´ Broadcastë˜ëŠ” ì˜ì—­ì„ ì¤„ì´ê³ ì í•œë‹¤.\n3. Subnet  \n   Broadcast Trafficì´ ë§ì•„ì§„ë‹¤ëŠ” ê²ƒì€ Networkì˜ í˜¼ë€ì„ì•¼ê¸°í•  ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ, ì´ëŸ¬í•œ Broadcastì˜ ì˜ì—­ì„ ìµœì†Œí•œìœ¼ë¡œ í‘œí˜„í•˜ê³ ì Subnetì„ ì •ì˜í•˜ì˜€ë‹¤. ì¦‰, Networkë¥¼ ë” ì‘ì€ Subnetworkë¡œ ë‚˜ëˆ„ìëŠ” ê²ƒì´ë‹¤. ì´ë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•´ì„œ Subnet Maskë¼ëŠ” ê²ƒì„ í™œìš©í•˜ë©°, Network prefixë¥¼ ì´ìš©í•˜ì—¬, ì˜ì—­ì„ ëª…í™•í•˜ê²Œ êµ¬ë¶„í•œë‹¤. ê·¸ë¦¬ê³  ì´ë¥¼ í†µí•´ì„œ ë‚˜ë‰˜ì–´ì§„ Network ë¼ë¦¬ëŠ” ë‹¤ë¥¸ Broadcast ì˜ì—­ì„ ê°€ì§€ê²Œ ë˜ê³ , ì„œë¡œ Broadcast messageê°€ ì „íŒŒë˜ì§€ ì•ŠëŠ”ë‹¤. ì´ì— ë”°ë¼ ë‚˜ë‰˜ì–´ì§„ Networkì˜ ê°€ì¥ ë(All One Address)ëŠ” Broadcast addressê°€ ë˜ê³ , ê°€ì¥ ì²˜ìŒ(All Zero Address)ëŠ” Networkì˜ ì£¼ì†Œë¥¼ ê°€ë¥´í‚¤ëŠ” ê°’ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.  \n   í˜„ëŒ€ì—ëŠ” ì´ëŸ¬í•œ Subnetì„ í‘œê¸°í•  ë•Œ, ë³„ë„ì˜ Public IPë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ , Private IPë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤. ì´ë¥¼ í†µí•´ì„œ ë”ìš± IP addressë¥¼ ì ˆì•½í•  ìˆ˜ ìˆë‹¤. ì´ë¥¼ ìœ„í•´ì„œëŠ”, ì†¡ì‹  ì‹œ Router IPë¡œ Private IPë¥¼ ë°”ê¾¸ê³ , ì‘ë‹µì´ ëŒì•„ì™”ì„ ë•Œ ì›ë˜ Nodeë¡œ ëŒë ¤ì£¼ê¸° ìœ„í•œ ë²ˆì—­ ê³¼ì •ì´ í•„ìš”í•œë° ì´ë•Œ NAT(Network Address Translation) ê¸°ìˆ ì´ ì‚¬ìš©ëœë‹¤.\n4. CIDR  \n   Subnetì„ ë‚˜ëˆŒ ë•Œ, ìœ„ì—ì„œ IPë¥¼ êµ¬ë¶„í•  ë•Œ ì‚¬ìš©í•˜ëŠ” A(8bits prefix), B(16bits prefix), C(24bits prefix) classë¡œ ë‚˜ëˆ„ì–´ ì‚¬ìš©í–ˆì—ˆëŠ”ë°, ì´ëŸ¬í•œ ë²”ìœ„ê°€ Subnetì—ê²ŒëŠ” ë„ˆë¬´ ì»¸ê¸° ë•Œë¬¸ì— ì´ë¥¼ ì„ì˜ì˜ bit ë‹¨ìœ„ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ë°©ë²•ì´ë‹¤. ì´ë¥¼ í†µí•´ì„œ, Subnet ë²”ìœ„ë¥¼ ë” ì„¸ë¶„í™”í•  ìˆ˜ ìˆë‹¤.\n5. Loopback Address  \n   ìê¸° ìì‹ ì„ ê°€ë¥´í‚¤ëŠ” addrsssë¡œ ëŒ€ê²Œ `127.0.0.1`ì„ ì‚¬ìš©í•˜ëŠ”ë°, í•„ìš”ì— ë”°ë¼ íŠ¹ì • IPë¥¼ ë³„ë„ë¡œ ìê¸° ìì‹ ì„ ê°€ë¥´í‚¤ë„ë¡ ì„¤ì •í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤. ì´ëŠ” Network Testingì„ ìˆ˜í–‰í•  ë•Œ ì‚¬ìš©ë˜ëŠ”ë°, Routerì˜ Loopback Addressì™€ ì™¸ë¶€ ì¥ì¹˜ IP Addressì— pingì„ ë³´ë‚´ë©° í†µì‹  ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n6. Default Gateway  \n   Nodeì— ê°€ì¥ ê·¼ì ‘í•œ Routerì˜ ì£¼ì†Œë¥¼ ì˜ë¯¸í•˜ë©°, ì´ë¥¼ í†µí•´ì„œ Internetì— ì—°ê²°ëœë‹¤.\n7. Collision Domain / VLAN  \n   í•˜ë‚˜ì˜ hub(Switch ì´ì „ì— ë„ë¦¬ ì“°ì´ë˜ L2 ì¥ì¹˜, Switch Hubë¼ê³ ë„ ë¶€ë¦„)ë¡œ ì—°ê²°ëœ ì¥ì¹˜ëŠ” ì „ë‹¬ë˜ëŠ” ëª¨ë“  packetì„ í•´ë‹¹ hubì˜ ëª¨ë“  portë¡œ flooding(forwarding)í•˜ëŠ”ë°, ì´ëŠ” Broadcastingê³¼ ê°™ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ Broadcastingì€ ì„±ëŠ¥ìƒìœ¼ë¡œë„ ë³´ì•ˆìƒìœ¼ë¡œë„ ì¹˜ëª…ì ì´ê¸° ë•Œë¬¸ì—, ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œ ë‚˜ì˜¨ ê²ƒì´ VLANì´ë‹¤. ê¸°ì¡´ì˜ Subnetì˜ L3ì—ì„œì˜ Broadcastingì„ ë§‰ì•˜ë‹¤ë©´, VLANì€ L2ì—ì„œ ì´ë¥¼ ë§‰ê¸° ìœ„í•œ ì‹œë„ì´ë‹¤. Virtual LANì˜ ì•½ìë¡œ í•˜ë‚˜ì˜ Switchê°€ ê° Portë§ˆë‹¤ Collision Domain(L2 Broadcastingì´ ìˆ˜í–‰ë˜ëŠ” ì˜ì—­)ì„ ë¶„ë¦¬ì‹œí‚¬ ìˆ˜ ìˆëŠ” ë°©ë²•ì´ë‹¤. ì´ë¥¼ í†µí•´ì„œ, Broadcastì˜ ë²”ìœ„ë¥¼ ë” ì˜ê²Œ ì¡°ê°¤ ìˆ˜ ìˆë‹¤.\n8. ARP  \n   Address Resolution Protocolì˜ ì•½ì–´ë¡œ, í•˜ë‚˜ì˜ Subnet ë‚´ì—ì„œ Broadcastë¥¼ ì´ìš©í•´, ê¸°ê¸°ì˜ IP ì£¼ì†Œë¥¼ í†µí•´ì„œ í•´ë‹¹ ê¸°ê¸°ì˜ MAC addressë¥¼ ì•Œì•„ë‚´ëŠ” Protocolì´ë‹¤. ì˜ˆì‹œë¡œ, Default Gatewayì˜ IP ì£¼ì†Œë¥¼ í†µí•´ì„œ í•´ë‹¹ Routerì˜ MAC addressë¥¼ ì°¾ì„ ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë˜í•œ, ì¼ë°˜ Nodeì—ì„œ Serverë¡œ Requestë¥¼ ë³´ë‚¼ ë•Œì—ë„ MAC addressëŠ” ëª¨ë¥´ê¸° ë•Œë¬¸ì—, ì´ë¥¼ í†µí•´ì„œ MAC addressë¥¼ ì°¾ëŠ”ë‹¤. ì´ëŸ¬í•œ Trafficì€ ìµœì†Œí™”í•˜ëŠ” ê²ƒì´ ì¢‹ê¸° ë•Œë¬¸ì— ì´ë¥¼ ìœ„í•œ ì‘ìš© ê¸°ìˆ ë„ ì¡´ì¬í•œë‹¤.\n   - ARP Cache : ë°ì´í„°ë¥¼ ì „ì†¡í•  ë•Œë§ˆë‹¤ ARPë¥¼ ìˆ˜í–‰í•˜ëŠ” ê²ƒì€ ë¹„íš¨ìœ¨ì ì´ê¸° ë•Œë¬¸ì—, IPì™€ ëŒ€ì‘í•˜ëŠ” MAC ì£¼ì†Œë¥¼ ì €ì¥í•œ Mapping tableì„ ì €ì¥í•´ë‘ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. PC í™˜ê²½ì—ì„œëŠ” Networkì˜ ë³€ê²½ì´ ì ê¸° ë•Œë¬¸ì— 20ë¶„ ë‹¨ìœ„ë¡œ ì¬ì‹¤í–‰í•˜ì§€ë§Œ, mobile ì¥ì¹˜ì—ì„œëŠ” 30ì´ˆ ë‹¨ìœ„ë¡œ ë‹¨ì¶•ë˜ì—ˆë‹¤.\n   - Proxy ARP : Routerê°€ ìˆ˜ì‹  Hostê¹Œì§€ì˜ ê²½ë¡œë¥¼ ì´ë¯¸ ì•Œê³  ìˆëŠ” ê²½ìš°ì—, ì†¡ì‹  Hostì—ê²Œ ìˆ˜ì‹  Hostì— ëŒ€í•œ MAC addressê°€ ì•„ë‹Œ Routerì˜ MAC addressë¥¼ ì „ì†¡í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ Routerì—ê²Œ ì „ì ì¸ ëŒ€ë¦¬ ì‘ì—…ì„ ë§¡ê¸°ëŠ” ê²ƒì´ê¸°ì— ë³´ì•ˆìƒì—ì„œëŠ” ì¢‹ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.\n\n## Routing Protocol\n\nê°€ì¥ ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“  Routing ì¥ë¹„ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì ìš©ë˜ëŠ” Protocol(STP)ë¥¼ ì ìš©í•˜ì—¬ Topologyì—ì„œ Loopë¥¼ ì œê±°í•˜ëŠ” ê³¼ì •ì„ ê±°ì¹œë‹¤. ì´í›„ì—ëŠ” Routing Table(RIB)ì™€ Forwarding Table(FIB)ì„ êµ¬ì¶•í•˜ëŠ” ê²ƒì´ ê°€ì¥ í° ëª©í‘œê°€ ëœë‹¤. Routing Tableì€ íŠ¹ì • Router ì™€ ì—°ê²°ëœ Routerì˜ ì •ë³´ë¥¼ Protocolë§ˆë‹¤ ì •ì˜í•˜ì—¬ ë³´ê´€í•˜ëŠ” ê²ƒì´ë‹¤. Routerì—ì„œ Routing Tableì€ ì‚¬ìš©í•˜ëŠ” Routing Protocolì˜ ìˆ˜ ë§Œí¼, ì¦‰ ì—¬ëŸ¬ ê°œ ì¡´ì¬í•  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ Routing Tableë“¤ì— ê¸°ë¡ëœ ì •ë³´ë¥¼ í†µí•´ì„œ, ë‹¨ í•˜ë‚˜ì˜ Forwarding Tableì„ ê° Routerì—ì„œ êµ¬ì„±í•˜ê²Œ ëœë‹¤. (ì´ë•Œì— ê° Protocolì˜ ìš°ì„ ìˆœìœ„ì— ë”°ë¼ì„œ Forwarding Tableì´ êµ¬ì„±ëœë‹¤.) ì´ëŠ” ì‹¤ì œë¡œ ì–´ë–¤ Portë¡œ ì–´ë–¤ packetì´ ë“¤ì–´ì™”ì„ ë•Œ, ì–´ë–¤ Portë¡œ Forwarding í•  ê²ƒì¸ì§€ë¥¼ ê¸°ë¡í•´ë‘”ë‹¤.\nRoutingì˜ ì¢…ë¥˜ëŠ” ìœ„ì—ì„œ ë³´ì•˜ë˜ IGP/EGP ë¿ë§Œ ì•„ë‹ˆë¼ ì–¸ì œ ì„¤ì • ë°©ë²•ì— ë”°ë¼ì„œ 2 ê°€ì§€ë¡œ ë‚˜ë‰˜ì–´ì§„ë‹¤. Trafficì´ ì „ë‹¬ë˜ê¸° ì´ì „ì— ê´€ë¦¬ìì— ì˜í•´ì„œ ì‚¬ì „ì— ì§ì ‘ Routingì„ ì •ì˜(Static Routing Protocol)í•˜ëŠ” ë°©ë²•ê³¼ ìŠ¤ìŠ¤ë¡œ ê·œì¹™ì— ë”°ë¼ í•™ìŠµì„ í†µí•´ ìµœì  ê²½ë¡œë¥¼ ì°¾ëŠ” ë°©ë²•(Dynamic Routing Protocol)ì´ ìˆë‹¤.\n\nê° Routing Protocolì„ ì•Œì•„ë³´ê¸° ì´ì „ì— ê¸°ë³¸ì ìœ¼ë¡œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì›ì¹™ì„ ë”°ë¼ì•¼ í•œë‹¤.\n\n1. Longest match Rule : Subnet maskê°€ ê¸´ Protocolì„ ìš°ì„ ì‹œí•œë‹¤.\n2. AD(Administrative Distance) : Protocolê°„ì˜ ìš°ì„  ìˆœìœ„ì— ë”°ë¼ì„œ ìš°ì„  ì ìš©í•œë‹¤. ëŒ€ê²Œ Static Routingì´ Dynamic Routingë³´ë‹¤ ìš°ì„ ì‹œë˜ì–´ì§„ë‹¤.\n3. *Spanning Tree Protocolì— ê¸°ë°˜í•˜ì—¬ ë¨¼ì €, Topology ë‚´ì— Loopë¥¼ ì œê±°í•´ì•¼ í•œë‹¤.\n\n### STP(Spanning Tree Protocol)\n\n2ê³„ì¸µ Protocolë¡œ Collision Domain ë‚´ë¶€ì—ì„œ Broadcast Stormì„ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œ Loopë¥¼ ë§‰ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•œë‹¤.\n\nGraph í˜•íƒœë¡œ êµ¬ì„±ëœ Network ì¥ë¹„ ê°„ì˜ ì—°ê²°ì„ Tree í˜•íƒœë¡œ ì¬êµ¬ì„± í•´ì£¼ë©´, Loopë¥¼ í•´ê²°í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, íŠ¹ì • Portë¥¼ Blockí•˜ê±°ë‚˜ Trafficì´ ì˜¤ê°€ëŠ” ê²ƒì„ ë§‰ëŠ” ë“±ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.\n\nì„¤ëª…í•˜ê¸° ì•ì„œ ê¸°ë³¸ì ì¸ ìš©ì–´ë¥¼ ë¨¼ì € ì •ì˜í•´ì•¼ í•œë‹¤.\n\n1. Root Switch  \n   Treeë¥¼ êµ¬ì„±í•  ë•Œ, ì–´ë–¤ Switchë¥¼ rootë¡œ í•  ê²ƒì¸ì§€ì— ëŒ€í•œ ê²°ì •\n2. Root / Designated / Alternated Port  \n   Root Switchë¡œ ì„ íƒë˜ì§€ ëª»í•œ ëª¨ë“  ì¥ë¹„ë“¤ì€ Root Switchë¡œ ì—°ê²°ë˜ëŠ” portë¥¼ ì„ ì •í•´ì•¼ í•œë‹¤. ì´ë¥¼ Root Portë¼ê³  í•˜ê³ , ê·¸ ë°˜ëŒ€ ë°©í–¥ì— í•´ë‹¹í•˜ëŠ” Designated Portë¥¼ ì„ ì •í•œë‹¤. ê·¸ë¦¬ê³ , ì´ ë‘˜ì— í¬í•¨ë˜ì§€ ì•ŠëŠ” PortëŠ” Alternated Portë¡œ ë¶„ë¥˜ë˜ì–´ì„œ ì¼ë°˜ í†µì‹  ì‹œì—ëŠ” Blockë˜ì–´ ì‚¬ìš©ì´ ì°¨ë‹¨ëœë‹¤. ì—¬ê¸°ì„œ Root Portê°€ ëœë‹¤ëŠ” ê²ƒì€ í•´ë‹¹ Portë¡œ ë‚´ë³´ë‚´ë©´ ê²°êµ­ì—ëŠ” ë°ì´í„°ë¥¼ ì„±ê³µì ìœ¼ë¡œ ë³´ë‚¼ ìˆ˜ ìˆë‹¤ëŠ” í™•ì‹ ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.\n\nì´ì œ Root Switchì™€ ê° Portë¥¼ ë¶„ë¥˜í•˜ê¸° ìœ„í•œ BPDU(Bridge Protocol Data Unit)ì„ ì•Œì•„ì•¼ í•œë‹¤. ì´ëŠ” Spanning Treeë¥¼ êµ¬ì„±í•˜ê¸° ìœ„í•´ì„œ ì‹¤ì œë¡œ ê° Switchê°€ ì£¼ê³  ë°›ëŠ” Frameìœ¼ë¡œ, Switchì— ì—°ê²°ëœ ëª¨ë“  Portì—ì„œ ì „ì†¡ ë˜ëŠ” ìˆ˜ì‹ ëœë‹¤. ì´ˆê¸° Configurationì„ ìˆ˜í–‰í•˜ê±°ë‚˜ Network ìƒíƒœê°€ ë°”ë€Œì—ˆì„ ë•Œ, ì¬í•©ì˜ ê³¼ì •ì„ ìˆ˜í–‰í•  ë•Œ ì´ Data Unitì„ ê° Switch ê°„ì— ì „ì†¡í•œë‹¤. ì´ë•Œ í¬í•¨ë˜ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ì •ë³´ê°€ **Bridge ID**ì´ë‹¤. ì´ëŠ” í•´ë‹¹ Switchì˜ `VLAN ë²ˆí˜¸`, `MAC address`, `ì„ì˜ì˜ ê°’`ì— ì˜í•´ì„œ ê²°ì •ëœë‹¤. ì—¬ê¸°ì„œ **Bridge ID**ê°€ ê°€ì¥ ë‚®ì€ Switchê°€ Root Switchê°€ ëœë‹¤. ì´ê²ƒì´ ì™„ë£Œë˜ë©´ ì´ì œ ê° Switchì˜ ê° Portë¥¼ ì‹ë³„í•˜ëŠ” ê³¼ì •ì„ ê±°ì³ì•¼ í•œë‹¤. ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n1. Bridge IDê°€ ì‘ì€ Switchë¶€í„° Root Switchê¹Œì§€ì˜ ê±°ë¦¬ê°€ ê°€ì¥ ì§§ì€ PortëŠ” Root Portê°€ ëœë‹¤. ë§Œì•½ ë™ì¼í•˜ë‹¤ë©´ Bridge ID, Port IDë¥¼ ë¹„êµí•˜ì—¬ ì„ íƒí•œë‹¤.\n2. í•˜ë‚˜ì˜ `Segment`(Switchê°„ì˜ ì—°ê²°)ì— ë°˜ë“œì‹œ í•˜ë‚˜ì˜ Designated Portê°€ ì¡´ì¬í•˜ë„ë¡ í•œë‹¤. ì¦‰, ë‘ ê°œì˜ Switchê°€ ì—°ê²°ë˜ì—ˆê³ , í•œ Switchì—ì„œ íŠ¹ì • Portë¥¼ Root Portë¡œ ì •í–ˆë‹¤ë©´, ë‹¤ë¥¸ Switchì—ì„œëŠ” ì´ì™€ ì—°ê²°ëœ Portë¥¼ Designatedë¡œ ì§€ì •í•´ì•¼ í•œë‹¤.\n3. ì–´ë– í•œ Portë„ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, ë‚¨ëŠ” Portë¥¼ Designated Portë¡œ ì§€ì •í•˜ê³ , ì´ ë°˜ëŒ€ PortëŠ” Alternated Portë¡œ ì§€ì •í•œë‹¤.\n\nì´ ê³¼ì •ì´ ëë‚˜ë©´, ì´ì œ ê° PortëŠ” 5ê°€ì§€ ìƒíƒœë¡œ ë¶„ë¥˜ë˜ì–´ì§„ë‹¤.\n\n1. Listening State(ì²­ì·¨)  \n   Switchê°€ ìµœì´ˆì— ì „ì›ì´ ì¼œì§€ë©´, ëª¨ë“  PortëŠ” Listening ìƒíƒœì— ë“¤ì–´ê°„ë‹¤. ê·¸ë¦¬ê³ , í•´ë‹¹ Portê°€ ë§Œì•½ Alternated Portë¡œ ì§€ì •ëœë‹¤ë©´, ì´ëŠ” Block Stateë¡œ ë³€ê²½ëœë‹¤. ê·¸ë ‡ì§€ ì•Šê³  Root/Designated Portë¡œ ì§€ì •ëœë‹¤ë©´, 15ì´ˆ ì •ë„ì˜ ì—¬ìœ ë¥¼ ë‘ê³  Learning Stateë¡œ ë³€ê²½ëœë‹¤.\n2. Learning State(í•™ìŠµ)  \n   ì „ì†¡ì„ ìˆ˜í–‰í•˜ê¸° ì´ì „ì—, ì—°ê²°ëœ Switchë“¤ì˜ MAC addressë¥¼ í•™ìŠµí•˜ëŠ” ë‹¨ê³„ì´ë‹¤. í•´ë‹¹ ë‹¨ê³„ê°€ 15ì´ˆ ì§€ì†ëœ ë’¤ì—, Forwarding Stateë¡œ ë„˜ì–´ê°„ë‹¤. ì´ ê³¼ì •ì—ì„œ ê°‘ìê¸° Portê°€ Alternated Portë¡œ ë³€ê²½ëœë‹¤ë©´, ì´ ë˜í•œ Block Stateë¡œ ë°”ë¡œ ë„˜ì–´ê°„ë‹¤.\n3. Forwarding State(ì „ì†¡)  \n   ì‹¤ì œë¡œ Dataë¥¼ ì „ì†¡í•˜ëŠ” ë‹¨ê³„ì´ë‹¤. ì´ë•Œì—ëŠ” ì‹¤ì œë¡œ ê° ì¥ì¹˜ ê°„ì— ë°ì´í„°ê°€ ì´ë™í•  ìˆ˜ ìˆë‹¤.\n4. Blocking State(ì°¨ë‹¨)  \n   ì´ ìƒíƒœì—ì„œë„ í•´ë‹¹ Portê°€ Root/Designated Portê°€ ë  ìˆ˜ ìˆë‹¤. ê·¸ëŸ´ ê²½ìš° Listening Stateë¡œ ë³€ê²½ë˜ê³ , í†µì‹  ì¤€ë¹„ë¥¼ í•œë‹¤.\n5. Disable State(ë¹„í™œì„±)  \n   í•´ë‹¹ Portê°€ ê³ ì¥ ë˜ëŠ” ë¹„ì—°ê²° ë“±ìœ¼ë¡œ ë¹„í™œì„±í™”ë˜ì–´ ìˆëŠ” ìƒíƒœì´ë‹¤.\n\nì´ë ‡ê²Œ ê²°êµ­ì€ Forwarding Stateì— ë„ë‹¬í•˜ê²Œ ë˜ì—ˆì„ ë•Œ ì‹¤ì œë¡œ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ëŠ” ê²ƒì´ ê°€ëŠ¥í•´ì§€ê²Œ ëœë‹¤. ì¤‘ê°„ì— ì—°ê²°ì´ ëŠê¸°ë”ë¼ë„ ìœ ê¸°ì ìœ¼ë¡œ ê³„ì†í•´ì„œ BPDUë¥¼ ì£¼ê³  ë°›ìœ¼ë©´ì„œ Root/Designated/Alternated Portë¡œ ì—­í• ì´ ê³„ì†í•´ì„œ ë°”ë€Œë©´ì„œ, ì§€ì†ì ì¸ ì—°ê²°ì„ ì¶”êµ¬í•œë‹¤. í•˜ì§€ë§Œ, ì´ í•©ì˜ ê³¼ì •ì´ ìƒê°ë³´ë‹¤ ê¸¸ê¸° ë•Œë¬¸ì—(Block -\u003e Forwarding 45ì´ˆ ì†Œìš”) ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ RSTP, MSTP, SPB ì™€ ê°™ì€ ë°©ë²•ë¡ ë„ ìˆë‹¤.\n\n### Static Routing Protocol\n\ndataì˜ Routeë¥¼ ì‚¬ì „ì— ê´€ë¦¬ìê°€ ì§ì ‘ ì •ì˜í•˜ëŠ” ë°©ë²•ì´ë‹¤. ì´ëŠ” ì¸í„°ë„· ê°€ì…ì êµ¬ê°„ì—ì„œ ì„¤ì • ì‹œì— ì‚¬ìš©í•˜ë©°, ëŒ€í‘œì ì¸ ì˜ˆì‹œê°€ Default Gateway ë“±ì„ ì§€ì •í•˜ëŠ” ê³¼ì •ì´ë‹¤. ì¥ì• ê°€ ë°œìƒí•˜ë”ë¼ë„ ê³„ì†í•´ì„œ ë™ì¼í•œ ê³³ìœ¼ë¡œ ìš”ì²­ì„ ë³´ë‚´ê¸° ë•Œë¬¸ì— ì¥ì• ì— ëŒ€í•œ ì±…ì„ì€ ì˜¨ì „íˆ ì„¤ì •ì„ ìˆ˜í–‰í•œ ê´€ë¦¬ìì—ê²Œ ë‹¬ë ¤ìˆë‹¤. ASì— ìƒê´€ì—†ì´ ê° Routerì—ì„œ ì§ì ‘ì ìœ¼ë¡œ ë‹¤ìŒ Linkë¥¼ ì„ íƒí•˜ê¸° ë•Œë¬¸ì— ASì— ìƒê´€ì—†ì´ ë™ì¼í•˜ê²Œ ì„¤ì •í•œë‹¤.\n\n### Dynamic Routing Protocol\n\nRouterê°€ ì‹¤í–‰ ì¤‘ì— ê³„ì†í•´ì„œ ì¥ì• ì— ëŒ€ì‘í•˜ë©´ì„œ, ê°€ìš©ì„± ë†’ì€ Routingì„ ì œê³µí•˜ê¸° ìœ„í•´ì„œ ê²½ë¡œë¥¼ ìµœì í™”í•˜ëŠ” ë°©ì‹ì´ë‹¤. ì´ëŠ” ASì— ë”°ë¼ì„œ ì„¤ì • ë°©ë²•ì´ ìƒì´í•˜ê¸° ë•Œë¬¸ì— ì´ì— ë”°ë¼ì„œ ë¶„ë¥˜í•œë‹¤.\n\n- **Interior(IGP)** : AS ë‚´ë¶€ì—ì„œì˜ Routing Protocolì´ë©°, Linkì˜ ìƒíƒœë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ”ì§€ hop ìˆ˜(ì¤‘ê°„ Routerì˜ ìˆ˜)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ”ì§€ì— ë”°ë¼ì„œ ë‘ ê°€ì§€ ì¢…ë¥˜ë¡œ ë‚˜ëˆ„ì–´ì§„ë‹¤.\n  - **Distance Vector**  \n    Distance(Router ê°„ì˜ Hop ìˆ˜)ì™€ Vector(ë°©í–¥)ë§Œì„ ê³ ë ¤í•˜ì—¬ Routing Tableì„ êµ¬ì„±í•œë‹¤. ì¸ê·¼ Routerì— ì˜í•´ì„œ ë°›ì€ ì •ë³´ë¥¼ í†µí•´ì„œ êµ¬ì„±í•˜ê²Œ ë˜ë©°, Linkì˜ Bandwidth, í˜„ì¬ ìƒíƒœë¥¼ ì•Œì§€ ëª»í•˜ê¸° ë•Œë¬¸ì— ìµœì í™”ì™€ëŠ” ê±°ë¦¬ê°€ ë©€ë‹¤. ì‹¬ì§€ì–´ëŠ” ë°˜ëŒ€ ë°©í–¥ìœ¼ë¡œ ëŒì•„ê°€ëŠ” í˜„ìƒë„ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ì¢…ë¥˜ëŠ” ëŒ€í‘œì ìœ¼ë¡œ ì•„ë˜ ë‘ ê°€ì§€ê°€ ìˆë‹¤.\n    1. **RIP(Routing Information Protocol)**  \n       ìµœì´ˆì˜ Dynamic Routing Protocolë¡œ ê° Routerê°„ì˜ Hop ìˆ˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ Distanceë¥¼ ì¶”ì •í•œë‹¤. ì†Œê·œëª¨ ë„¤íŠ¸ì›Œí¬ë¥¼ êµ¬ì¶•í•  ë•ŒëŠ” ë§¤ìš° ê°„ë‹¨í•˜ê²Œ ì„¤ì •ì´ ê°€ëŠ¥í•˜ì§€ë§Œ, Hop ìˆ˜ ë§Œì„ í™œìš©í•˜ê¸° ë•Œë¬¸ì— ë³µì¡í•œ ë„¤íŠ¸ì›Œí¬ êµ¬ì„±ì—ëŠ” ì ì ˆì¹˜ ì•Šë‹¤. ë˜í•œ, 30ì´ˆ ë‹¨ìœ„ë¡œ ì—…ë°ì´íŠ¸ê°€ ë°œìƒí•˜ê¸° ë•Œë¬¸ì—, ë¹ ë¥¸ ì¥ì•  íšŒë³µì´ ë˜ì§€ ì•ŠëŠ”ë‹¤. ë˜í•œ, ìµœëŒ€ Hop ìˆ˜ë¥¼ 15ë¡œ ì œí•œí•˜ì˜€ê³ , ê·¸ ì´ìƒì€ Networkê°€ ì—°ê²°ë˜ì§€ ì•Šì•˜ë‹¤ê³  ì¸ì‹í•œë‹¤. versionì€ 1,2ê°€ ì¡´ì¬í•˜ê³ , 2 ì—­ì‹œ 1ê³¼ ëŒ€ë™ì†Œì´ í•œë‹¤.\n    2. **IGRP(Interior Gateway Routing Protocol)**  \n      RIPì™€ ìœ ì‚¬í•˜ê³ , ê¸°ì¡´ 90ì´ˆ ë‹¨ìœ„ë¡œ Routing Tableì„ ê°±ì‹ í•˜ë©°, Hop ìˆ˜ë¥¼ 255ê¹Œì§€ í™•ì¥í•˜ì˜€ë‹¤.\n  - **Link State**  \n    Link(í†µì‹ ì„ ) ìƒíƒœ ì—­ì‹œ ê³ ë ¤í•˜ëŠ” Protocolì´ë‹¤. ë‹¨ìˆœí•œ ê¸°ê¸° ê°„ì˜ ê±°ë¦¬ ë¿ë§Œ ì•„ë‹ˆë¼ bandwidth ë“±ê³¼ ê°™ì€ ì •ë³´ë„ í™œìš©í•œë‹¤. ë˜í•œ Network ì „ì²´ì˜ ì •ë³´ë¥¼ í¬í•¨í•˜ê³  ìˆë‹¤. ì¦‰, **Routing Tableì˜ í¬ê¸°ê°€ êµ‰ì¥íˆ ì»¤ì§ˆ ìˆ˜ ìˆë‹¤. ì´ëŠ” Routerì˜ Memory ì†Œëª¨ì™€ CPU ì†Œëª¨ë¥¼ ê¸‰ê²©í•˜ê²Œ ëŠ˜ë¦°ë‹¤.** ë˜í•œ, Routing Tableì„ ë™ì¼í•˜ê²Œ ìœ ì§€í•´ì£¼ëŠ” Convergence(ì´ê²ƒì´ ì œëŒ€ë¡œ ìˆ˜í–‰ë˜ì§€ ì•Šìœ¼ë©´ í†µì‹  ì‹¤íŒ¨ê°€ ë°œìƒí•  ìˆ˜ë„ ìˆë‹¤.)ë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ì†Œëª¨ë˜ëŠ” ì‹œê°„ì¸ `Convergence Time`ì´ ê³¼ë„í•˜ê²Œ ì»¤ì§ˆ ìˆ˜ë„ ìˆë‹¤. ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê²ƒì´ í•´ë‹¹ Link State ë°©ì‹ì˜ ì£¼ìš” ëª©í‘œì´ë‹¤.\n    1. **OSPF(Open Shortest Path First)**  \n      Networkë¥¼ Areaë¼ëŠ” ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ê³ , ê° Areaì—ì„œëŠ” í•´ë‹¹ Areaì— í•´ë‹¹í•˜ëŠ” Routing Tableì„ ë³´ê´€í•˜ê²Œ í•˜ì—¬ ì „ì²´ Routing Tableì˜ í¬ê¸°ë¥¼ ì¤„ì¸ ë°©ì‹ì´ë‹¤. ê°™ì€ Area ë‚´ì—ì„œëŠ” ëª¨ë“  Routerê°€ ë™ì¼í•œ Routing Tableì„ ì†Œì§€í•œë‹¤. ë§Œì•½, ë‘ ê°œ ì´ìƒì˜ Areaì— ì†í•œë‹¤ë©´, í•´ë‹¹ RouterëŠ” ë‘ ê°œì˜ Routing Tableì„ ì†Œì§€í•˜ê²Œ ëœë‹¤. Areaê°€ í•˜ë‚˜ì¼ ê²½ìš°ì—ëŠ” ì„ì˜ì˜ Area Noì„ ì‚¬ìš©í•´ë„ ìƒê´€ì´ ì—†ì§€ë§Œ, Areaê°€ ì—¬ëŸ¬ ê°œì¼ ê²½ìš°ì—ëŠ” Area 0ì´ ë°˜ë“œì‹œ ì¡´ì¬í•´ì•¼ í•˜ë©°, í•´ë‹¹ Area 0ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ Topologyê°€ êµ¬ì„±ë˜ê¸° ë•Œë¬¸ì´ë‹¤. ê°€ì¥ ëŒ€ì¤‘ì ìœ¼ë¡œ ë§ì´ ì‚¬ìš©ë˜ëŠ” Routing Protocolë¡œ IGP ë‚´ì—ì„œëŠ” Conversionce Timeì´ ì§§ê³  íš¨ìœ¨ì ì´ë‹¤. ìµœë‹¨ ê±°ë¦¬ë¥¼ ì°¾ì„ ë•Œì—ëŠ” Dijkstra Algorithmì„ í™œìš©í•˜ì—¬ ìµœë‹¨ê±°ë¦¬ë¥¼ íƒìƒ‰í•œë‹¤.\n    2. **ISIS(Intermediate System - Intermediate System)**  \n       Intermediate Systemì€ Routerë¥¼ ì˜ë¯¸í•˜ë©°, ê°™ì€ Areaì— ì†í•˜ëŠ” Routerê°„ì˜ Routing Tableì„ ê³µìœ í•˜ëŠ” ê°œë…ìœ¼ë¡œ Routerë¥¼ ì´ ë‘ ê°€ì§€ë¡œ ë‚˜ëˆˆë‹¤. í•˜ë‚˜ëŠ” ì—¬ëŸ¬ Areaì— ê±¸ì³ ìˆëŠ” Level 2, í•˜ë‚˜ì˜ Areaì— ì†í•˜ëŠ” Level 1ì´ë‹¤. ëŒ€ê²Œ ëª¨ë“  Routerê°€ Level 2ì— ì†í•˜ê¸° ë•Œë¬¸ì— êµ‰ì¥íˆ í° Routing Tableì„ ê°€ì§€ê²Œ ëœë‹¤. Routing Tableì´ ì»¤ì§ˆ ìˆ˜ ìˆì§€ë§Œ Conversionce Timeì´ ì¤„ì–´ë“¤ê³ , Backbornì„ Area 0ìœ¼ë¡œ ì œí•œí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— OSPFë³´ë‹¤ ë” ìœ ì—°í•œ ë„¤íŠ¸ì›Œí¬ êµ¬ì¡°ë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆë‹¤.\n  - **Hybrid**\n    - **EIGRP(Enhanced Interior Gateway Routing Protocol)**  \n      Hop ìˆ˜ë¥¼ 256ê°œë¡œ ëŠ˜ë¦¬ê³ , ì£¼ê¸° ì—†ì´ Network í™˜ê²½ì´ ë³€í™”ë˜ë©´ ë°”ë¡œ ì ìš©ë˜ë„ë¡ ë°”ê¾¸ì—ˆë‹¤. ë˜í•œ, Hop ìˆ˜ ì™¸ì—ë„ Bandwidth, Delay, Load, MTU ë“±ì„ ì¶”ê°€ì ìœ¼ë¡œ ê³„ì‚°í•˜ì—¬ Link State ì—­ì‹œ í™œìš©í•˜ëŠ” ë°©ì‹ì´ë‹¤.\n- **Exterior(EGP)**  \n  ë‚˜ë‰˜ì–´ì§„ AS ê°„ì˜ í†µì‹ ì„ ì§€ì›í•˜ê¸° ìœ„í•œ ë°©ë²•ì´ë‹¤.\n  - **BGP(Border Gateway Protocol)**  \n    ì„œë¡œ ë‹¤ë¥¸ ASë¥¼ ì—°ê²°í•˜ëŠ” Protocolë¡œ TCPì— ê¸°ë°˜í•˜ë©°, IGPì™€ ê°™ì´ ì—°ë™í•˜ì—¬ ì „ì²´ ë„¤íŠ¸ì›Œí¬ë¥¼ êµ¬ì„±í•  ìˆ˜ë„ ìˆê³ , ìì²´ì ìœ¼ë¡œ ì •ì˜í•œ Interior BGPë¥¼ í™œìš©í•˜ì—¬ BGPë§Œìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ë¥¼ êµ¬ì„±í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤. ë”°ë¼ì„œ, BGPëŠ” iBGP(interior BGP), eBGP(exterior BGP)ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤. BGPëŠ” ì—¬íƒ€ IGPë“¤ê³¼ëŠ” ë‹¤ë¥´ê²Œ ASê°„ì˜ Routingì„ ì¤‘ê³„í•˜ê¸° ë•Œë¬¸ì— Routing Tableì˜ í¬ê¸°ê°€ ë§¤ìš° í¬ê³ , ì´ì— ëŒ€í•œ ì²˜ë¦¬ì— íŠ¹í™”ë˜ì–´ìˆë‹¤. í•˜ì§€ë§Œ, ëŒ€ê²Œ BGPë¼ê³  í•˜ë©´ eBGPë¥¼ ì˜ë¯¸í•œë‹¤. íŠ¹ì´í•˜ê²Œ BGPëŠ” ê¸°ì¡´ì˜ Link Stateë‚˜ Hop ìˆ˜ì— ê¸°ë°˜í•˜ì§€ ì•Šê³  Attribute(Hop, Bandwidth, ACL, Weight ë“±)ë¼ëŠ” ê²ƒì„ ë³„ë„ë¡œ í™œìš©í•œë‹¤. Dynamic Routing ë°©ì‹ì´ì§€ë§Œ, ê° Linkì— ëŒ€í•œ ì •ë³´ëŠ” ì•ì—ì„œ ì–¸ê¸‰í•œ Attributeë¥¼ ì´ìš©í•˜ì—¬ ìˆ˜ë™ìœ¼ë¡œ ì„¤ì •í•´ì£¼ì–´ì•¼ í•œë‹¤. í•˜ì§€ë§Œ, BGPëŠ” Broken Gateway Protocolì´ë¼ëŠ” ë³„ëª…ì´ ìˆì„ ì •ë„ë¡œ í˜„ì¬ ë§ì€ ë¬¸ì œë¥¼ ì•¼ê¸°í•˜ê³  ìˆë‹¤. BGP Tableì˜ í¬ê¸°ê°€ 102.4ë§Œ ê°œë¥¼ ì´ˆê³¼í•  ì‹œì— ì¼ë¶€ Routerì˜ Memoryê°€ ë¶€ì¡±í•´ì§€ëŠ” í˜„ìƒì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤. í˜„ì¬ í•´ë‹¹ í¬ê¸°ì— ë„ë‹¬ ì‹œì ì„ 2023ë…„ ë§ ì •ë„ë¡œ ì˜ˆì¸¡í•˜ê³  ìˆë‹¤. ë˜í•œ, ì´ë ‡ê²Œ ì»¤ì§„ Tableì˜ í¬ê¸°ë¡œ ì¸í•´ Convergence Timeë„ êµ‰ì¥íˆ ë§ì´ ì†Œëª¨í•˜ê³  ìˆë‹¤.(ì™„ì „ ìˆ˜ë ´ê¹Œì§€ 15ë¶„ ì†Œìš”)\n","slug":"routing","date":"2022-05-30 12:28","title":"Routing","category":"Network","tags":["Routing","RIP","EIGRP","OSPF","BGP","ISIS"],"thumbnailSrc":"https://euidong.github.io/images/routing-hero.jpg"},{"content":"\n## Reference\n\n- Thumbnail : Photo by [Mark McGregor](https://unsplash.com/@mmcgregor?utm_source=unsplash\u0026utm_medium=referral\u0026utm_content=creditCopyText) on [Unsplash](https://unsplash.com/s/photos/peer?utm_source=unsplash\u0026utm_medium=referral\u0026utm_content=creditCopyText)\n\n## Overlay Network\n\nOverlay Networkë€ ê¸°ì¡´ì˜ Network ìœ„ì— ë§Œë“¤ì–´ì§„ ê°€ìƒì˜ Networkë¥¼ ì˜ë¯¸í•œë‹¤. ê·¸ë ‡ê¸°ì— ë¬¼ë¦¬ì ì¸ ê´‘í†µì‹  ë„¤íŠ¸ì›Œí¬ì— êµ¬ì„±ëœ ëª¨ë“  ë„¤íŠ¸ì›Œí¬ë¥¼ Overlay Networkë¼ê³  ë³¼ ìˆ˜ë„ ìˆì§€ë§Œ, ì¼ë°˜ì ìœ¼ë¡œëŠ” Public Internet ìœ„ì— êµ¬ì„±ëœ ê°€ìƒì˜ Networkë¼ëŠ” ì˜ë¯¸ë¡œ ì‚¬ìš©ëœë‹¤.\n\nëŒ€í‘œì ì¸ ì˜ˆì‹œë¡œ P2P, VPNì„ ë“¤ ìˆ˜ ìˆë‹¤. ê·¸ ì™¸ì—ë„ VLAN, MPLS ë“±ë„ ë“¤ ìˆ˜ ìˆì§€ë§Œ Application ê³„ì¸µì—ì„œ êµ¬í˜„í•œ P2Pì™€ VPNì„ í•´ë‹¹ Postingì—ì„œ ì¤‘ì ì ìœ¼ë¡œ ë‹¤ë£° ê²ƒì´ë‹¤. Overlay NetworkëŠ” ìƒìœ„ì— ê³„ì¸µì— ì˜í•´ì„œ ë§Œë“¤ì–´ì§€ê¸° ë•Œë¬¸ì— í•˜ìœ„ ê³„ì¸µì—ì„œëŠ” í•´ë‹¹ dataë¥¼ ë¶„ì„í•˜ëŠ” ê²ƒì€ ì‚¬ì‹¤ìƒ ë¶ˆê°€ëŠ¥í•  ë¿ë§Œ ì•„ë‹ˆë¼ ì´ë ‡ê²Œ ë°ì´í„°ì˜ í¬ê¸°ê°€ ë” ì»¤ì§€ê¸° ë•Œë¬¸ì— ë„¤íŠ¸ì›Œí¬ì˜ ê³¼ë¶€í•˜ë¥¼ ì´ˆë˜í•˜ê¸°ë„ í•œë‹¤. í•˜ì§€ë§Œ, ì´ëŸ¬í•œ ê¸°ìˆ ì€ êµ¬í˜„ì´ í•˜ë“œì›¨ì–´ë‹¨ì—ì„œ ì§„í–‰í•˜ëŠ” ê²ƒë³´ë‹¤ ê°„ëµí•  ë¿ë§Œ ì•„ë‹ˆë¼ ìœ ì—°í•œ êµ¬ì„±ì´ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ì—¬ëŸ¬ ë¶„ì•¼ì—ì„œ í™œìš©ë˜ê³  ìˆë‹¤. ì´ë¡œì¸í•´ì„œ ì´ëŸ¬í•œ ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ì—…ì²´ë¥¼ `Free Rider`ë¼ê³  ë¶€ë¥´ê¸°ë„ í•œë‹¤. í†µì‹  ì‚¬ì—…ì ì…ì¥ì—ì„œëŠ” traffic ì¦ê°€ë¡œ ìš´ì˜ ë¹„ìš©ì´ ì¦ê°€í•˜ëŠ”ë° ë¹„í•´ ì´ì— ëŒ€í•œ ì´ë“ì€ ì„œë¹„ìŠ¤ ì œê³µì—…ì²´ì—ì„œë§Œ ê°€ì ¸ê°€ëŠ” í˜„ìƒë•Œë¬¸ì´ë‹¤.\n\n## P2P\n\nPeer To Peerì˜ ì•½ìë¡œ ì—¬ëŸ¬ client ê°„ì˜ í†µì‹ ì„ ìˆ˜í–‰í•  ë•Œ, ê°€ì¥ ê¸°ë³¸ì ì¸ ëª¨ë¸ë¡œ ëª¨ë“  Clientê°€ ì„œë¡œ ë™ë“±í•˜ê²Œ ì—°ê²°ë˜ëŠ” Networkì´ë‹¤. ì´ëŠ” `Client-Server` êµ¬ì¡°ì™€ëŠ” ë°˜ëŒ€ë˜ëŠ” ê°œë…ìœ¼ë¡œ, í•˜ë‚˜ì˜ Serverë¡œ ëª¨ë“  Clientê°€ ì—°ê²°ë˜ì–´ ì´ë¥¼ í†µí•´ì„œ ì„œë¡œ ì •ë³´ë¥¼ ì£¼ê³  ë°›ëŠ” êµ¬ì¡°ì™€ëŠ” í˜•íƒœê°€ ë§¤ìš° ë‹¤ë¥´ë‹¤. íŠ¹íˆ íŒŒì¼ ê³µìœ , í†µì‹ , VoIP, Instance Message, CDNê³¼ ê°™ì€ ë¶„ì•¼ì—ì„œ ë§ì´ ì‚¬ìš©ëœë‹¤. ì´ëŠ” P2Pì˜ ë‹¤ìŒê³¼ ê°™ì€ **ì¥ì ** ë•ë¶„ì´ë‹¤.\n\n1. Scalability : `Client-Server` êµ¬ì¡°ì—ì„œëŠ” Clientì˜ ì¦ê°€ëŠ” ê³§ Serverì˜ ë¶€í•˜ ì¦ê°€ë¥¼ ì˜ë¯¸í•œë‹¤. í•˜ì§€ë§Œ, P2Pì—ì„œëŠ” ë…¸ë“œ ìˆ˜ì˜ ì¦ê°€ëŠ” ì „ì²´ Networkì˜ í¬ê¸° ì¦ê°€ë¥¼ ì˜ë¯¸í•˜ì§€ë§Œ, ê° Nodeì—ê²Œ ë¶€ê³¼ë˜ëŠ” ë¶€í•˜ì˜ ì¦ê°€ë¥¼ ì•¼ê¸°í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.\n2. Low Cost : Service ì œê³µì ì…ì¥ì—ì„œëŠ” ê°’ë¹„ì‹¼ Serverë¥¼ ìœ ì§€í•˜ì§€ ì•Šì•„ë„ ë˜ê¸° ë•Œë¬¸ì— ì´ë¡œ ì¸í•œ ë¹„ìš©ì  ì´ë“ì„ ë³¼ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ, í†µì‹  ì‚¬ì—…ì ì…ì¥ì—ì„œëŠ” ì´ê²ƒì´ ë” ì‹ ê²½ì“°ì´ëŠ” ë¶€ë¶„ì´ë‹¤.\n3. Availability : ì¼ë¶€ ë…¸ë“œì— ì¥ì• ê°€ ë°œìƒí•´ë„ ì „ì²´ ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì€ ì ë‹¤.\n\ní•˜ì§€ë§Œ, P2PëŠ” ì—¬ëŸ¬ ì¸í„°ë„· ë¬¸ì œë¥¼ ì•¼ê¸°í•  ìˆ˜ë„ ìˆë‹¤. ëŒ€í‘œì ìœ¼ë¡œ ì œê¸°ë˜ëŠ” ê²ƒì´ ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œì´ë‹¤.\n\n1. ê³¼ë„í•œ ì¸í„°ë„· ëŒ€ì—­í­ ì†Œëª¨  \n   P2Pì— ì°¸ì—¬í•˜ëŠ” NodeëŠ” Bandwidthì˜ ëŒ€ë¶€ë¶„ì„ P2Pì— ì‚¬ìš©í•œë‹¤. ì´ë¥¼ í†µí•´ì„œ P2P ì „ì†¡ì˜ íš¨ìœ¨ì„ ìµœëŒ€í™”í•˜ê³ ì í•œ ê²ƒì´ë‹¤. í•˜ì§€ë§Œ, ì´ë¡œ ì¸í•´ ì—¬íƒ€ ë‹¤ë¥¸ Network ì¥ë¹„ë“¤ì˜ ì„±ëŠ¥ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆë‹¤.\n2. í†µì œê°€ ì–´ë ¤ì›€  \n   P2Pë¥¼ í†µí•´ì„œ ê³µìœ ë˜ëŠ” ìë£Œê°€ ë¶€ì •ì ì¸ ì»¨í…ì¸ (ìŒë€ë¬¼, ë¶ˆë²• ì €ì‘ë¬¼ ìœ í†µ)ë¥¼ í¬í•¨í•˜ë”ë¼ë„ ì´ë¥¼ í†µì œí•  ìˆ˜ë‹¨ì´ ì—†ì„ ë¿ë§Œ ì•„ë‹ˆë¼ ê³¼ë„í•œ Trafficì— ëŒ€í•œ ì°¨ë‹¨ì„ ìˆ˜í–‰í•˜ë ¤ê³  í•´ë„ P2P portë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ë°”ê¾¸ê±°ë‚˜ VPN ë“±ì„ í™œìš©í•˜ë©° ì´ëŸ¬í•œ ì°¨ë‹¨ë§ˆì €ë„ ìš°íšŒí•˜ê³ ìˆë‹¤.\n3. ë‚®ì€ ë³´ì•ˆì„±  \n   P2P softwareëŠ” ê° clientì—ì„œ ë™ì‘í•˜ë©°, ê° ClientëŠ” Hostì˜ ê¸°ëŠ¥ë„ ìˆ˜í–‰í•´ì•¼ í•˜ëŠ”ë° ì´ì— ëŒ€í•œ ì±…ìŒì€ ì›ë˜ Service ì œê³µìì—ì„œ Clientë¡œ ì „ê³¼ë˜ì—ˆìœ¼ë©°, ì´ëŠ” Clientì—ì„œ ì§ì ‘ì ìœ¼ë¡œ ë°©ì–´í•´ì•¼ í•œë‹¤. ê·¸ë ‡ê¸°ì— ë³´ì•ˆì„±ì´ ë‚®ê³  ì•…ì„±ì½”ë“œì— ë¬´ë°©ë¹„í•˜ë‹¤.\n\n2000ë…„ëŒ€ ì¤‘ë°˜ê¹Œì§€ë§Œ í•´ë„ ì´ëŸ¬í•œ P2P Trafficì´ ì „ì²´ ì¸í„°ë„·ì˜ 60~80%ë¥¼ ì°¨ì§€í•˜ì—¬ í° ë¬¸ì œê°€ ë˜ì—ˆì§€ë§Œ, í˜„ì¬ì—ëŠ” 2.4%ë¡œ ê°ì†Œí•˜ì˜€ë‹¤. ì´ëŠ” Streaming Platformì˜ ì„±ì¥ì´ ì»¸ë‹¤ê³  ë³´ê³  ìˆë‹¤. ë‹¤ìŒì€ ëŒ€í‘œì ì¸ P2P Serviceì— ëŒ€í•œ ì˜ˆì‹œì´ë‹¤.\n\n\u003e **Napster**\n\nìµœì´ˆì˜ P2P serviceë¡œ ìœ ëª…í•˜ë©°, ë¬´ë£Œ ìŒì› MP3 íŒŒì¼ì„ ê³µìœ í•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ì˜€ë‹¤. `Login Server`ë§Œì„ ìœ ì§€í•˜ê³ , ì´ê³³ì—ì„œ ê° nodeì˜ MP3 file ì •ë³´ì™€ user ì •ë³´ë¥¼ mappingí•˜ì—¬ ê´€ë¦¬í•˜ê³  ì´ë“¤ì„ í†µí•´ì„œ ì¡°íšŒë¥¼ ìˆ˜í–‰í•˜ë©´ DownloadëŠ” P2Pì— ì˜í•´ì„œ ìˆ˜í–‰ë˜ëŠ” ì›ë¦¬ì´ë‹¤. ê·¸ëŸ°ë° ì´ ë‹¨ê³„ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ë°”ë¡œ Client ê°„ì˜ P2Pë¥¼ ìˆ˜í–‰í•  ë•Œì— NATë¡œ ì¸í•´ì„œ ì‹¤ì œ Clientì˜ ì£¼ì†Œë¥¼ ì•Œì•„ë‚´ëŠ” ê²ƒì´ ì–´ë ¤ìš¸ ë¿ë§Œ ì•„ë‹ˆë¼ ë°©í™”ë²½ì— ì˜í•´ì„œ ë§‰í ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ `STUN`ì´ë¼ëŠ” ê°œë…ì„ í™œìš©í•œë‹¤. ì—¬ê¸°ì„œëŠ” ìì„¸íˆ ë‹¤ë£¨ì§€ ì•Šì§€ë§Œ NATì— ì˜í•´ì„œ ë§Œë“¤ì–´ì§„ Public Addressì™€ Private Addressë¥¼ ì €ì¥í•˜ì—¬ ì´ë¥¼ ì €ì¥í•˜ê³  ìˆë‹¤ê°€ NAT ë‚´ë¶€ì— Nodeë¥¼ ì‹ë³„í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ” ê¸°ìˆ ë¡œ ë³„ë„ì˜ Serverë¥¼ êµ¬ì„±í•˜ì—¬ í•´ë‹¹ ì¥ì†Œì— ì €ì¥í•´ë‘ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤. ë˜í•œ, fileì„ ê°–ê³  ìˆëŠ” Nodeì—ì„œ ë°©í™”ë²½ì´ ì¡´ì¬í•œë‹¤ë©´, ì´ë¥¼ ìš°íšŒí•˜ê¸° ìœ„í•´ì„œ  ì™¸ë¶€ Serverê°€ fileì„ ë³´ìœ í•œ Nodeì—ì„œ ì˜¤íˆë ¤ ìš”ì²­ì„ ë³´ë‚´ê³  íŒŒì¼ì„ ì „ì†¡í•˜ëŠ” ê²ƒì²˜ëŸ¼ ìš°íšŒë¥¼ ìˆ˜í–‰í•˜ê¸°ë„ í•œë‹¤.\n\n\u003e **Torrent**\n\nBitTorrentì™€ uTorrentì— ëŒ€í•´ì„œë§Œ ì•Œì•„ë³¼ ê²ƒì´ë‹¤. BitTorrentëŠ” ê°€ì¥ ì´ˆê¸° ë²„ì „ìœ¼ë¡œ OpenSourceë¡œ ê³µê°œë˜ì—ˆê³ , version 6ì¸ uTorrentë¶€í„°ëŠ” ë¹„ê³µê°œë¡œ ê°œë°œë˜ì—ˆë‹¤. 32, 64, 128, 256 KB ë‹¨ìœ„ë¡œ fileì„ ë‚˜ëˆ„ê³  ì¡°ê° ë‹¨ìœ„ë¡œ ì „ì†¡í•˜ëŠ” ë°©ì‹ì´ë‹¤. Torrent Networkë¥¼ êµ¬ì„±í•˜ëŠ” ìš”ì†ŒëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n- Web Server : TorrentëŠ” ë³„ë„ì˜ File ê³µìœ  Web Serviceë¥¼ ì œê³µí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì‚¬ìš©ìë“¤ì€ ìì‹ ì´ íŒŒì¼ì„ ê°€ì§€ê³  ìˆìŒì„ `X.torrent` ë¼ëŠ” fileì— ë‹´ì•„ì„œ Web Serviceì— ì—…ë¡œë“œí•´ì•¼ í•œë‹¤. ì´ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì—¬ Torrent Applicationì„ ì‹¤í–‰ì‹œí‚¤ë©´ file downloadê°€ ì§„í–‰ë˜ëŠ” ê²ƒì´ë‹¤.\n- Tracker : Torrentì—ì„œ ì œê³µí•˜ëŠ” Serverì´ë‹¤. P2Pì—ì„œ ê° peerë“¤ì˜ ìƒíƒœì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ê³ , ì´ë¥¼ í†µí•´ì„œ í†µì‹ ì„ ì¤‘ê³„í•œë‹¤.\n- Seed : ì™„ì „í•œ íŒŒì¼ì„ ê°€ì§€ê³  ìˆëŠ” Peer\n- Leech : í•´ë‹¹ íŒŒì¼ì„ ì¼ë¶€ ê°€ì§€ê³  ìˆëŠ” Peer\n- Downloader : Leechì™€ ê°™ì€ ì˜ë¯¸ë¡œ ì‚¬ìš©ë˜ê¸°ë„ í•˜ë©°, ë‹¤ìš´ë¡œë“œê°€ ì™„ë£Œë˜ë©´ Leech ë˜ëŠ” Seedê°€ ëœë‹¤.\n\nDownloaderê°€ Downloadë¥¼ `X.torrent` fileì„ ê¸°ë°˜ìœ¼ë¡œ ìˆ˜í–‰í•˜ê¸°ë¥¼ Trackerì—ê²Œ ìš”ì²­í•˜ë©´, TrackerëŠ” í•´ë‹¹ íŒŒì¼ì„ ì†Œìœ í•œ Peer Listë¥¼ ë°˜í™˜í•˜ê³  ì´ë¥¼ í†µí•´ì„œ ê° Peerë¡œ ë¶€í„° íŒŒì¼ ì¡°ê°ì„ ë‹¤ìš´ ë°›ì•„ ê²°í•©í•˜ì—¬ ìµœì¢… fileì„ ì™„ì„±í•œë‹¤ëŠ” ì›ë¦¬ì— ê¸°ë°˜í•˜ê³  ìˆë‹¤. uTorrentëŠ” ê¸°ì¡´ TCPì—ì„œ UDPë¡œì˜ ë³€ê²½ ë¿ë§Œ ì•„ë‹ˆë¼ STUN ê¸°ëŠ¥ ë“±ì„ í¬í•¨í•˜ì—¬ ì„±ëŠ¥ì„ í–¥ìƒì‹œì¼œ ì¶œì‹œë˜ì—ˆë‹¤.\n\n\u003e **Skype**\n\nVoIPë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ì—¬ íŒŒì¼ ì „ì†¡ ë“±ì„ ì œê³µí•˜ëŠ” P2P ì„œë¹„ìŠ¤ì´ë‹¤. 2003ë…„ì— ì²˜ìŒ ì‹œì‘ë˜ì–´ í˜„ì¬ëŠ” MicroSoftì— ì¸ìˆ˜ë˜ì—ˆê³ , 2012ë…„ ì´í›„ë¡œëŠ” `Client-Server` êµ¬ì¡°ë¡œ ì „í™˜í•˜ì˜€ë‹¤. ì‹œìŠ¤í…œì„ êµ¬ì„±í•˜ëŠ” ìš”ì†ŒëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n- Login Server : íšŒì›ê°€ì… ë° ì‚¬ìš©ì ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” Serverë¡œ Skypeì— ì˜í•´ì„œ ê´€ë¦¬ëœë‹¤.\n- SN(Super Node) : ì‹¤ì œ Skype Clientê°€ ì—°ê²°ë˜ëŠ” Nodeë¡œ ì´ë“¤ì€ ê°ì ì—°ê²°ë˜ì–´ ê° Clientì—ê²Œ í†µì‹ ì„ ì œê³µí•œë‹¤. ì´ˆê¸°ì—ëŠ” í•­ìƒ ì¼œì ¸ ìˆê³ , ê³µì¸ IP ì£¼ì†Œë¥¼ ê°€ì§€ê³  ìˆëŠ” ê³ ì„±ëŠ¥ ê³ ëŒ€ì—­ ì¥ë¹„ì´ë©´ ì–´ë–¤ Skype Clientë„ Super Nodeê°€ ë  ìˆ˜ ìˆì—ˆë‹¤. í•˜ì§€ë§Œ, 2012ë…„ ëŒ€ê·œëª¨ ì¥ì• ê°€ ë°œìƒí•œ ì´í›„ MicroSoftì—ì„œ ìš´ìš©í•˜ëŠ” Machine(Azure)ìœ¼ë¡œ ëŒ€ì²´ë˜ì—ˆë‹¤.\n- SC(Skype Client) : ì¼ë°˜ Skepe ì´ìš©ìë¥¼ ì˜ë¯¸í•œë‹¤.\n\nSkypeì˜ Codeê°€ ê³µê°œë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ìì„¸íˆ ì•Œ ìˆ˜ ì—†ì§€ë§Œ ë‹¤ìŒê³¼ ê°™ì´ ì¶”ì¸¡ì€ ê°€ëŠ¥í•˜ë‹¤. Login Serverë¥¼ ê±°ì³ì„œ Loginì„ ìˆ˜í–‰í•˜ë©°, ì´ ê³¼ì •ì—ì„œ ì ì ˆí•œ Super Nodeë¥¼ í†µí•´ì„œ ë¨¼ì € ì—°ê²° ìƒíƒœ ì²´í¬ ë“±ì„ ìˆ˜í–‰í•œë‹¤. ì´ì œ ì‚¬ìš©ìê°€ í†µí™”ë¥¼ ì‹œì‘í•œë‹¤ë©´, í•´ë‹¹ Super Nodeë¥¼ ê¸°ë°˜ìœ¼ë¡œ UDP ìŒì„± packetì´ ì˜¤ê³  ê°ˆ ê²ƒì´ë‹¤.\n\n### STUN\n\nSession Traversal Utilities for NAT ì˜ ì•½ì–´ë¡œ UDP hole punchingì´ë¼ê³ ë„ ë¶€ë¥¸ë‹¤. Network Address Translationìœ¼ë¡œ ë²ˆì—­ë˜ëŠ” ë‚´ë¶€ë§ì˜ nodeì˜ Private Addressë¥¼ Public Addressì™€ Mappingí•˜ì—¬ ê´€ë¦¬í•œë‹¤. ì›ë˜ëŠ” NAT ë‚´ë¶€ì— ì¡´ì¬í•˜ëŠ” Nodeë¥¼ ì‹ë³„í•  ìˆ˜ ì—†ì§€ë§Œ, ì´ë¥¼ í†µí•´ì„œ NAT ë‚´ë¶€ì— ì¡´ì¬í•˜ëŠ” ëŒ€ìƒì—ê²Œ Requestë¥¼ ë³´ë‚´ëŠ” ê²ƒì´ ê°€ëŠ¥í•´ì§€ëŠ” ê²ƒì´ë‹¤. ì´ì™€ ìœ ì‚¬í•œ ê°œë…ìœ¼ë¡œ TURNì´ ì¡´ì¬í•˜ëŠ”ë° ì´ëŠ” ì§ì ‘ì ìœ¼ë¡œ Trafficì„ ì „ë‹¬ë°›ì•„ì„œ ì¤‘ê³„ë¥¼ ìˆ˜í–‰í•˜ëŠ” ì—­í• ì„ ë§¡ëŠ”ë‹¤.\n\n## VPN\n\nVirtual Private Networkì˜ ì•½ì–´ë¡œ 90ë…„ëŒ€ ë§ì— ê¸°ì—…ì˜ ì‚¬ì„¤ë§ êµ¬ì¶• ì‹œì— ì‚¬ìš©ë˜ë˜ ê¸°ìˆ ì´ ê³µìš©í™”ëœ ê²ƒì´ë‹¤. ì´ëŠ” OSI 7ê³„ì¸µì—ì„œ 2 ê³„ì¸µ ì´ìƒì—ì„œ ì ìš©ì´ ê°€ëŠ¥í•˜ë©°, ì–´ëŠ ê³„ì¸µì—ì„œ ìˆ˜í–‰í•˜ëƒì— ë”°ë¼ ëª©ì ì´ ì¡°ê¸ˆì”© ë‹¤ë¥´ì§€ë§Œ, packetì„ Encapsulationí•˜ì—¬ ë„ì²­, ê°ì²­, íƒˆì·¨ ë“±ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ì—†ë„ë¡ ë§‰ëŠ” ê²ƒì´ ì£¼ ëª©ì ì´ë‹¤. ì´ë¥¼ í†µí•´ì„œ ê°œì¸ì •ë³´ë¥¼ ì•”í˜¸í™”í•˜ê³ , ì¸í„°ë„·ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤. í†µì‹  ì‚¬ì—…ìì— ì˜í•´ì„œ êµ¬ì„±ëœ VPNì´ ì•„ë‹Œ ê²½ìš° ëŒ€ì—­í­ì´ ë³´ì¥ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. IPSecì—ì„œ ë¶€í„° ì‹œì‘í•˜ì—¬, SSLê³¼ ê°™ì€ ê¸°ìˆ ì´ ì´ì— í¬í•¨ë˜ê³ , ìš°ë¦¬ê°€ ì¼ë°˜ì ìœ¼ë¡œ ìƒê°í•˜ëŠ” VPNì€ ì‘ìš© ê³„ì¸µì—ì„œì˜ í™œìš©ì´ë‹¤. ì´ ê²½ìš°ì—ëŠ” Proxy Serverë¥¼ ë¨¼ì € ê±°ì³ì„œ Traffic ìì²´ë¥¼ ìš°íšŒì‹œí‚¤ëŠ” ë°©ì‹ì´ë‹¤.\n","slug":"overlay-network","date":"2022-05-30 09:23","title":"Overlay Network","category":"Network","tags":["P2P","VPN"],"thumbnailSrc":"https://euidong.github.io/images/climb-the-rock.jpg"},{"content":"\n## Reference\n\n- Thumbnail : Photo by [Compare Fibre](https://unsplash.com/@comparefibre?utm_source=unsplash\u0026utm_medium=referral\u0026utm_content=creditCopyText) on [Unsplash](https://unsplash.com/s/photos/optical-network?utm_source=unsplash\u0026utm_medium=referral\u0026utm_content=creditCopyText)\n\n## Base\n\nê´‘í†µì‹ ì€ ë¹›ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ì—¬ ê´‘ì„¬ìœ ë¥¼ í†µí•´ì„œ ë°ì´í„°ë¥¼ ë³´ë‚´ëŠ” ë°©ì‹ì´ë‹¤. ê·¸ë ‡ë‹¤ë©´, êµ³ì´ ì™œ ë¹›ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ì„ ê±°ì¹˜ë©´ì„œ ê¹Œì§€ ê´‘í†µì‹ ì„ ì‚¬ìš©í•˜ê³ ì í•˜ëŠ”ì§€ë¥¼ ì•Œí•„ìš”ê°€ ìˆë‹¤. **ì´ëŠ” ê°„ë‹¨í•˜ê²Œ ë¹ ë¥´ê³ , ë©€ë¦¬ ì „ë‹¬í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.** ê·¸ë¦¬ê³ , ì „ìíŒŒë¥¼ ì´ìš©í•˜ëŠ” ë¬´ì„ í†µì‹ ê³¼ ë‹¤ë¥´ê²Œ ë¹›ì€ 4ê°€ì§€ì˜ íŠ¹ì§•ì„ ê°€ì§€ê¸° ë•Œë¬¸ì´ë‹¤(ë°˜ì‚¬, êµ´ì ˆ, ê°„ì„­, í¸ê´‘). ê´‘ì„¬ìœ  ë‚´ë¶€ì—ì„œëŠ” ì—¬ëŸ¬ ì›ì¸ì— ì˜í•´ì„œ ìƒì‡„(ì†ì‹¤)ê°€ ë°œìƒí•˜ê¸° ë•Œë¬¸ì— ì´ë¥¼ ì¦í­í•´ì¤„ ë°©ë²•ì´ í•„ìš”í•˜ë©°, ê´‘ì„¬ìœ ë¥¼ ì–´ë–»ê²Œ êµ¬ì„±í• ì§€ì—ì„œë¶€í„° ì²˜ìŒì— ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ë¹›ìœ¼ë¡œ ë³€í™˜í• ì§€ì— ëŒ€í•œ ë°©ë²•ê³¼ ë°›ì€ ë¹›ì„ ë‹¤ì‹œ ë°ì´í„°ë¡œ ë³€í™˜í•˜ëŠ” ë°©ë²•ì´ êµ‰ì¥íˆ ì¤‘ìš”í•˜ë‹¤. ë”°ë¼ì„œ, ì´ë¥¼ ìœ„í•œ ê¸°ìˆ ê³¼ ì¥ë¹„ë“¤ì„ ë¨¼ì € ì‚´í´ë³´ê³  ê°ˆ ê²ƒì´ë‹¤.\n\n![ê´‘í†µì‹ ](/images/optical-transfer.jpeg)\n\n### ê´‘ì„¬ìœ \n\nì‹¤ì œë¡œ ë¹›ì´ ì´ë™í•˜ëŠ” í†µë¡œ ì—­í• ì„ ìˆ˜í–‰í•œë‹¤. ì£¼ìš” êµ¬ì„±ìš”ì†ŒëŠ” ë³´í˜¸ìš© ì•„í¬ë¦´, cladding, coreì´ë‹¤. ë¹›ì€ ì‹¤ì œë¡œëŠ” core ë‚´ë¶€ì—ì„œë§Œ ì´ë™í•œë‹¤. ë‚´ë¶€ì—ì„œ ë¹›ì€ ì§€ê·¸ì¬ê·¸ë¡œ ì´ë™í•˜ë©° ê³„ì†í•´ì„œ claddingê³¼ ì ‘í•˜ì§€ë§Œ ë¹›ì˜ êµ´ì ˆë¥ ì„ ì´ìš©í•˜ì—¬ ì „ë°˜ì‚¬ ì‹œí‚¤ë„ë¡ ì„¤ê³„ë¥¼ í•´ë‘ì–´ coreë¡œë§Œ ë¹›ì´ í†µí•˜ê²Œ ëœë‹¤. ì´ë•Œ, ì´ëŸ¬í•œ ë¹›ì˜ ì´ë™ ê²½ë¡œë¥¼ í•˜ë‚˜ì˜ modeë¼ê³  í•˜ê³ , ì´ëŠ” ì²˜ìŒ ë¹›ì˜ ì…ì‚¬ê°ì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤. ì´ëŸ¬í•œ modeë¥¼ ì—¬ëŸ¬ ê°œ í—ˆìš©í•œë‹¤ë©´, ì´ëŠ” multi mode fiber(MMF)ë¼ê³  í•˜ê³ , í•˜ë‚˜ë§Œ í—ˆìš©í•œë‹¤ë©´ single mode fiber(SMF)ë¼ê³  í•œë‹¤. ì¼ë°˜ì ìœ¼ë¡œëŠ” SMFê°€ ë” ê³ íš¨ìœ¨ ì‹œìŠ¤í…œì„ í™œìš©í•˜ê¸° ë•Œë¬¸ì— ì „ì†¡ íš¨ìœ¨ì€ ë†’ì§€ë§Œ ë¹„ìš©ì ì¸ ì¸¡ë©´ì—ì„œ MMFë„ ìì£¼ ì‚¬ìš©ëœë‹¤.\n\n![ê´‘ì„¬ìœ ](/images/optical-fiber.jpeg)\n\n#### ê´‘ì„¬ìœ  ì†ì‹¤\n\nê´‘ì„¬ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì´ìœ ì— ì˜í•´ì„œ ë¹›ì„ ì†ì‹¤í•œë‹¤.\n\n1. ê²°í•© ì†ì‹¤(Coupling Loss) : ì´ˆê¸°ì— Lasor ì¥ì¹˜ì™€ ê´‘ì„¬ìœ ì˜ core ì‚¬ì´ì—ì„œ ë°œìƒí•˜ëŠ” ì†ì‹¤\n2. í¡ìˆ˜ ì†ì‹¤ : ê´‘ì„¬ìœ  ì œì‘ ê³¼ì •ì—ì„œ coreì— ì„ì¸ ì–´ì©” ìˆ˜ ì—†ëŠ” ë¶ˆìˆœë¬¼ì— ì˜í•œ ì†ì‹¤\n3. ì‚°ë€ì†ì‹¤(Scattering Loss) : ê´‘ì„¬ìœ ì˜ coreì—ì„œì˜ ë¹„ê· ì§ˆì„±ì— ì˜í•´ì„œ êµ´ì ˆë¥ ì´ ìˆœê°„ì ìœ¼ë¡œ ë³€í•˜ì—¬ ë°œìƒí•˜ëŠ” ì†ì‹¤\n4. êµ¬ë¶€ëŸ¬ì§ì— ì˜í•œ ë³µì‚¬ ì†ì‹¤(Bending Loss) : ê´‘ì„¬ìœ ì˜ ì¼ë¶€ êµ¬ë¶€ëŸ¬ì§ì— ì˜í•˜ì—¬ êµ´ì ˆë¥ ì´ ì˜í–¥ì„ ë°›ì•„ ë°œìƒí•˜ëŠ” ì†ì‹¤\n5. ì ‘ì† ì†ì‹¤(Joint Loss) : ê´‘ì„¬ìœ ê°„ì˜ ê²°í•© ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ì†ì‹¤\n\n#### ì†ì‹¤ ë³´ìƒ(Dispersion Compensation)\n\nê´‘ì„¬ìœ  ë‚´ì—ì„œ ì†ì‹¤ì„ ë³´ìƒí•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©ë˜ëŠ” ëŒ€í‘œì ì¸ ë°©ë²•ì´ 4ê°€ì§€ê°€ ìˆë‹¤.\n\n1. DCF(Dispersion Compensation Fiber)ë¥¼ ì´ìš©í•œë‹¤. ì´ëŠ” ë¹›ì˜ íŒŒì¥ì„ ë” ê¸¸ê²Œ ë³€í™”ì‹œí‚¤ëŠ”ë° ì´ë¥¼ ì´ìš©í•˜ì—¬ ì¤‘ê°„ì— ì¦í­ì„ ê°€í•˜ëŠ” ê²ƒì´ë‹¤. ì´ë¥¼ ì´ìš©í•  ë•Œì—ëŠ” SMFë¡œ ê´‘ì„¬ìœ ë¡œ ì±„íƒí•˜ê³ , ë¨¼ì € ì§„í–‰í•œ í›„ì— í•´ë‹¹ ê¸¸ì´ì˜ 19%ë§Œí¼ì„ DCFë¡œ í†µê³¼ì‹œì¼œì„œ ì†ì‹¤ëœ ì–‘ë§Œí¼ì„ ë³´ì¶©í•´ì£¼ê³ , ë‹¤ì‹œ SMFë¡œ ì§„í–‰ì‹œí‚¤ëŠ” ê²ƒì´ë‹¤. ë§ˆì¹˜ ë¹›ì„ ì˜¤ëª© ë Œì¦ˆ(SMF)ë¡œ í¼íŠ¸ë¦¬ë©´, ë‹¤ì‹œ ë³¼ë¡ ë Œì¦ˆ(DCF)ë¡œ ëª¨ì•„ì£¼ëŠ” ê²ƒê³¼ ìœ ì‚¬í•˜ë‹¤.\n2. EDF(Erbium Doped Fiber), PDF(Pr Droped Fiber) ë“±ì„ í™œìš©í•œë‹¤. ì´ëŠ” ìì²´ì ìœ¼ë¡œ ê´‘ì„ ì¦í­í•˜ëŠ” íš¨ê³¼ë¥¼ ê°–ê³  ìˆê¸° ë•Œë¬¸ì— ì´ë¥¼ ì¤‘ê°„ì— í†µê³¼ ì‹œì¼œì„œ ì¦í­ì„ ìˆ˜í–‰í•œë‹¤. ì´ ë°©ì‹ì´ ë” ì§§ì€ ê¸¸ì´ì˜ Fiberë¡œ ì¦í­ì´ ê°€ëŠ¥í•˜ë‹¤.\n3. ì¤‘ê³„ê¸°ë¥¼ í™œìš©í•œë‹¤. ì¤‘ê°„ì—ì„œ ë¹›ì„ ë‹¤ì‹œ ì „ê¸°ë¡œ ë°”ê¾¼ í›„ì— ì´ë¥¼ ë‹¤ì‹œ ê´‘ìœ¼ë¡œ ì¦í­í•˜ì—¬ ì „ë‹¬í•˜ëŠ” ë°©ì‹ì´ë‹¤. ì´ ë°©ì‹ì€ í¸ë¦¬í•˜ì§€ë§Œ, ì „ê¸°ê°€ í•„ìš”í•˜ë©°, ì²˜ë¦¬ ê³¼ì •ì—ì„œì˜ ì§€ì—°ì´ í¬ë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤.\n4. ì¦í­ê¸°ë¥¼ í™œìš©í•œë‹¤. ê´‘ì„¬ìœ  ë‚´ ëª¨ë“  ì‹ í˜¸ë¥¼ ì¦í­ ì‹œí‚¨ë‹¤. Noiseë„ ê°™ì´ ì¦í­ë  ìˆ˜ ìˆë‹¤ëŠ” ë‹¨ì ì´ ìˆì§€ë§Œ, ë¹ ë¥´ê¸°ì— ë§ì´ ì‚¬ìš©ëœë‹¤. ëŒ€í‘œì ì¸ ì¦í­ì˜ ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\n   - EDFA : EDFë¥¼ ì´ìš©í•œ ì¦í­ ë°©ë²•ì´ë‹¤. ì›ë¦¬ëŠ” ì „ë‹¬ë˜ëŠ” ë¹›ì— ì•½í•œ ê´‘ì‹ í˜¸ë¥¼ ì„ì–´ì„œ ì¦í­ì‹œí‚¤ëŠ” ê²ƒì´ë‹¤. ë‹¨ì ì€ C, L bandë§Œì„ ì»¤ë²„í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë” ë„“ì€ ë²”ìœ„ì— ëŒ€í•´ì„œëŠ” ì œí•œì ì´ë‹¤.\n   - Raman ì¦í­ : ë¹›ì˜ ì‚°ë€íš¨ê³¼ë¥¼ í™œìš©í•˜ì—¬ íŠ¹ì • ì£¼íŒŒìˆ˜ ì˜ì—­ì˜ ë¹›ì„ ì¦í­ì‹œí‚¤ëŠ” ê¸°ëŠ¥ì„ í•œë‹¤. ë” ë„“ì€ ë²”ìœ„ë¥¼ ì»¤ë²„í•  ìˆ˜ ìˆê³ , EDFAë³´ë‹¤ ëœ ë¹ˆë²ˆí•˜ê²Œ ì„¤ì¹˜í•˜ì—¬ë„ ë¬´ë°©í•˜ë‹¤.\n\n### Tranceiver\n\nê´‘ì†¡ìˆ˜ì‹ ê¸°ë¥¼ ì˜ë¯¸í•œë‹¤. ëŒ€ê²Œ ê´‘ì†¡ì‹ ì„ ë‹´ë‹¹í•˜ëŠ” TOSAì™€ ê´‘ìˆ˜ì‹ ì„ ë‹´ë‹¹í•˜ëŠ” ROSAë¥¼ ëª¨ë‘ í¬í•¨í•˜ì—¬ ë§Œë“  ì¥ì¹˜ë¡œ ì‹¤ì œ Switch/Routerì—ì„œ ê´‘ì¼€ì´ë¸”(ê´‘ì„¬ìœ )ì´ ì—°ê²°ë˜ëŠ” interface ì—­í• ì„ í•œë‹¤. í•´ë‹¹ ê¸°ìˆ ì€ ì†Œí˜•í™”ì™€ ì €ì „ë ¥í™”ê°€ í•µì‹¬ì´ê³  í˜„ì¬ì—ëŠ” í•˜ë‚˜ì˜ Switch/Routerì— 32ê°œ ì´ìƒ í¬í•¨í•  ìˆ˜ ìˆì„ ì •ë„ë¡œ ì†Œí˜•í™”/ì €ì „ë ¥í™”ê°€ ì§„í–‰ë˜ì—ˆë‹¤.\n\n#### Tranceiver ë‚´ë¶€ì˜ ë³€ì¡° ê¸°ìˆ \n\n\u003e **ê´‘ë³€ì¡°ê¸°ìˆ **\n\nê¸°ë³¸ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë¹›ìœ¼ë¡œ ë°”ê¾¸ê³ ì í•  ë•Œì—ëŠ” ê¸°ì¡´ ë°ì´í„°ì˜ ì£¼íŒŒìˆ˜ë¥¼ ê·¸ëŒ€ë¡œ ì´ìš©(BaseBand)í•˜ê¸° ë³´ë‹¤ëŠ” ê³ ì£¼íŒŒ ëŒ€ì—­ê³¼ ê²°í•©í•˜ì—¬ í•´ë‹¹ ê³ ì£¼íŒŒ ëŒ€ì—­(BroadBand)ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ë³´ë‚¸ë‹¤. ì´ë¥¼ ìˆ˜í–‰í•˜ë©´ ì¥ê±°ë¦¬ í†µì‹ ì— ìœ ë¦¬í•˜ë©°, ì•ˆí…Œë‚˜ì˜ ê¸¸ì´ë¥¼ ë‹¨ì¶•í•  ìˆ˜ ìˆì„ ë¿ë§Œ ì•„ë‹ˆë¼ Noiseë¥¼ ê°œì„ í•˜ê¸°ì— ìœ ë¦¬í•˜ë‹¤ëŠ” ì¥ì ì„ ê°–ê³  ìˆë‹¤. ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ì—¬ ì´ 2ê°€ì§€ í˜•íƒœì˜ ë³€ì¡° ê¸°ìˆ ì´ ì¡´ì¬í•œë‹¤.\n\n- ì§ì ‘ ë³€ì¡°(Direct Modulation) : ë°ì´í„°ì˜ 0ê³¼ 1ì— ë”°ë¼ ê´‘ì›ì„ í‚¤ê³  ë„ê³ ë¥¼ ìˆ˜í–‰í•˜ë„ë¡ í•˜ëŠ” ë°©ì‹\n- ì™¸ë¶€ ë³€ì¡°(External Modulation) : ê´‘ì›ì€ ê³„ì† ì¼œë‘” ìƒíƒœì—ì„œ ë°ì´í„°ì˜ 0ê³¼ 1ì— ë”°ë¼ ë¹›ì„ ë§‰ì•˜ë‹¤ê°€ í†µê³¼ì‹œì¼°ë‹¤ë¥¼ ì œì–´í•˜ëŠ” ë°©ì‹\n\n\u003e **ì‹ í˜¸ë³€ì¡°ê¸°ìˆ **\n\ndataë¥¼ ì‹ í˜¸ë¡œ ë³€í™˜í•˜ëŠ” ê¸°ìˆ ì´ë‹¤. ëŒ€í‘œì ì¸ ë°©ì‹ì€ 4ê°€ì§€ê°€ ì¡´ì¬í•œë‹¤.\n\n1. ASK(Amplitude Shift Keying) : ë””ì§€í„¸ ì‹ í˜¸ì— ê³ ì£¼íŒŒ ì‹ í˜¸ë¥¼ ê²°í•©í•˜ì—¬ ë³€í™˜ ì‹ í˜¸ë¥¼ ë§Œë“œëŠ” ë°©ë²•ìœ¼ë¡œ ë‘ ê°œì˜ transiterë¡œë„ ë§Œë“¤ ìˆ˜ ì‡ì„ ì •ë„ë¡œ ë§¤ìš° ê°„ë‹¨í•˜ë‚˜ ì¡ìŒì—ëŠ” ì·¨ì•½í•˜ë‹¤.\n2. FSK(Frequency Shift Keying) : ë””ì§€í„¸ ì‹ í˜¸ì— ë”°ë¼ ê³ ì£¼íŒŒ ì‹ í˜¸ì˜ ì£¼íŒŒìˆ˜ë¥¼ ë³€í™˜í•˜ì—¬ ì‹ í˜¸ë¥¼ ë³´ë‚´ëŠ” ê¸°ìˆ ë¡œ ê°„ë‹¨í•˜ë©´ì„œë„ ì¡ìŒì— ê°•í•˜ì§€ë§Œ, ë§ì€ ì£¼íŒŒìˆ˜ ëŒ€ì—­ì„ í•„ìš”ë¡œ í•œë‹¤.\n3. PSK(Phase Shift Keying) : ë””ì§€í„¸ ì‹ í˜¸ì— ë”°ë¼ ê³ ì£¼íŒŒ ì‹ í˜¸ì˜ ìœ„ìƒì„ ì—­ì „ì‹œì¼œ ë³€í™˜í•˜ì—¬ ì‹ í˜¸ë¥¼ ë³´ë‚´ëŠ” ê¸°ìˆ ë¡œ ê°„ë‹¨í•˜ê³  ì¡ìŒì— ê°•í•˜ì§€ë§Œ ìˆ˜ì‹ ì¸¡ì— ë¶€ê°€ì ì¸ ìœ„ìƒ ì¶”ì  ì¥ë¹„ê°€ í•„ìš”í•˜ë‹¤.\n4. QPSK(Quadrature PSK) : ìœ„ìƒì„ ë” ì„¸ë¶„í™”í•˜ì—¬ 4ë‹¨ê³„ë¡œ ë‚˜ëˆ„ì–´ ì‹ í˜¸ë¥¼ ë³´ë‚´ëŠ” PSK ë°©ì‹ì´ë‹¤. ê¸°ì¡´ì˜ PSKë³´ë‹¤ ì „ì†¡ íš¨ìœ¨ì´ ë†’ì•„ì§„ë‹¤.\n5. QAM(Quadrature Amplitude Modulation) : ASKì™€ PSKë¥¼ ì¡°í•©í•œ ë°©ì‹ìœ¼ë¡œ ASKì™€ PSKë¥¼ ë³„ë„ë¡œ ìˆ˜í–‰í•˜ê³  ì´ì— ì˜í•´ì„œ ìƒì„±ëœ ì‹ í˜¸ë¥¼ í•©ì³ì„œ ì „ì†¡í•˜ëŠ” ë°©ì‹ì´ë‹¤. ë‚˜íƒ€ë‚˜ëŠ” ìœ„ìƒì˜ ìˆ˜ì— ë”°ë¼ì„œ 4-QAM, 8-QAM, 16-QAM, 32-QAM ë“±ìœ¼ë¡œ ë‚˜ë‰œë‹¤. ì°¸ê³ ë¡œ 4-QAMì€ ì‚¬ì‹¤ìƒ QPSKì™€ ë™ì¼í•˜ë‹¤.\n\n## ê´‘í†µì‹ ë§\n\nê´‘ ì¼€ì´ë¸”ë¡œ êµ¬ì„±ëœ ë¬¼ë¦¬ ë„¤íŠ¸ì›Œí¬ì´ë‹¤. í¬ê²Œ 3ê°€ì§€ Networkë¡œ êµ¬ì„±ë˜ì–´ì§„ë‹¤. ì¼ë°˜ì ìœ¼ë¡œëŠ” ê° Networkê°€ Ring Topologyë¡œ êµ¬ì„±ëœë‹¤. ì´ëŠ” ì¥ì• ì— ëŒ€ë¹„í•˜ê¸° ìœ„í•¨ì´ë‹¤. OTNì´ë¼ê³ ë„ ë¶€ë¥´ë©° ì¤‘ê°„ Routerì—ì„œì˜ ë³€í™˜ì„ ìµœì†Œí™”í•˜ê³  ê´‘í†µì‹ ìœ¼ë¡œ ì§ì ‘ì ìœ¼ë¡œ ì—°ê²°í•˜ëŠ” í•˜ìœ„ ë„¤íŠ¸ì›Œí¬ë¥¼ êµ¬ì„±í•˜ëŠ” ê²ƒì´ë‹¤.\n\nì´ˆê¸°ì—ëŠ” SONET/SDHë¼ëŠ” í˜•íƒœê°€ ìˆì—ˆë‹¤. ì´ëŠ” Synchronous Optical Network / Synchronous Digital Hierarchyì˜ ì•½ìë¡œ ê±°ì˜ ë¹„ìŠ·í•œ ë‘ ê¸°ìˆ ì„ ë¶™ì—¬ ë¶€ë¥´ëŠ” ë§ì´ë‹¤. ì‚¬ì‹¤ìƒ í‘œì¤€ì„ ë°œí–‰í•œ ê¸°ê´€ì´ ë¯¸êµ­ì´ëƒ êµ­ì œê¸°ê´€ì´ëƒì˜ ì°¨ì´ì´ë‹¤(ê·¸ë˜ì„œ ì„¸ë¶€ ìš©ì–´ë“¤ì€ ë‚´ë¶€ì ìœ¼ë¡œ ë‹¤ë¥´ë‹¤). TDMìœ¼ë¡œ ë‹¤ì¤‘í™” ì „ì†¡ì„ ìˆ˜í–‰í•˜ì˜€ê³ , ì´í›„ì—ëŠ” í†µê³„ì  ë‹¤ì¤‘í™”ë¼ëŠ” TDMì˜ ê³ ì • ì‹œê°„ë¶„í• ì„ ìœ ë™ì ìœ¼ë¡œ ë°”ê¾¼ ë°©ì‹ì´ ë“±ì¥í•˜ì§€ë§Œ ì—¬ê¸°ì„œëŠ” ì‚¬ìš©ë˜ì–´ì§€ì§€ ì•Šì•˜ë‹¤. ì›ë˜ëŠ” ìŒì„± í†µì‹ ì— ì´ˆì ì„ ë§ì¶”ì—ˆê¸° ë•Œë¬¸ì— ì¥ì•  ì‹œ ì‚¬ëŒì´ ì¸ì‹í•˜ì§€ ëª»í•˜ëŠ” ~50ms ì´ë‚´ì— ìë™ ì ˆì²´ë¥¼ ìˆ˜í–‰í•˜ëŠ” ì‘ì—…ë„ ìµœì´ˆ ë„ì…ë˜ì—ˆë‹¤. ì´ë¡œì¸í•´ ìŒì„± í†µì‹ ì—ì„œëŠ” ìš°ìˆ˜í•œ ì„±ëŠ¥ì„ ë³´ì˜€ì§€ë§Œ ì¸í„°ë„· íŠ¸ë˜í”½ì—ì„œëŠ” ìœ„ì—ì„œ ë§í•œ í†µê³„ì  ë‹¤ì¤‘í™”ë¥¼ ì§€ì›í•˜ì§€ ì•Šì•„ ëŒ€ì—­í­ ë‚­ë¹„ê°€ ì‹¬í–ˆë‹¤. ì´ì— ë”°ë¼ ì•„ë˜ì™€ ê°™ì€ í˜•íƒœì˜ Networkë¡œ êµ¬ì„±ëœ í˜•íƒœë¡œ ë³€í™”í•˜ê²Œ ë˜ì—ˆë‹¤.\n\n1. ROADM : Reconfigurable Optical Add-Drop Multiplexerì˜ ì•½ìë¡œ íŠ¹ì • íŒŒì¥ì„ Dropí•˜ê±°ë‚˜ Addí•˜ëŠ” ì¥ì¹˜ì¸ OADMì„ ë°œì „ì‹œí‚¨ ì¥ì¹˜ì´ë‹¤. ì›ë˜ëŠ” ì„¤ì •ì„ ë³€ê²½í•˜ëŠ” ê²ƒì´ ìˆ™ë ¥ëœ ê¸°ìˆ ìë“¤ì— ì˜í•´ í•˜ë“œì›¨ì–´ì ìœ¼ë¡œ ê°€ëŠ¥í–ˆëŠ”ë° ì´ë¥¼ ì›ê²©ìœ¼ë¡œ ì œì–´í•˜ëŠ” ê¸°ìˆ ì„ ì ìš©í•œ ê²ƒì´ ROADMì´ë‹¤. ì´ëŠ” Backbornì—ì„œ ê´‘íŒŒì¥ì„ ë¶„ë¦¬í•˜ê³  ë¶„ì„í•´ì„œ ì ì ˆí•˜ê²Œ Routingí•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤.\n2. MSPP : Multi Service Provisioning Platformì˜ ì•½ìë¡œ SONET/SDHì™€ ATM, Ethernetì„ ë™ì‹œì— ì§€ì›í•˜ëŠ” Moduleë¡œ ì—¬ëŸ¬ Platformì˜ Interfaceë¡œ ê¸°ëŠ¥í•œë‹¤.\n3. PON : Passive Optical Network ì˜ ì•½ìë¡œ í•˜ë‚˜ì˜ ê´‘í†µì‹  ì§€ì›ì¥ì¹˜(OLT, Optical Line Terminator)ë¥¼ í†µí•´ì„œ ëª¨ë“  ë¹›ì„ í•˜ë‚˜ì˜ Fiberë¡œ í•©í•˜ì—¬ ì—¬ëŸ¬ ì¥ì¹˜ë“¤ì—ê²Œ ê´‘í†µì‹ ì„ ì§€ì›í•˜ëŠ” í˜•íƒœì˜ Networkë¡œ ëŒ€ê²Œ ê´‘í†µì‹ ì˜ End ì§€ì ì—ì„œ ë§ì´ ì‚¬ìš©ë˜ëŠ” Networkì´ë‹¤.\n   - TDM-PON : Time Division Mulitplexingì˜ ì•½ì €ë¡œ ìˆ˜ì‹  ì‹œì— OLTë¥¼ ì´ìš©í•˜ì—¬ ê´‘ì¼€ì´ë¸”ë¡œ ì˜¨ ë¹›ì„ ì§ë ¬í™”í•˜ê³ , Splitterë¥¼ í†µí•´ì„œ ë„¤íŠ¸ì›Œí¬ì— Broadcastingí•˜ëŠ” ë°©ì‹ì´ë‹¤. ì†¡ì‹  ì‹œì—ëŠ” ì‹œë¶„í• ì„ í†µí•´ì„œ ê° ì¥ë¹„ì—ì„œ ì˜¤ëŠ” ê´‘ ë°ì´í„°ë¥¼ ì „ì†¡í•œë‹¤.\n   - CWDM-PON : Coarse Wavelength Division Multiplexing ì˜ ì•½ìë¡œ ìˆ˜ì‹  ì‹œì— ì±„ë„ì„ ìµœëŒ€ 18ê°œê¹Œì§€ë¡œ ë‚˜ëˆ„ì–´ ê° ì±„ë„ì„ í†µí•´ì„œ í†µì‹ ì„ ìˆ˜í–‰í•˜ë„ë¡ í•˜ëŠ” ë°©ì‹ì´ë‹¤. ì´ë•Œ, RNì´ë¼ëŠ” ì¥ì¹˜ê°€ Prizmì²˜ëŸ¼ ë¹›ì„ ë¶„ì‚°ì‹œí‚¤ëŠ” ì—­í• ì„ í•œë‹¤.\n   - DWDM-PON : ê° ê´‘ê°€ì…ìë§ˆë‹¤ ë³„ë„ì˜ ê³ ìœ  íŒŒì¥ì„ ë¶€ì—¬í•˜ëŠ” ë°©ì‹ì´ë‹¤. ë°©ì‹ì€ CWDMê³¼ ë§¤ìš° ìœ ì‚¬í•˜ë‹¤.\n   - NG-PON2 : TDMê³¼ WDMì„ ê²°í•©í•˜ì—¬ í•˜ëŠ” ë°©ì‹ì´ë‹¤.\n","slug":"optical-transport-network","date":"2022-05-28 19:03","title":"ê´‘í†µì‹ ë§","category":"Network","tags":["OpticalTransportNetwork"],"thumbnailSrc":"https://euidong.github.io/images/optical-network.jpg"},{"content":"\n### Reference\n\n- Thumbnail: Photo by [Markus Spiske](https://unsplash.com/@markusspiske?utm_source=unsplash\u0026utm_medium=referral\u0026utm_content=creditCopyText) on [Unsplash](https://unsplash.com/s/photos/internet?utm_source=unsplash\u0026utm_medium=referral\u0026utm_content=creditCopyText)\n\nì¸í„°ë„·ì´ ì²˜ìŒ ì„¸ìƒì— ë“±ì¥í•œ ì´ë˜ë¡œ ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ ë„¤íŠ¸ì›Œí¬ êµ¬ì¡°ê°€ ë§Œë“¤ì–´ì¡Œë‹¤. ì‘ê²ŒëŠ” ìš°ë¦¬ê°€ ì‚¬ìš©í•˜ëŠ” Wifië¥¼ êµ¬ì„±í•˜ëŠ” LAN ì˜ì—­ì—ì„œ ë¶€í„° ì „ì²´ ì„¸ìƒì„ ì—°ê²°í•˜ëŠ” Internetì™€ ê°™ì€ ê´‘ë²”ìœ„í•œ ë„¤íŠ¸ì›Œí¬ê°€ ì¡´ì¬í•œë‹¤.\n\ní•´ë‹¹ Postingì—ì„œëŠ” ì¼ë°˜ì ì¸ LANì„ ì œì™¸í•œ Networkì˜ ëŒ€í‘œì ì¸ ì¢…ë¥˜ë¥¼ ì•Œì•„ë³´ê³  íŠ¹ì§•ì„ ì •ë¦¬í•  ê²ƒì´ë‹¤.\n\n## BackBorn Network\n\nBackBornì€ ë“±ë¼ˆ, ì¤‘ì¶”ë¥¼ ì˜ë¯¸í•œë‹¤. ì¦‰, ë„¤íŠ¸ì›Œí¬ì˜ ì¤‘ì¶”ë¼ëŠ” ê²ƒì´ë‹¤. í•´ë‹¹ ë„¤íŠ¸ì›Œí¬ëŠ” ê° Nodeì™€ Nodeë¥¼ ì§ì ‘ì ìœ¼ë¡œ ì—°ê²°í•˜ê¸° ë³´ë‹¤ëŠ” ì´ë¯¸ êµ¬ì„±ë˜ì–´ìˆëŠ” LAN ê°„ì˜ ì—°ê²°ì„ ìˆ˜í–‰í•˜ëŠ” ë„¤íŠ¸ì›Œí¬ì´ë‹¤. ì‘ì€ ë²”ìœ„ì—ì„œëŠ” íŠ¹ì • ê±´ë¬¼ ë‚´ì—ì„œì˜ LANê°„ì„ ì—°ê²°í•˜ëŠ” Networkë¥¼ ì˜ë¯¸í•˜ê¸°ë„ í•˜ì§€ë§Œ ëŒ€ê²Œì˜ ê²½ìš° LANê³¼ Internetì„ ì—°ê²°í•˜ëŠ” Internet BackBorn Networkë¥¼ ì˜ë¯¸í•œë‹¤. ì´ëŸ¬í•œ BackBorn NetworkëŠ” ì• ì„œ ì‚´í´ë³¸ LANê³¼ì˜ ì—°ê²° ë¿ë§Œ ì•„ë‹ˆë¼ ëŒ€ê²Œ 4ê°€ì§€ì˜ ì—­í• ì„ í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.\n\n1. ì„œë¹„ìŠ¤ ì„œë²„ ë° êµ­ë‚´ ì™¸ íƒ€ ì‚¬ì—…ì ì—°ê²°\n2. ê³ ê°€ìš©ë„ ìŠ¤ìœ„ì¹˜ ë° ë¼ìš°í„°ë¥¼ ì‚¬ìš©í•˜ë©°, ì´ì¤‘í™”ë¥¼ êµ¬ì„±\n3. íƒ€ í†µì‹ ì‚¬ì—…ìì™€ì˜ ì—°ë™ì„ ìœ„í•œ IX(Inter Exchange)ë¥¼ êµ¬ì„±\n4. ë°ì´í„°ì„¼í„°ì™€ ì—°ê²°ë˜ëŠ” Switchë¥¼ ì œê³µ\n\nìš°ë¦¬ê°€ Ethernetì„ í†µí•´ì„œ ê³µìœ ê¸°ì— packetì„ ì „ë‹¬í•˜ë©´, ê³µìœ ê¸°ëŠ” ê±´ë¬¼ ë‚´ Switchë¡œ ì—°ê²°ë˜ê³ , ì´ê²ƒì´ BackBorn Networkë¡œ packetì„ ë³´ë‚´ë©´ BackBornì—ì„œ ì´ë¥¼ ì˜¬ë°”ë¥¸ Networkë¡œ ë‹¤ì‹œ ì˜®ê¸°ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.\n\nëŒ€ê²Œ ì´ì™€ ê°™ì€ ì¼ì€ í†µì‹ ì‚¬ì—…ì(êµ­ë‚´ì—ëŠ” KT, SKT, LG)ê°€ ìˆ˜í–‰í•˜ê³  ìˆë‹¤. ë¬¼ë¡  ì ‘ì†í•˜ê³ ì í•˜ëŠ” ì‚¬ì´íŠ¸ê°€ í•´ì™¸ì— ìœ„ì¹˜í•˜ëŠ” ê²½ìš° í•´ì™¸ í†µì‹ ì‚¬ì—…ìì˜ BackBornìœ¼ë¡œ ë„˜ì–´ê°€ì„œ í•´ë‹¹ Networkë¥¼ ì°¾ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤. ë”°ë¼ì„œ, ì´ë¥¼ ê·¸ë¦¼ìœ¼ë¡œ ë‚˜íƒ€ë‚´ë©´ ì•„ë˜ì™€ ê°™ë‹¤.\n\n![backborn network](/images/backborn-network.jpeg)\n\n### Topology in Backborn Network\n\nì´ëŸ¬í•œ BackBorn Networkë¥¼ êµ¬ì„±í•  ë•Œì— ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê²ƒì€ Star topologyì´ë‹¤. ì´ëŠ” Star topologyëŠ” í•˜ë‚˜ ì´ìƒì˜ ì¤‘ì‹¬ nodeë¡œ trafficì´ ëª°ë¦¬ê²Œ ë˜ëŠ”ë° ì´ëŸ¬í•œ êµ¬ì¡°ëŠ” ê´€ë¦¬ ë° ìš”ê¸ˆ ì¸¡ì • ë“±ê³¼ ê°™ì€ ê³¼ì •ì„ ì‰½ê²Œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì´ë‹¤. í•˜ì§€ë§Œ, ì¤‘ì‹¬ìœ¼ë¡œ trafficì´ ì§‘ì¤‘ë˜ëŠ” ë§Œí¼ ì¬ë‚œ ë°œìƒì— ì·¨ì•½í•  ìˆ˜ ìˆê³ , ì´ë¡œ ì¸í•œ ì§€ì—°ìœ¼ë¡œ ì¸í•´ ì „ì†¡ íš¨ìœ¨ì´ ê°ì†Œí•  ìˆ˜ë„ ìˆë‹¤.\n\në¯¸êµ­ì˜ í†µì‹ ì‚¬ì—…ì AT\u0026TëŠ” Mesh Topologyë¥¼ í™œìš©í•˜ëŠ”ë° ì´ëŠ” ì¤‘ì•™ì— ëª¨ë“  Trafficì´ ì§‘ì¤‘ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ê°€ìš©ì„±ì´ ë†’ê³ , êµ­ì œì ì¸ Trafficì´ ë§ê³ , ì´ë¡œ ì¸í•œ trafficì´ ë§ê¸°ì— í† ì§€ê°€ í° ë¯¸êµ­ì˜ íŠ¹ì„±ì„ ì´ìš©í•´ ë‹¤ë¥¸ ì§€ì—­ì—ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì¥ë¹„ë¥¼ ìš°íšŒí•´ì„œ trafficì„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤. í•˜ì§€ë§Œ, ìœ ì§€ ê´€ë¦¬ ê³¼ì •ì´ ë‹¤ì†Œ ë‚œí•´í•˜ê³  ì´ë¡œ ì¸í•œ ë¹„ìš©ì´ Star Topologyë³´ë‹¤ í¬ë‹¤ê³  í•  ìˆ˜ ìˆë‹¤.\n\n## Internet\n\nInternetì€ ì„œë¡œ ë‹¤ë¥¸ Networkë¥¼ ì—°ê²°í•˜ëŠ” ë˜ í•˜ë‚˜ì˜ Networkì´ë‹¤. ëŒ€ê²Œ í•„ì—°ì ìœ¼ë¡œ Internet í†µì‹ ì´ë¼ê³  í•˜ë©´, BackBornì„ ê±°ì³ì„œ í†µì‹ í•˜ëŠ” ê²ƒì„ Internetì´ë¼ê³  í•˜ëŠ” ê²½í–¥ì´ ìˆë‹¤.\n\n### ì´ë™í†µì‹ \n\në¶€ê°€ì ìœ¼ë¡œ ëŒ€ê²Œì˜ í†µì‹  ì‚¬ì—…ìëŠ” êµ­ë‚´ ì§€ì—­ì— ê¸°ì§€êµ­(Base Station, ëŒ€ê²Œ ì „ë´‡ëŒ€ì— ì„¤ì¹˜ëœ ê²½ìš°ê°€ ë§ë‹¤.)ì„ í†µí•´ ì´ë™ í†µì‹  ì¢…ëŸ‰ì œ ë„¤íŠ¸ì›Œí¬ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•œë‹¤. ì´ ì—­ì‹œ BackBorn Networkì™€ ì—°ê²°ë˜ì–´ ê°ì¢… ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•œë‹¤.\n\n### ì´ì¤‘í™”\n\nBackBorn Networkì˜ ê°€ì¥ ì¤‘ìš”í•œ íŠ¹ì§• ì¤‘ í•˜ë‚˜ê°€ ê³ ê°€ìš©ì„±ì„ ì œê³µí•´ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤. ì¦‰, ëŠê¸°ì§€ ì•ŠëŠ” Networkë¥¼ ì§€í–¥í•œë‹¤ëŠ” ê²ƒì´ë‹¤. ì´ë¥¼ ìœ„í•´ì„œ ë§ ìì²´ë¥¼ ì´ì¤‘í™”í•˜ê³ , BackBornê³¼ ì—°ê²°ë˜ëŠ” Routerì—ì„œì˜ Link ì‚¬ìš©ë¥ ì„ 40%ë¡œ ì œí•œí•¨ìœ¼ë¡œì¨ ì¼ë¶€ ì¥ì• ì‹œì—ë„ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•Šë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤. ë˜í•œ Star Topologyì˜ ê²½ìš° Core Routerë¡œ í–¥í•˜ëŠ” Linkë¥¼ ì‚¼ì¤‘í™”í•˜ì—¬ íŠ¹ì • Linkì— ì—ëŸ¬ê°€ ë°œìƒí•˜ì—¬ë„ ìµœëŒ€í•œ í†µì‹ ì´ ê°€ëŠ¥í•˜ê²Œ í•˜ê³ ì ë…¸ë ¥í•˜ê³  ìˆë‹¤.\n\n## Datacenter Network\n\nDatacenterëŠ” Serviceë¥¼ ì œê³µí•˜ëŠ” ì—…ì²´ë“¤ì—ì„œ ë‹¤ì–‘í•œ Applicationì„ ì œê³µí•˜ê¸° ìœ„í•´ì„œ ì—¬ëŸ¬ machineì„ ëª¨ì•„ë‘ê³  ì €ì¥í•´ë†“ì€ ê¸°ê´€ì´ë‹¤. ì´ëŸ¬í•œ Datacenter Networkì˜ ê·œëª¨ê°€ Backborn Networkì˜ ê·œëª¨ë¥¼ ë„˜ì–´ì„œê³  ìˆëŠ” ì‹œì ì—ì„œ ì¤‘ìš”ì„±ì´ ë” ì»¤ì§€ê³  ìˆë‹¤.\n\n### Term\n\n- Rack : ìˆ˜ ë§ì€ machineì„ íš¨ìœ¨ì ìœ¼ë¡œ ì €ì¥í•˜ê¸° ìœ„í•´ì„œ ì¸µë³„ë¡œ machineì„ ì €ì¥í•˜ì—¬ ë³´ê´€í•˜ëŠ” ìˆ˜ë‚© ê³µê°„ ë˜ëŠ” ìˆ˜ë‚©ëœ ëª¨ë“  machineì„ ì˜ë¯¸í•œë‹¤.\n- ToR Switch : Top of Rack Switchì˜ ì•½ì–´ë¡œ Rackì˜ machineì—ê²Œ Networkë¥¼ ì œê³µí•˜ê¸° ìœ„í•´ì„œ Rackì˜ ìµœìƒë‹¨ì— ì¡´ì¬í•˜ëŠ” Switchë¥¼ ë§í•œë‹¤.\n\n### Topology in Datacenter Network\n\n- Tree : ë§¤ìš° ì§ê´€ì ì¸ êµ¬ì¡°ì˜ Topologyì´ë‹¤. ê° ToR Switchê°€ ë” ìƒìœ„ Switchì¸ Access(=Edge) Switchì— ì—°ê²°ë˜ê³ , í•´ë‹¹ Access Switchê°€ Aggregation Switch/Routerë¡œ ì—°ê²°ë˜ê³ , ìµœì¢…ì—ëŠ” Core Routerì— ì—°ê²°ë˜ì–´ í•´ë‹¹ Core Routerë¥¼ í†µí•´ì„œ Internetì— ì—°ê²°ë˜ëŠ” í˜•íƒœë¥¼ ê°€ì§€ê³  ìˆë‹¤. ì´ì™€ ê°™ì€ ê²½ìš° 3ê°€ì§€ í° íŠ¹ì§•ì„ ê°€ì§„ë‹¤.\n  - íŠ¹ì§•\n    - Over Subscription : ìƒìœ„ Switch/Router/Linkì˜ bandwidthê°€ í•˜ìœ„ Switch/Routerì˜ bandwidthë³´ë‹¤ í¬ë„ë¡ ì„¤ê³„í•˜ëŠ” ê²ƒ\n    - Same Distance with Core : Coreì™€ì˜ ê±°ë¦¬ê°€ ëª¨ë“  rackì—ì„œ ë™ì¼í•˜ê¸° ë•Œë¬¸ì— íš¨ìœ¨ì ì¸ Networkingì´ ê°€ëŠ¥í•˜ë‹¤. ì´ëŸ¬í•œ Trafficì„ North-South Trafficì´ë¼ê³  í•œë‹¤.\n    - No Loop : Tree êµ¬ì¡° ìì²´ê°€ Loopê°€ ì—†ëŠ” í˜•íƒœì´ê¸° ë•Œë¬¸ì— Loopë¡œ ì¸í•œ Traffic í˜¼ì¡ì„ ë§‰ì„ ìˆ˜ ìˆë‹¤. ë§Œì•½, East-West Trafficì„ ìœ„í•´ì„œ linkë¥¼ ì¤‘ê°„ì— ì¦ì„¤í•˜ì˜€ë‹¤ë©´, ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•˜ì—¬ Spanning Tree Protocolì„ í™œìš©í•˜ì—¬, Loopë¥¼ ì—†ì• ê¸° ìœ„í•œ ì„¤ì •ì„ í•œë‹¤.\n  - ë‹¨ì \n    - East-West Trafficì˜ ë‚®ì€ íš¨ìœ¨ : ì¢Œìš° Trafficì´ ë¹ˆë²ˆí•˜ê²Œ ë°œìƒí•œë‹¤ë©´, ì´ë¡œ ì¸í•œ ë¹„íš¨ìœ¨ì´ í¬ê²Œ ë°œìƒí•  ìˆ˜ ìˆë‹¤. Virtual Machineì´ êµ‰ì¥íˆ ë§ì´ ì‚¬ìš©ë˜ê³  ìˆëŠ” ìƒí™©ì—ì„œ ì–´ëŠ Physical Machineì— Virtual Machineì´ ì¡´ì¬í•˜ë”ë¼ë„ ë™ì¼í•œ IPë¥¼ ìœ ì§€í•œë‹¤ê±°ë‚˜ ë™ì¼í•œ ìˆ˜ì¤€ì˜ ê°€ìƒí™”ë¥¼ ì œê³µí•˜ê¸° ìœ„í•´ì„œ ì´ëŸ¬í•œ East-West Trafficì´ ë§ì•„ì§€ê³  ìˆë‹¤(80% ì´ìƒì„ ì°¨ì§€í•˜ê³  ìˆë‹¤). ë”°ë¼ì„œ, í˜„ì¬ì— ì‚¬ìš©ì´ ë§ì´ ì¤„ì—ˆë‹¤.\n    - í™•ì¥ì´ ì–´ë ¤ì›€ : ìƒìœ„ ê³„ì¸µì´ í•˜ìœ„ ê³„ì¸µì˜ BandWidthì— ì˜ì¡´í•˜ê¸° ë•Œë¬¸ì— ì´ˆê³¼ëŸ‰ì„ ë„˜ì€ ê²½ìš° í™•ì¥ì´ ëª¨ë“  êµ¬ê°„ì—ì„œ ìˆ˜í–‰ë˜ì–´ì•¼ í•œë‹¤.\n- Spine-Leaf(=Clos, Leaf-Spine) : ìƒìœ„ Spine Switch/Routerì— ëª¨ë“  í•˜ìœ„ Leaf Switch/Routerê°€ ì—°ê²°ë˜ì–´ ìˆê³ , ì´ Leaf Switch/Routerì— ToR Switchê°€ ì—°ê²°ë˜ì–´ ìˆëŠ” êµ¬ì¡°ì´ë‹¤. ì´ëŸ¬í•œ êµ¬ì„±ì„ ê°–ì¶”ê²Œ ë˜ë©´, East-West Trafficì˜ ì²˜ë¦¬ê°€ ë§¤ìš° ìš©ì´í•˜ë‹¤.\n- Fat-tree : Treeì˜ Edge/Aggregation Switch/Routerì˜ ìˆ˜ë¥¼ kê°œë¡œ Groupì„ ë§Œë“¤ê³ , í•´ë‹¹ Groupì„ kê°œ ë§Œë“¤ì–´ì„œ ì—¬ëŸ¬ ê°œì˜ Coreë¥¼ ë‘ì–´ êµ¬ì„±í•˜ëŠ” í˜•íƒœì´ë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ East-West Trafficì˜ ì²˜ë¦¬ ì—­ì‹œ ë§¤ìš° ìš©ì´í•˜ë‹¤.\n\n## Edge Computing Network\n\ní†µì‹  ì‚¬ì—…ì ì…ì¥ì—ì„œ ê°€ì…ìì™€ ì¸ì ‘í•œ ì „í™”êµ­ì— ì„œë²„ pool(ì†Œê·œëª¨ datacenter)ì„ êµ¬ì¶•í•˜ê³ , ì´ë¥¼ í†µí•´ì„œ ë³´ì•ˆ ë˜ëŠ” ìš”ê¸ˆ ì¸¡ì • ë“±ê³¼ ê°™ì€ Network ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³ ì í•˜ëŠ” ë„¤íŠ¸ì›Œí¬ë¥¼ êµ¬ì¶•í•˜ê³  ìˆë‹¤.\n\n## Optical Transport Network(ê´‘í†µì‹ ë§)\n\nê´‘ì¼€ì´ë¸”ì„ ì´ìš©í•˜ì—¬ êµ¬ì¶•í•œ Physical Networkë¡œ ê³ ì† í†µì‹ ì„ ì§€ì›í•˜ê¸° ìœ„í•´ì„œ ê³ ì•ˆë˜ì—ˆë‹¤. ì´ëŠ” í›„ì— Postingì—ì„œ ìì„¸íˆ ë‹¤ë£° ì˜ˆì •ì´ë‹¤.\n\n[ğŸ”— ê´‘í†µì‹ ë§](/posts/optical-transport-network)\n\n## Digital Subscriber Line(DSL)\n\nADSLë¶€í„° ì‹œì‘ë˜ì–´ ì—¬ëŸ¬ê°€ì§€ í˜•íƒœë¡œ ë³€í™”ë˜ì–´ì˜¨ Network í˜•íƒœì´ë‹¤. ì¢…ë¥˜ëŠ” ë‹¤ì–‘í•˜ê²Œ ADSL/HDSL/SDSL/RADSL/VDSL ë“±ìœ¼ë¡œ ì¡´ì¬í•œë‹¤.\n\nADSLì€ Asymmetric Digital Subscriber Lineì˜ ì•½ìë¡œ ì „í™”ì„ ì„ ì´ìš©í•œ í†µì‹  ë°©ì‹ì´ë‹¤. 1988ë…„ ë¯¸êµ­ì—ì„œ ìµœì´ˆ ê°œë°œë˜ì—ˆê³ , í˜„ì¬ì—ë„ ì €ê°€í˜• ì¸í„°ë„· ì„œë¹„ìŠ¤ì— ì‚¬ìš© ì¤‘ì´ë‹¤. ë˜í•œ, VDSLì€ ì£¼íŒŒìˆ˜ ëŒ€ì—­ì„ í™•ì¥í•˜ì—¬ ì†ë„ í–¥ìƒì„ ê¾€í•˜ì˜€ë‹¤.\n","slug":"types-of-network","date":"2022-05-27 09:59","title":"Networkì˜ ì¢…ë¥˜","category":"Network","tags":["BackbornNetwork","Internet","DatacenterNetwork","EdgecomputingNetwork","AccessNetwork"],"thumbnailSrc":"https://euidong.github.io/images/base-station.jpg"},{"content":"\n## Reference\n\n- [Openflow specification](https://opennetworking.org/wp-content/uploads/2013/04/openflow-spec-v1.3.1.pdf), ONF, 2012\n- Thumbnail: Photo by [Maksym Tymchyk ğŸ‡ºğŸ‡¦](https://unsplash.com/@maksym_tymchyk?utm_source=unsplash\u0026utm_medium=referral\u0026utm_content=creditCopyText) on [Unsplash](https://unsplash.com/s/photos/flow?utm_source=unsplash\u0026utm_medium=referral\u0026utm_content=creditCopyText)\n\nì´ì „ Postingì¸ SDNì˜ ë³¸ê²©ì ì¸ ì‹œì‘ì´ OpenFlowë¼ê³  ë³´ì•„ë„ ë¬´ë°©í•˜ë‹¤. OpenFlowëŠ” 2007ë…„ Stanford ëŒ€í•™ì—ì„œ ê°œë°œì´ ì‹œì‘ë˜ì—ˆê³ , ì§€ê¸ˆë„ de facto standard(ì‚¬ì‹¤ìƒì˜ í‘œì¤€)ìœ¼ë¡œ ë°›ì•„ë“¤ì—¬ì§€ê³  ìˆëŠ” Protocolì´ë‹¤. í•´ë‹¹ Protocolì˜ í•µì‹¬ì€ ê¸°ì¡´ Switch/Routerë¥¼ data plane(ë°ì´í„° í‰ë©´)ê³¼ control plane(ì œì–´ í‰ë©´)ìœ¼ë¡œ ë‚˜ëˆ„ê³ , ì œì–´ í‰ë©´ì„ OpenFlow Protocolì— ë”°ë¥´ëŠ” Controlerë¡œ ëŒ€ì²´í•˜ë©´ì„œ, OpenFlow Protocolì„ ë”°ë¥´ëŠ” SwitchëŠ” data planeë§Œì„ í¬í•¨í•˜ì—¬, ë‘˜ ê°„ì˜ í†µì‹ ì„ í†µí•´ì„œ ì œì–´ í‰ë©´ì„ êµ¬ì„±í•˜ìëŠ” ê²ƒì´ë‹¤. ì—¬ê¸°ì„œ ë°ì´í„° í‰ë©´ì€ ì‹¤ì œë¡œ interfaceë¡œ packetì´ ë“¤ì–´ì˜¤ê³ , ë‚´ë³´ë‚´ëŠ” ì—­í• ì„ í•˜ëŠ” ê³„ì¸µì´ë¼ê³  ë³´ë©´ ë˜ê³ , ì œì–´ í‰ë©´ì€ packetì— ì–´ë–¤ ë™ì‘ì„ ìˆ˜í–‰ì‹œí‚¬ì§€ ê·¸ë¦¬ê³  ì–´ëŠ interfaceë¡œ ë‚´ë³´ë‚¼ì§€ë¥¼ ê²°ì •í•˜ëŠ” ì—­í• ì„ í•˜ëŠ” ê³„ì¸µì´ë¼ê³  ë³´ë©´ ëœë‹¤. ì´ëŸ¬í•œ êµ¬ì„±ì„ í†µí•´ì„œ, ê²°êµ­ SDNì„ êµ¬ì¶•í•  ìˆ˜ ìˆëŠ” í† ëŒ€ë¥¼ ì œê³µí•˜ê²Œ ëœ ê²ƒì´ë‹¤.\n\në”°ë¼ì„œ, OpenFlow SwitchëŠ” ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœë¡œ êµ¬ì„±ë˜ì–´ì§„ë‹¤.\n\n![OpenFlow Switch](/images/openflow-switch.jpeg)\n\n## OpenFlow Protocol\n\ní•´ë‹¹ ì‚¬í•­ì€ referenceì— ê¸°ë°˜í•œ version 1.3.1ì˜ ê¸°ëŠ¥ì„ ìš”ì•½í•œ ë‚´ìš©ì´ë‹¤.\n\nê¸°ë³¸ì ìœ¼ë¡œ OpenFlow Protocolì„ ì§€ì›í•˜ëŠ” Switchì˜ êµ¬ì¡°ë¶€í„° ì•Œì•„ë³´ì•„ì•¼ í•œë‹¤. SwitchëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì™¸ë¶€ì™€ ì—°ê²°ì´ ê°€ëŠ¥í•œ Port, Routingì„ ìœ„í•œ ì—¬ëŸ¬ ê°œì˜ Table, ê·¸ë¦¬ê³  Controllerì™€ì˜ ì˜ì‚¬ì†Œí†µì„ ìœ„í•œ Channelì„ ê°€ì§„ë‹¤. ê° ìš”ì†Œì˜ ì—­í• ì„ ê°„ëµíˆ í•˜ë‚˜í•˜ë‚˜ ì•Œì•„ë³´ë„ë¡ í•˜ì.\n\n\u003e **1. Port**\n\nOpenFlowì—ì„œ packetì´ Switchë¡œ ì™”ë‹¤ê°”ë‹¤í•˜ëŠ” í†µë¡œë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤. ëŒ€ê²Œ Switchë¥¼ ê°€ë¥´í‚¤ê±°ë‚˜ packetì˜ ì§„ì… ìœ„ì¹˜ë¥¼ ì‹ë³„í•  ë•Œ ì‚¬ìš©ëœë‹¤. ì´ëŠ” ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ì¶”ìƒí™”ëœ ê°œë…ìœ¼ë¡œ, ì´ 3ê°€ì§€ì˜ Portë¥¼ í†µí•´ì„œ Switchë¥¼ ê°€ë¥´í‚¬ ìˆ˜ ìˆë‹¤. ê° SwitchëŠ” ì—¬ëŸ¬ ê°œì˜ Portë¥¼ ê°€ì§€ê³  ì´ë¥¼ í†µí•´ì„œ ë‹¤ë¥¸ Switchë“¤ê³¼ë„ ì—°ê²°ë˜ì–´ì§„ë‹¤.\n\n- Physical Port : ì‹¤ì œ Switchì˜ interfaceì™€ ì¼ëŒ€ì¼ë¡œ ëŒ€ì‘ë˜ëŠ” ê°€ìƒ Portì´ë‹¤. ì¦‰, í•´ë‹¹ interfaceë¡œ packetì´ ë“¤ì–´ì™”ë‹¤ë©´, OpenFlowì—ì„œëŠ” ì´ì™€ ëŒ€ì‘ë˜ëŠ” portë¡œ packetì´ ë“¤ì–´ì™”ë‹¤ê³  íŒë‹¨í•œë‹¤.\n- Logical Port : OpenFlowë¥¼ ì“°ì§€ ì•Šê³ , Switch ìì²´ì ìœ¼ë¡œ ì •ì˜í•œ Tunnelê³¼ Loopbackê³¼ ê°™ì€ ê°€ìƒ Portì´ë‹¤.\n- Reserved Port : OpenFlow Protocolì— ì˜í•´ì„œ ì •ì˜ëœ Portì´ë‹¤. ì´ë¥¼ í†µí•´ì„œ, Controller, All, Tableì˜ ë§¨ ì²˜ìŒ, IN_PORT ë“±ì„ ì‰½ê²Œ ê°€ë¥´í‚¬ ìˆ˜ ìˆë‹¤.\n\n\u003e **2. Table**\n\nSwitchëŠ” ì—¬ëŸ¬ ê°œì˜ Tableì„ ê°€ì§€ê³  ìˆë‹¤. Tableì„ í†µí•´ì„œ SwitchëŠ” Routingì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì€ ê¸°ë³¸ì ì¸ Switchì˜ ë™ì‘ê³¼ ë™ì¼í•˜ë‹¤. Switchì˜ íŠ¹ì • Portë¡œ packetì´ ë“¤ì–´ì™”ì„ ë•Œ, packetì˜ ëª©ì ì§€ì™€ ì§„ì…í•œ Port, ê·¸ ì™¸ì— metadataì— ê¸°ë°˜í•˜ì—¬ matchingì„ ìˆ˜í–‰í•˜ì—¬ ì¼ì¹˜í•˜ëŠ” ëŒ€ìƒì„ ì°¾ì•„ì„œ, í•´ë‹¹ Tableì— ê¸°ìˆ ëœ ë™ì‘ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ë‹¤. ëŒ€ê²Œ ë¬´ìŠ¨ ë™ì‘ì„ ìˆ˜í–‰í•  ê²ƒì¸ê°€ì— ë”°ë¼ì„œ ì¢…ë¥˜ê°€ ë‚˜ë‰˜ì–´ì§€ë©°, v1.3.1ì—ëŠ” ì´ 3ê°€ì§€ì˜ ì¢…ë¥˜ê°€ ì¡´ì¬í•œë‹¤.\n\n1. Flow Table : ëŒ€ê²Œ ì–´ë–»ê²Œ Packetì„ ì–´ëŠ Portë¡œ Routingí•  ê²ƒì¸ê°€ë¥¼ ë‹¤ë£¬ë‹¤. ë¿ë§Œ ì•„ë‹ˆë¼ Packetì˜ Headerë¥¼ ë³€ê²½í•˜ê±°ë‚˜ MPLS Labelê³¼ ê°™ì€ ì¶”ê°€ ì •ë³´ë¥¼ ë”í•˜ëŠ” ë“±ì˜ ë™ì‘ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤. (ê° SwitchëŠ” í•˜ë‚˜ ì´ìƒì˜ Flow Tableì„ ì†Œìœ í•œë‹¤.)\n2. Group Table : íŒ¨í„´ê³¼ ì¼ì¹˜í•˜ëŠ” packetì— ëŒ€í•´ì„œ ì—¬ëŸ¬ ë™ì‘ì„ ìˆ˜í–‰í•˜ê²Œ í•˜ê±°ë‚˜ ìƒí™©ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ì ìš©í•˜ë„ë¡ í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. (ê° SwitchëŠ” 1ê°œ ì´í•˜ì˜ Group Tableì„ ì†Œìœ í•œë‹¤.)\n3. Meter Table : packetì˜ ë¹ˆë„(rate) ì¡°ì ˆê³¼ ì¸¡ì •ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤. (Meter Tableì€ Controllerì— ì˜í•´ì„œ ê´€ë¦¬ëœë‹¤.)\n\n\u003e **3. OpenFlow Channel**\n\nOpenFlow Switch ë‚´ë¶€ì—ì„œ Controllerë¥¼ ì—°ê²°í•˜ëŠ” Interfaceë¡œ Switchì˜ ìƒíƒœë¥¼ Controllerì—ê²Œ ì•Œë¦¬ê±°ë‚˜ Controllerë¡œ ë¶€í„° ë³€ê²½ì‚¬í•­ì„ ì „ë‹¬ ë°›ê¸° ìœ„í•œ í†µì‹  ì±„ë„ì´ë‹¤.\n\n---\n\nì´ë ‡ê²Œ ì´ë£¨ì–´ì§„ OpenFlow Switchë“¤ì€ ì„œë¡œ ì—°ê²°ë˜ì–´ ìˆìœ¼ë©°, í•˜ë‚˜ ë˜ëŠ” ì—¬ëŸ¬ Controllerì™€ ê° ê° ì—°ê²°ë˜ì–´ ìˆë‹¤. ControllerëŠ” ê° OpenFlow Switchë¡œ ë¶€í„° ìƒíƒœ ì •ë³´ì™€ ì¸ì ‘ Switch ì •ë³´ ë“±ì„ ì „ë‹¬ë°›ì•„ì„œ ë‚´ë¶€ì ìœ¼ë¡œ Flow Tableì„ êµ¬ì¶•í•œë‹¤. ê·¸ë¦¬ê³ , Controllerì—ì„œ ì¤‘ì•™ í†µì œë¥¼ í†µí•´ì„œ ì „ì²´ ë„¤íŠ¸ì›Œí¬ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤. ì´ë¥¼ ìˆ˜í–‰í•  ë•Œì—ëŠ” Controllerì—ì„œ ê° Switchì˜ Tableì„ ì§€ì •í•¨ìœ¼ë¡œì¨ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤. ê·¸ë ‡ë‹¤ë©´, Switchì— Tableì„ ì„¤ì¹˜í•˜ì˜€ì„ ë•Œ, ì–´ë–»ê²Œ Packetì„ ì²˜ë¦¬í•˜ëŠ”ì§€ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì.\n\n### Pipeline\n\nSwitch ë‚´ë¶€ì—ëŠ” ì—¬ëŸ¬ ê°œì˜ Tableì´ ì¡´ì¬í•˜ëŠ”ë°, Packetì´ Switchì˜ íŠ¹ì • Portë¡œ ë“¤ì–´ì˜¤ë©´, ë¨¼ì € Flow Tableì„ ê±°ì¹˜ê²Œ ëœë‹¤. Switch ë‚´ë¶€ì˜ ì—¬ëŸ¬ Flow Table ì¤‘ì—ì„œ index($\\ge 0$)ê°€ ì‘ì€ ê°’ë¶€í„° ì‹œì‘í•˜ì—¬ Flow Tableì—ì„œ ì¼ì¹˜í•˜ëŠ” patternì˜ Flow Entryë¥¼ ì°¾ê²Œ ëœë‹¤(Flow Tableì˜ í•˜ë‚˜ì˜ ì—´). í•´ë‹¹ Entryì— ì íŒ `Instruction`ì— ë”°ë¼ `Action`ì„ ë°”ë¡œ ìˆ˜í–‰í•˜ê±°ë‚˜ `Action Set`ì— ì¶”ê°€í•œ í›„ì— ë‹¤ìŒ Table ë˜ëŠ” Portë¥¼ í†µí•´ì„œ ë‹¤ìŒ Switchë¡œ ì´ë™í•˜ê²Œ ëœë‹¤. ì´ë•Œ Port ë°–ìœ¼ë¡œ ë‚˜ê°€ê¸° ì´ì „ì— Action Setì— ëª¨ì•„ë‘” Actionì„ í•œ ë²ˆì— ìˆ˜í–‰í•œë‹¤.  \në§Œì•½, Flow Tableì˜ ì–´ë–¤ patternê³¼ë„ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, ì´ë¥¼ `Table Miss`ë¼ê³  í•˜ê³ , ë¯¸ë¦¬ ì§€ì •í•´ë‘” miss flow entryì— ë”°ë¼ Actionì„ ìˆ˜í–‰í•œë‹¤. ì•„ë¬´ ì„¤ì •ë„ í•˜ì§€ ì•Šì•˜ë‹¤ë©´ defaultë¡œ í•´ë‹¹ packetì„ dropí•œë‹¤.\n\nê·¸ë ‡ë‹¤ë©´, ê° Tableì„ êµ¬ì„±í•˜ëŠ” ìš”ì†Œ(entry)ë“¤ì´ ì–´ë–»ê²Œ êµ¬ì„±ë˜ëŠ”ì§€ë¥¼ í™•ì¸í•´ë³´ì.\n\n\u003e **1. Flow Entry**\n\n- Match Field : ì¼ì¹˜í•˜ëŠ” Packetì„ ì°¾ê¸° ìœ„í•˜ì—¬ Ingress Port / Egress Port / Packet Header / ë‹¤ë¥¸ Tableì—ì„œ ìƒì„±ëœ  Metadata ë“±ì„ ì‚¬ìš©í•œë‹¤.\n- Priority : ì¼ì¹˜í•˜ëŠ” ëŒ€ìƒì´ ë§ì„ ê²½ìš°, ë†’ì„ ìˆ˜ë¡ ì¡°íšŒ ì‹œì— ìš°ì„ ì‹œ ë˜ì–´ì§„ë‹¤.\n- Counters : matchê°€ ìˆ˜í–‰ëœ íšŸìˆ˜ë¥¼ ë§ˆí‚¹í•œë‹¤.\n- Instructions : packetì— ëŒ€í•´ì„œ íŠ¹ì • Actionì„ ìˆ˜í–‰ì‹œí‚¤ê±°ë‚˜ Action Setì„ ë³€ê²½í•œë‹¤.\n- Timeout : ìµœëŒ€ ì²˜ë¦¬ ì‹œê°„ ë˜ëŠ” ë‚¨ì€ ì‹œê°„ ë“±ì„ í‘œì‹œí•œë‹¤.\n- Cookie : Controllerì— ì˜í•´ ì„¤ì •ëœ ë°ì´í„°ë¡œ ëŒ€ê²Œ í•´ì‰¬ / ì•”í˜¸í™” ë˜ì–´ì§„ë‹¤. ì´ëŠ” Controllerì—ì„œ Flow ê´€ì¸¡ ë° ì¡°ì ˆ ì‹œì— ì‚¬ìš©í•œë‹¤.\n\n\u003e **2. Group Entry**\n\n- Group Identifier : Group ì‹ë³„ì\n- Action Buckets : ì—¬ëŸ¬ ê°œì˜ actionê³¼ ì´ì— í•´ë‹¹í•˜ëŠ” parameterë¥¼ ë‹´ì€ bucketë“¤ì„ ì •ë ¬ í›„ ë³´ê´€\n- Group Type : Groupì˜ ë™ì¥ ë°©ì‹ì„ ì„ íƒ\n  - all :  ëª¨ë“  bucketì„ ì‹¤í–‰\n  - select : bucketì„ ë²ˆê°ˆì•„ê°€ë©´ì„œ ì‹¤í–‰í•˜ì—¬ Load Balancingì„ ì‹¤í–‰\n  - indirect : bucket í•˜ë‚˜ë§Œ ì‹¤í–‰í•˜ë©°, bucketì„ ì—¬ëŸ¬ ê°œ ë‘ëŠ” ê²ƒì„ í—ˆë½í•˜ì§€ ì•ŠëŠ”ë‹¤.\n  - fast failover : ê°€ì¥ ë¨¼ì € ì¼œì ¸ìˆë‹¤ê³  íŒë‹¨ë˜ëŠ” portë¥¼ ê°€ì§„ bucket í•˜ë‚˜ë§Œ ì‹¤í–‰\n- Counters : Groupì— ì˜í•´ ì²˜ë¦¬ëœ packetì˜ ìˆ˜\n\n\u003e **3. Meter Entry**\n\n- Meter Identifier : Meter ì‹ë³„ì\n- Meter Bands : packet rateì™€ ì´ì— ë”°ë¥¸ packet ì²˜ë¦¬ ë°©ë²•ì„ ê°€ì§„ ì—¬ëŸ¬ meter bandë¥¼ ìˆœì„œì—†ì´ ì €ì¥. bandë¥¼ ì„ íƒí•  ë•Œì—ëŠ” ì¸¡ì •ëœ rateë³´ë‹¤ ì‘ìœ¼ë©´ì„œ ê°€ì¥ í° rateë¥¼ ê°€ì§„ bandë¥¼ ì„ íƒí•œë‹¤. ê° bandëŠ” ì•„ë˜ì™€ ê°™ì´ êµ¬ì„±ëœë‹¤.\n  - Band Type : rateë¥¼ ë„˜ê¸´ í›„ì˜ packet ì²˜ë¦¬ ë°©ì‹ì„ ì„ íƒ\n    - drop : packetì„ ë²„ë¦°ë‹¤.\n    - dscp remark : IP headerì— drop ìš°ì„ ìˆœìœ„ë¥¼ ë†’ì¸ë‹¤.\n  - Rate : packet rateì˜ í•˜í•œì„ \n  - Couter : ì²˜ë¦¬ëœ packetì˜ ìˆ˜\n  - Type Specific Arguments : ë¶€ê°€ ì •ë³´\n- Counters : Meterì— ì˜í•´ ì²˜ë¦¬ëœ packetì˜ ìˆ˜\n\n---\n\në§ˆì§€ë§‰ìœ¼ë¡œ, Instructionê³¼ Action ê·¸ë¦¬ê³  Action Setì˜ êµ¬ì„±ì„ ì‚´í´ë³´ì.\n\n\u003e **1. Instruction**\n\nInstructionì€ ë‹¤ìŒê³¼ ê°™ì€ ì¢…ë¥˜ê°€ ìˆë‹¤. ì´ë¥¼ í†µí•´ì„œ ëª…ë ¹ì„ ì ìš©í•˜ê±°ë‚˜ Tableì„ ì´ë™í•˜ê³ , ActionSetì„ ë³€ê²½í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.\n\n1. `meter meter_id` : packetì— íŠ¹ì • meterë¥¼ ì ìš©\n2. `apply-actions action(s)` : packetì— í•´ë‹¹ action(s)ë¥¼ ì¦‰ê°ì ìœ¼ë¡œ ìˆ˜í–‰\n3. `clear-actions` : `Action set`ì„ ë°”ë¡œ ë¹„ìš°ê¸°\n4. `write-actions action(s)` : Action Setì— í•´ë‹¹ action(s)ë¥¼ ì¶”ê°€\n5. `write-metadata metadata/mask` : metadataë¥¼ ì¶”ê°€\n6. `goto-table next-table-id` : íŠ¹ì • tableë¡œ ì´ë™. ë‹¨, ë°˜ë“œì‹œ í˜„ì¬ Table indexë³´ë‹¤ ë” í° indexë¡œ ì´ë™í•´ì•¼ í•œë‹¤.\n\n\u003e **2. Action Set**\n\npipelineì´ ì¢…ë£Œ ëœ í›„ì— ì‹¤í–‰ë˜ëŠ” actionì´ ì €ì¥ë˜ì–´ ìˆë‹¤.\n\nactionì€ ê¸°ë³¸ì ìœ¼ë¡œ ì•„ë˜ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ë˜ì§€ë§Œ, ë™ì¼í•œ actionì€ ë“¤ì–´ì˜¨ëŒ€ë¡œ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ ì•„ë‹Œ ì„ì˜ë¡œ ì‹¤í–‰ëœë‹¤.\n\n1. `copy TTL inwards` : TTLì„ ì²´í¬í•˜ëŠ” actionì„ ì‹¤í–‰\n2. `pop` : ë§Œì•½, packetì— tagê°€ ì¡´ì¬í•œë‹¤ë©´, ëª¨ë‘ ì œê±°í•œ\n3. `push MPLS` : MPLS tag(=label)ì„ ì¶”ê°€\n4. `push PBB` : PBB tagë¥¼ ì¶”ê°€\n5. `push VLAN` : VLAN tagë¥¼ ì¶”ê°€\n6. `copy TTL outwards` : TTLì„ ì²´í¬í•˜ëŠ” actionì„ ì‹¤í–‰\n7. `decrement TTL` : TTLì„ ê°ì†Œì‹œí‚¤ëŠ” actionì„ ì‹¤í–‰\n8. `set` : `set-field`ì— í•´ë‹¹í•˜ëŠ” actionì„ ì‹¤í–‰\n9. `qos` : `qos` ê´€ë ¨ actionì„ ì‹¤í–‰\n10. `group` : ì—°ê´€ëœ group bucketì˜ actionì„ ì‹¤í–‰\n11. `output` : `output` actionìœ¼ë¡œ ëª…ì‹œëœ portë¡œ packetì„ forwarding\n\n\u003e **3. Action**\n\nì‹¤ì œë¡œ packetì„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ë°©ë²•ì´ë‹¤.\n\n1. `output` : OpenFlow port ì¤‘ ì–´ë””ë¡œ forwardingí• ì§€ë¥¼ ì§€ì •\n2. `set-queue` : QoS ì§€ì›ì„ ìœ„í•´ packetì„ ë‚´ë³´ë‚¼ Switchì˜ queue Idë¥¼ ì§€ì •\n3. `drop` : ì§ì ‘ í˜¸ì¶œí•  ìˆ˜ëŠ” ì—†ì§€ë§Œ, outputì´ ì—†ê±°ë‚˜ `clean-actions` ìˆ˜í–‰ ì‹œì— ë‚´ë¶€ì ìœ¼ë¡œ ìˆ˜í–‰í•œë‹¤.\n4. `group` : groupì„ í†µí•´ packetì„ ì²˜ë¦¬í•˜ë„ë¡ group tableë¡œ packet ì „ë‹¬\n5. `push-tag` : MPLS / VLAN ë“±ì˜ tagë¥¼ ì¶”ê°€\n6. `pop-tag` : MPLS / VLAN ë“±ì˜ tagë¥¼ ì‚­ì œ\n7. `set-field` : headerì˜ ê°€ì¥ ëì— íŠ¹ì • ê°’ì„ ì¶”ê°€\n8. `change-ttl` : ttlê°’ì„ ìˆ˜ì •\n\n## í‘œì¤€í™” í˜„í™©\n\n| version | ë°œí‘œì¼  | ì£¼ìš” ê¸°ëŠ¥ ì¶”ê°€                                  | ê¸°ê´€                |\n| :------ | :------ | :---------------------------------------------- | :------------------ |\n| OF 1.0  | 2009.12 | MAC, IPv4, Single Table                         | OpenFlow Consortium |\n| OF 1.1  | 2011.2  | MPLS/tunnel, Pipeline(Multi Table), Group Table | OpenFlow Consortium |\n| OF 1.2  | 2011.12 | IPv6, Of-Config, ë‹¤ì¤‘ Controller ì§€ì›           | ONF                 |\n| OF 1.3  | 2012.9  | Meter Table(QoS), Controller ë³„Event Filtering  | ONF                 |\n| OF 1.4  | 2013.10 | Optical port monitoring, Flow ì‚­ì œ ì›ì¸         | ONF                 |\n| OF 1.5  | 2014.12 | Egress Table ì¶”ê°€                               | ONF                 |\n\ní˜„ì¬ì—ëŠ” OpenFlow í‘œì¤€í™”ëŠ” ì¤‘ë‹¨ëœ ìƒíƒœì´ë‹¤. ëª¨ë“  ìš”êµ¬ì‚¬í•­ì„ ë°›ì•„ë“¤ì´ë‹¤ë³´ë‹ˆ match fieldì˜ í¬ê¸°ê°€ ë„ˆë¬´ë‚˜ ì»¤ì¡Œê¸° ë•Œë¬¸ì´ë‹¤. ë”°ë¼ì„œ, ì´ìš©ìì˜ ìš”êµ¬ì— ë”°ë¼ì„œ programming í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì„ ì œê³µí•˜ê¸° ìœ„í•œ P4(Programmable Protocol-Independent Packet Protocol)ì„ ì œì‘í•˜ì˜€ë‹¤.\n\nì¦‰, ê¸°ì¡´ì—ëŠ” Protocolê³¼ ì´ë¥¼ ì§€ì›í•˜ëŠ” Switchë¥¼ ì£¼ìš” ì„œë¹„ìŠ¤ë¡œ ì‚¼ì•˜ë‹¤ë©´, ì´ì œëŠ” Programmingì´ ê°€ëŠ¥í•œ ì–¸ì–´ì™€ ì´ë¥¼ ì´ìš©í•  ìˆ˜ ìˆëŠ” Switchë¥¼ ì œê³µí•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ì „í™˜í•˜ì˜€ë‹¤.\n","slug":"openflow","date":"2022-05-25 22:23","title":"OpenFlow","category":"Network","tags":["SDN","ONF"],"thumbnailSrc":"https://euidong.github.io/images/flow.jpg"},{"content":"\n## Reference\n\n- Thumbnail : Photo by [Nastya Dulhiier](https://unsplash.com/@dulhiier?utm_source=unsplash\u0026utm_medium=referral\u0026utm_content=creditCopyText) on [Unsplash](https://unsplash.com/s/photos/network?utm_source=unsplash\u0026utm_medium=referral\u0026utm_content=creditCopyText)\n\nSDN(Software Defined Network)ì€ ê¸°ì¡´ì— Hardwareë‹¨ì— ê²°í•©ë˜ì–´ ìˆë˜ ê°ì¢… Routing, Forwarding ë°©ì‹ì„ ë³„ë„ì˜ Controllerë¥¼ í†µí•´ì„œ ì œì–´í•˜ëŠ” ë°©ì‹ì„ ì œì‹œí•œ ê²ƒì´ë‹¤. í˜„ì¬ ì´ëŸ¬í•œ ê¸°ìˆ ì— ëŒ€í•œ ì—°êµ¬ê°€ ê¾¸ì¤€íˆ ì´ë£¨ì–´ì§€ê³  ìˆëŠ”ë°, ì´ìœ ë¥¼ ì•Œê¸° ìœ„í•´ì„œëŠ” ê¸°ì¡´ì˜ Network êµ¬ì„± ë°©ì‹ì˜ ë¬¸ì œì ì„ ë¨¼ì € ì§šì–´ë³´ì.\n\n## Internetì˜ ë¬¸ì œ\n\n\u003e **Traffic ê³¼ì¦ê°€**\n\nTrafficì˜ ë§¤ë…„ 20% ì´ìƒìœ¼ë¡œ êµ‰ì¥íˆ ê°€íŒŒë¥´ê²Œ ì„±ì¥í•˜ê³  ìˆë‹¤. ì´ê²ƒ ìì²´ë„ ë¬¸ì œê°€ ë  ìˆ˜ ìˆì§€ë§Œ, ì´ë¡œ ì¸í•œ ë¬¸ì œê°€ ë” í° ë¬¸ì œê°€ ë˜ê³  ìˆë‹¤.\n\n\u003e **í†µì‹ ì‚¬ì—…ìì˜ ê³ ë¯¼**\n\nê³„ì†í•´ì„œ ëŠ˜ì–´ë‚˜ëŠ” traffic ëŒ€ë¹„ ìˆ˜ìµì˜ ì •ì²´ê°€ ë°œìƒí•˜ì˜€ë‹¤. ì¦‰, ì¦ê°€í•˜ëŠ” trafficì„ ìˆ˜ìš©í•˜ê¸° ìœ„í•œ link, switch ë“±ì˜ íˆ¬ì ë¹„ìš©ì€ ê³„ì†í•´ì„œ ìš”êµ¬ë˜ëŠ” í•œí¸ ì‹ ê·œ ê°€ì…ì ìˆ˜ëŠ” ê±°ì˜ ì¡´ì¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— í†µì‹ ì‚¬ì—…ìê°€ ê°€ì ¸ê°€ëŠ” ìˆ˜ìµì€ í˜„ì¬ ë§¤ìš° ì •ì²´ë˜ì–´ìˆë‹¤. ë°˜ë©´ì— ëŠ˜ì–´ë‚œ trafficì— ëŒ€í•œ ì´ë“ì€ ê³ ìŠ¤ë€íˆ ëŒ€ê·œëª¨ service ì—…ì²´ì—ì„œ ê°€ì ¸ê°€ê³  ìˆë‹¤. (ex. Google, Netflix, etc..)\n\nì´ëŸ¬í•œ ê´€ì ì—ì„œ í†µì‹ ì‚¬ì—…ìì™€ ì„œë¹„ìŠ¤ ì‚¬ì—…ì ê°„ì˜ ì•„ë˜ì™€ ê°™ì€ ëŒ€ë¦½ì´ ê³„ì†ë˜ê³  ìˆë‹¤.\n\n- ê³µì •ì„±(Fairity) : traffic ì¦ê°€ëŠ” ì„œë¹„ìŠ¤ ì‚¬ì—…ìë„ ê°™ì´ ë¶€ë‹´í•˜ì.\n- ë§ì¤‘ë¦½ì„±(Neutrality) : traffic ì¦ê°€ëŠ” ì„œë¹„ìŠ¤ ì‚¬ì—…ìê°€ ìƒê´€í•  ì˜ì—­ì´ ì•„ë‹ˆë‹¤.\n\n\u003e **ëŠë¦° í‘œì¤€í™”**\n\ní‘œì¤€í™”ë¼ëŠ” ì ˆì°¨ëŠ” í˜¸í™˜ì„± ê²€ì‚¬ ë° ì„±ëŠ¥ í™•ì¸ ë“±ì„ ê±°ì¹˜ë©´ì„œ êµ‰ì¥íˆ ë§ì€ ì‹œê°„ì„ ìš”êµ¬í•œë‹¤. í•˜ì§€ë§Œ, ì‹ ê¸°ìˆ ì€ ê³„ì†í•´ì„œ ìŸì•„ì§€ê³  ìˆê¸° ë•Œë¬¸ì— í‘œì¤€í™”ê°€ ì´ ì†ë„ë¥¼ ëª»ë”°ë¼ê°€ê³  ìˆëŠ” ê²ƒì´ ì‹¤í™©ì´ë‹¤. ì´ë¥¼ ì‹¤ì œ ìƒìš©ì—ì„œ ì ìš©í•˜ëŠ” ê²ƒ ì—­ì‹œ ë” ë§ì€ ì‹œê°„ì´ ë“¤ê²Œ ë  ìˆ˜ ìˆë‹¤.\n\n\u003e **Vender ì˜ì¡´ì„±**\n\ní†µì‹  ì¥ë¹„(Switch, Router, Ethernet, etc...)ë¥¼ ì œì‘í•˜ëŠ” Vender(Cisco, Juniper, etc...)ê°€ ë§Œë“  platformì— ì˜ì¡´í•˜ëŠ” ì„¤ì • ë°©ë²•ì´ í˜¼ë€ì„ ì•¼ê¸°í–ˆë‹¤. ì¦‰, ê° venderë§ˆë‹¤ ë‹¤ë¥¸ ì‹œìŠ¤í…œê³¼ configuration ë°©ë²•ì´ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— human errorë¥¼ ì•¼ê¸°í•  ê°€ëŠ¥ì„±ì´ ë†’ì•˜ë‹¤.\n\në˜í•œ, Switch/Routerì˜ ë™ì‘ì„ ì œì–´í•˜ëŠ” ê²ƒì´ í•´ë‹¹ venderê°€ ì œê³µí•˜ëŠ” APIì— ì œí•œë˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©ìê°€ Programmingì„ í†µí•´ Routingì„ ì œì–´í•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í–ˆë‹¤. ê·¸ë ‡ê¸°ì— ì‹ ê¸°ìˆ ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ì—†ì„ ë¿ë§Œ ì•„ë‹ˆë¼ Venderì—ì„œ í•´ë‹¹ ì‹ ê¸°ìˆ ì„ ì ìš©í•˜ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ìˆ˜ ë°–ì— ì—†ì—ˆë‹¤.\n\n\u003e **Router/Switchì˜ ë³µì¡ë„ ì¦ê°€**\n\ntrafficì˜ ì¦ê°€ë§Œí¼ Router, Switchì˜ ì„±ëŠ¥ì ì¸ í–¥ìƒ ë° ì–‘ì  ì¦ê°€ëŠ” ë§ì€ ë¬¸ì œë¥¼ ì•¼ê¸°í•˜ê³  ìˆë‹¤. ë¨¼ì €, ì„±ëŠ¥ì„ ë§Œì¡±í•˜ê¸° ìœ„í•˜ì—¬ ì ì  ê°€ê²©ì´ ê¸‰ê²©í•˜ê²Œ ìƒìŠ¹í•˜ê³  ìˆë‹¤. ì–‘ì ìœ¼ë¡œì˜ ì¦ê°€ëŠ” ê²°êµ­ Routing Tableì˜ í¬ê¸°ë¥¼ í¬ê²Œ ì¦ê°€ì‹œí‚¤ê³  ìˆë‹¤. ì´ëŠ” Table Lookup, Convergence Time ì¦ê°€ë¥¼ ì•¼ê¸°í•œë‹¤.\n\n\u003e **ì´ˆê¸° ì¸í„°ë„·ì˜ êµ¬ì¡°ì  ë¬¸ì œ**\n\nì´ˆê¸° ì¸í„°ë„·ì¸ ARPANETì€ ì„¤ê³„ ìì²´ê°€ ì ˆëŒ€ ì—°ê²°ì´ ëŠê¸°ì§€ ì•ŠëŠ”(autonomous, Best Effort) Networkë¥¼ ì¶”êµ¬í–ˆë‹¤. ê·¸ë ‡ê¸°ì— ì‚¬ëŒì— ì˜í•œ ê°œì…ì´ ì‰½ì§€ ì•Šê³ , í†µì œê°€ ì–´ë ¤ìš´ êµ¬ì¡°ì´ë‹¤. ë”°ë¼ì„œ, ê° ì¥ë¹„ì—ê²Œ ë¶€ì—¬ë˜ëŠ” ì±…ì„ì´ ì»¤ì¡Œë‹¤.\n\n\u003e **TCP/IP ê¸°ë°˜ì˜ ìˆ˜ ë§ì€ Protocol**\n\nì§€ì—°ë³´ë‹¤ëŠ” ì—°ê²°ì— ì´ˆì ì„ ë§ì¶˜ ì•ˆì „í•œ TCP/IP ê¸°ë°˜ì˜ í†µì‹ ì€ Networkì˜ ì„±ëŠ¥ë©´ì—ì„œ ë§ì€ ì–´ë ¤ì›€ì„ ê²ªê³  ìˆë‹¤. ë¬¼ë¡  ìƒˆë¡œìš´ TCP ë°©ì‹ë„ ì œì‹œë˜ê³  ìˆì§€ë§Œ, ì´ë¥¼ êµì²´í•˜ëŠ” ê²ƒì€ ì „ì²´ Networkë¥¼ ë³€ê²½í•´ì•¼í•˜ëŠ” ê²½ìš°ê°€ ë§ê¸°ì— ì´ì— ëŒ€í•œ êµì²´ëŠ” ì‚¬ì‹¤ìƒ ë¶ˆê°€ëŠ¥í•˜ë‹¤ê³  ê°„ì£¼ë˜ê³  ìˆë‹¤(í˜¸í™˜ì„± ë¬¸ì œ). ë˜í•œ, IoT ë””ë°”ì´ìŠ¤ì—ì„œëŠ” í•´ë‹¹ TCP/IPê°€ ë‹¤ì†Œ ë¬´ê±°ìš´ êµ¬í˜„ì´ê¸°ì— ì´ë¥¼ í¬í•¨í•  ìˆ˜ ì—†ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ë”°ë¼ì„œ, ë³„ë„ì˜ Protocolì„ ì§€ì›í•˜ëŠ” ì‹œìŠ¤í…œì´ í•„ìš”í•˜ë‹¤.\n\n### ìš”ì•½\n\nì¦‰, Trafficì€ ê³„ì†í•´ì„œ ì¦ê°€í•˜ê³  ìˆëŠ”ë°, ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ì‹ ê¸°ìˆ ë“¤ì€ ê³„ì†í•´ì„œ ì ìš©ì´ ëŠë ¤ì§€ê³  ìˆìœ¼ë©°, Venderë“¤ ë§ˆë‹¤ ë‹¤ë¥¸ í‘œì¤€ìœ¼ë¡œ ì¸í•´ ë„ˆë¬´ë‚˜ ë³µì¡í•œ ë„¤íŠ¸ì›Œí¬ êµ¬ì„±ì€ ìš´ì˜ë¹„ìš©ì˜ ìµœì í™”ê°€ ì–´ë µê³ , ìœ ì—°í•œ ë„¤íŠ¸ì›Œí¬ êµ¬ì¡°ë¥¼ ë§Œë“œëŠ”ë° êµ‰ì¥í•œ ë¶€ë‹´ìœ¼ë¡œ ë‹¤ê°€ì™”ë‹¤. ë”°ë¼ì„œ, ì´ë¥¼ í•´ê²°í•  ë°©ë²•ì´ í•„ìš”í•´ì¡Œë‹¤.\n\n## SDN\n\nìœ„ì—ì„œ ì œì‹œí•œ ë¬¸ì œë“¤ì€ ê²°êµ­ ê° Switch/Routerì™€ ê°™ì€ Hardware ì¥ì¹˜ì— Softwareê°€ ê·€ì†ë˜ì–´ì„œ ë°œìƒí•œë‹¤. ë”°ë¼ì„œ, Switch/RouterëŠ” ë‹¨ì§€ Hardwareì˜ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ë„ë¡í•˜ê³ , SoftwareëŠ” ìµœì†Œí•œì˜ ê¸°ëŠ¥ë§Œì„ ë‚¨ê¸´ í›„ ì´ë“¤ì´ ìˆ˜í–‰í•˜ëŠ” Forwarding/Routing ë“±ì˜ ë™ì‘ì„ ë³„ë„ì˜ Generic Computerì— Controllerë¼ëŠ” ì—­í• ì„ ë¶€ì—¬í•˜ê³ , ì´ Controllerì— ì˜í•´ì„œ Forwarding/Routingì„ ì œì–´í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±í•œ Networkë¥¼ í†µí•´ì„œ ê¸°ì¡´ ë¬¸ì œë¥¼ í•´ê²°í•˜ìëŠ” ê²ƒì´ë‹¤.\n\nì´ë¥¼ í†µí•´ì„œ, ê²°êµ­ ê° ì¥ì¹˜ë“¤ì€ Routingì´ ì–´ë–»ê²Œ ì •í•´ì¡ŒëŠ”ì§€ì— ëŒ€í•œ ë‚´ìš©ì€ ì•Œì§€ ëª»í•œë‹¤. í•˜ì§€ë§Œ, Hardwareì ìœ¼ë¡œ packetì˜ ì…ë ¥ì„ ë°›ì„ ìˆ˜ ìˆì„ ë¿ë§Œ ì•„ë‹ˆë¼ Controllerë¡œë¶€í„° ì–´ë””ë¡œ packetì„ forwarding í•´ì•¼í• ì§€ì— ëŒ€í•œ ì •ë³´ëŠ” ì•Œê³  ìˆê³ , ì´ì— ë”°ë¼ packetì„ ë‚´ë³´ë‚´ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤. ë”°ë¼ì„œ, ì „ì²´ ë„¤íŠ¸ì›Œí¬ê°€ Controllerë¥¼ ë¶„ë¦¬í•¨ìœ¼ë¡œì¨ ì¶”ìƒí™”ê°€ ë˜ëŠ” ê²ƒì´ë‹¤. ì´ëŸ¬í•œ ì¶”ìƒí™”ì˜ ì¥ì ì€ ê²°êµ­ ìœ ì—°í•œ ë„¤íŠ¸ì›Œí¬ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.\n\nì´ê²ƒì´ SDNì´ ì¶”êµ¬í•˜ëŠ” ì‚¬ìƒì´ë‹¤. ì´ê²ƒì„ ê°€ëŠ¥í•˜ê²Œ í•œ ê²ƒì´ OpenFlowì˜ ë“±ì¥ì´ë‹¤. OpenFlowì— ëŒ€í•œ ì„¤ëª…ì€ ë³„ë„ì˜ [Posting](/posts/openflow)ì—ì„œ ë‹¤ë£¬ë‹¤.\n\n### Googleì˜ SDN í™œìš© ì‚¬ë¡€\n\n\u003e **ë¬¸ì œ ìƒí™©**\n\nGoogleì—ì„œëŠ” ë§¤ë…„ 40\\~45%ì˜ Trafficì˜ ì¦ê°€ê°€ ë°œìƒí•˜ì˜€ë‹¤. ì´ë¥¼ ëŒ€ë¹„í•˜ê¸° ìœ„í•´ì„œ, Googleì—ì„œ ì „ìš© í•´ì € ì¼€ì´ë¸”ì„ ì„¤ì¹˜í•˜ì˜€ë‹¤. ì´ë¥¼ í†µí•´ì„œ, Googleì˜ ê° DataCenter ê°„ì˜ ì—°ê²° í’ˆì§ˆì„ ì˜¬ë¦¬ê³  ì‹¶ì—ˆë‹¤. í•˜ì§€ë§Œ, ì‹¤ì œë¡œ DataCenterê°„ì˜ í†µì‹ ì—ëŠ” 30\\~40% ìˆ˜ì¤€ìœ¼ë¡œë§Œ ì¼€ì´ë¸”ì„ ì‚¬ìš©í–ˆë‹¤. ê¸°ì¡´ì˜ Routingìœ¼ë¡œ DataCenterê°„ ì„œë¹„ìŠ¤ì˜ Trafficì„ ì ì ˆí•˜ê²Œ ë¶„ë°°í•˜ê³  ì‹¶ì—ˆì§€ë§Œ ì´ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ì—†ì—ˆë‹¤.\n\n\u003e **í•´ê²°ì±…**\n\nìì²´ ê°œë°œí•œ OpenFlow Protocolì„ ì§€ì›í•˜ëŠ” Switchë¥¼ ê°œë°œí•˜ì—¬, ì´ë¥¼ ì´ìš©í•˜ì—¬, ë‹¤ìŒê³¼ ê°™ì€ ì„œë¹„ìŠ¤ì— weightë¥¼ ë¶€ì—¬í•˜ì—¬ ì ì ˆí•˜ê²Œ trafficì„ ë¶„ë°°í•˜ì˜€ë‹¤.\n\n- User data copy : ê° ë°ì´í„° ì„¼í„°ê°„ì˜ e-mail, video ë“±ì˜ íŒŒì¼ ë™ê¸°í™”\n- ê²€ìƒ‰ì–´ rankingì„ ìœ„í•œ ë°ì´í„° copy\n- Datacenterê°„ ìƒíƒœ ë™ê¸°í™”\n\ní•´ë‹¹ serviceì—ì„œ ë°œìƒí•˜ëŠ” trafficì„ ì ì ˆí•˜ê²Œ weightë¥¼ ë¶€ê³¼í•˜ì—¬ SDNì„ í™œìš©í•˜ì—¬ ë¶„ë°°í•˜ì—¬ ê²°êµ­ Datacenterê°„ì˜ í†µì‹ ì—ì„œ ê´‘ì¼€ì´ë¸” í™œìš©ë¥ ì´ 90%ê¹Œì§€ ìƒìŠ¹í–ˆë‹¤.\n\n### ì£¼ìš” OpenSource\n\nSDN êµ¬ì¶•ì— ë§ì´ í™œìš©ë˜ëŠ” ì£¼ìš” OpenSourceë¥¼ ì •ë¦¬í•œë‹¤. ê·¸ì „ì—, OpenSourceì˜ êµ¬ì„± í˜•íƒœë¥¼ ì•Œì•„ë³¼ í•„ìš”ê°€ ìˆë‹¤. ì•„ë˜ì™€ ê°™ì€ í˜•íƒœë¡œ ê° OpenSourceë¥¼ êµ¬ë¶„í•˜ì—¬ ì‚´í´ë³¼ ìˆ˜ ìˆë‹¤.\n\n![SDN Architecture](/images/sdn-arch.jpeg)\n\n- North : ì‹¤ì œ SDN Controllerì™€ communicationì„ í†µí•´ SDN configurationì„ ë³€ê²½í•œë‹¤ë˜ê°€ GUIë¡œ í˜„ì¬ ìƒíƒœë¥¼ ì²´í¬í•˜ëŠ” ë“±ì˜ ë™ì‘ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.\n- North Bound Interface : SDN Controllerì™€ communicationì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” Protocolì´ë‹¤.\n- SDN Controller : ì‹¤ì œ SDNì—ì„œ Routingì„ ì œì–´í•  Controller\n- South Bound Interface : SDN Controllerì™€ Network Nodeë“¤(ì‹¤ì œ ë˜ëŠ” ê°€ìƒ Switch)ê³¼ì˜ communicationì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” Protocolì´ë‹¤.\n- South : Physical / Virtual Switch\n\nê° OpenSourceì— ëŒ€í•´ì„œëŠ” ìì„¸íˆ ë‹¤ë£¨ì§€ ì•ŠëŠ”ë‹¤. ì„¸ë¶€ì ìœ¼ë¡œëŠ” ì‹œê°„ì´ ì£¼ì–´ì§€ë©´ í•˜ë‚˜ì”© í•´ë‚˜ê°ˆ ìƒê°ì´ë‹¤.\n\n\u003e **ONOS**\n\nìœ„ì—ì„œ ì„¤ëª…í•œ ì˜ì—­ì—ì„œ North, North Bound Interface, SDN Controllerì˜ ì—­í• ì„ ëª¨ë‘ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” Open Sourceì´ë‹¤.\n\nOpen Network Operating Systemì˜ ì•½ìë¡œ, ONFì—ì„œ ê´€ë¦¬í•˜ë©° SDN Controllerë¥¼ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì„ ì œì‹œí•œë‹¤. ì´ë¥¼ í†µí•´ì„œ, ìœ ì—°í•˜ê³  ì•ˆì •ì ì¸ Network Serviceë¥¼ êµ¬ì¶•í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•œë‹¤. ìœ ì—°í•˜ë‹¤ëŠ” ê²ƒì€ ê°„ë‹¨í•œ programì„ êµ¬í˜„í•  ìˆ˜ ìˆëŠ” interfaceë¥¼ ì œê³µí•˜ë©°, ë„¤íŠ¸ì›Œí¬ ìƒíƒœë¥¼ ì •ì˜í•˜ê³ , ì´ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì„ ì œê³µí•œë‹¤. ì•ˆì •ì ì´ë‹¤ì˜ ê¸°ì¤€ì„ ONOSì—ì„œëŠ” 99.999 % Availabilityë¥¼ ì œê³µí•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•œë‹¤.\n\në³¸ ëª©ì ì€ Controllerë¥¼ êµ¬ì„±í•˜ëŠ” ê²ƒì´ì§€ë§Œ, REST API(NIB)ì—ì„œë¶€í„° Webì„ í†µí•œ Dashboard GUI(North)ì™€ CLI(North)ë¥¼ ì œê³µí•˜ê³  ìˆë‹¤. ë˜í•œ, ë‚´ë¶€ì ìœ¼ë¡œ OpenFlowì˜ ë™ì‘ì„ ì¶”ìƒí™”í•˜ì—¬\n\n[ğŸ”— ê³µì‹ ì‚¬ì´íŠ¸](https://wiki.onosproject.org/display/ONOS/ONOS)\n\n\u003e **Open DayLight**\n\nONOSì™€ ê°€ì¥ ë§ì´ ë¹„êµë˜ì–´ì§€ëŠ” OpenSourceë¡œ ë§ˆì°¬ê°€ì§€ë¡œ North, North Bound Interface, Controller ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.\n\nCiscoì™€ Network Venderë¥¼ ëª¨ì•„ì„œ, ONOSë¥¼ ê²¬ì œí•˜ê¸° ìœ„í•´ì„œ ì´ˆê¸°ì— ì‹œì‘ëœ Projectë¡œ ONOSëŠ” SDN Controllerì— ì¢€ ë” ì§‘ì¤‘í•˜ëŠ” í•œí¸, Open DayLightëŠ” SDN ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ëŠ” í™˜ê²½ì„ ì œê³µí•˜ëŠ” ê²ƒì„ ê°•ì¡°í•œë‹¤. ë˜í•œ, Venderì— ì˜í•´ì„œ ê´€ë¦¬ë˜ê¸° ë•Œë¬¸ì— ONOSì™€ ë¹„êµí•˜ì˜€ì„ ë•Œ, SBIê°€ ì¼€ì´ë¸”tv ë° IoT Protocolê¹Œì§€ í™•ì¥ë˜ì—ˆë‹¤. ìì„¸íˆëŠ” ì•„ë˜ í‘œë¥¼ í†µí•´ì„œ ì‚´í´ë³´ë„ë¡ í•˜ì.\n\n|                 | ONOS                    | Open DayLight            | ë¹„ê³                     |\n| :-------------- | :---------------------- | :----------------------- | :---------------------- |\n| ë¼ì´ì„ ìŠ¤        | Apache 2.0              | Eclipse Public License   |                         |\n| ê°œë°œì          | ì œí•œ ì—†ìŒ               | Vender                   |                         |\n| SBI ì§€ì›        | ì—¬ëŸ¬ SBI ì§€ì›           | ONOSë³´ë‹¤ ë‹¤ì–‘í•œ SBI ì§€ì› |                         |\n| ì£¼ìš” ê³ ê°       | í†µì‹  ë° í´ë¼ìš°ë“œ ì‚¬ì—…ì | ë°ì´í„° ì„¼í„°              |                         |\n| ë³´ì•ˆì„±          | ì•½í•¨                    | ì¤‘ê°„                     | ì•„ì§ ëª¨ë‘ ë³´ì™„ì„±ì´ ë‚®ìŒ |\n| OpenFlow í˜¸í™˜ì„± | 1.0 ~ 1.5               | 1.0 ~ 1.3                | ONF í‘œì¤€                |\n| P4              | ì§€ì›                    | ì§€ì›                     |                         |\n| Network ê°€ìƒí™”  | ì§€ì›                    | ì§€ì›                     |                         |\n\n[ğŸ”— ê³µì‹ ì‚¬ì´íŠ¸](https://www.opendaylight.org)\n\n\u003e **ONAP**\n\nONAPì€ Open Network Automation Platformì˜ ì•½ìë¡œ SDNì˜ Life Cycleì„ ê´€ë¦¬í•˜ëŠ” ë„êµ¬ë¡œ ì´í•´í•˜ë©´ ì‰½ë‹¤. ìœ„ì˜ ì œì‹œí•œ Controllerë¡œ ë¶€í„° ê° ê°ì˜ Switchì— ì´ë¥´ëŠ” ì¥ì¹˜ë“¤ì˜ ìƒíƒœë¥¼ í™•ì¸í•˜ê³ , ì ì ˆí•˜ê²Œ orchestrationí•˜ëŠ” ë„êµ¬ì´ë‹¤. ì´ëŠ” AT\u0026Tì˜ ECOMP projectì™€ ì¤‘êµ­ ë„¤íŠ¸ì›Œí¬ë¥¼ ìœ„í•œ Open-Oê°€ ê²°í•©í•˜ì—¬ Opensourceí™”ë¥¼ ì§„í–‰í•œ í”„ë¡œì íŠ¸ì´ë‹¤.\n\n[ğŸ”— ê³µì‹ ì‚¬ì´íŠ¸](https://www.onap.org)\n\n\u003e **P4**\n\nProgrammable, Protocol-Independant Packet Processorì˜ ì•½ìë¡œ ê¸°ì¡´ì˜ ì œí•œëœ ê¸°ëŠ¥ë§Œ ìˆ˜í–‰í•˜ë˜ Fixed Function Switchë¥¼ í•„ìš”ì— ë”°ë¼ ê¸°ëŠ¥ì„ ë‹¤ë¥´ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆëŠ” Programmable Switchë¡œ ëŒ€ì²´í•˜ê³ , P4ë¥¼ ì´ìš©í•˜ì—¬ programmingí•  ìˆ˜ ìˆëŠ” í™˜ê²½ì„ ì œê³µí•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•œë‹¤. í˜„ì¬ì—ëŠ” Switch ë‚´ë¶€ì˜ Packet Forwardingê³¼ Access Control ê¸°ëŠ¥ ê°œë°œìš©ìœ¼ë¡œ íŠ¹í™”ëœ ìƒíƒœì´ë‹¤. ì•„ì§ê¹Œì§€ëŠ” Queueì˜ Schedulingê³¼ ê°™ì€ ê¸°ëŠ¥ì€ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤.\n\n[ğŸ”— ê³µì‹ ì‚¬ì´íŠ¸](https://p4.org)\n\n\u003e **DPDK**\n\nê³ ì„±ëŠ¥ packet ì²˜ë¦¬ë¥¼ ìœ„í•œ Libraryì™€ Driverì˜ ì§‘í•©ì´ë‹¤. Virtual Switchì˜ ê°€ì¥ í° ë¬¸ì œëŠ” OS Kernelì„ í†µê³¼í•˜ë©´ì„œ ë°œìƒí•˜ëŠ” Overheadì´ë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ, DPDKì—ì„œëŠ” Kernelì„ í†µê³¼í•˜ì—¬ ìˆ˜í–‰í•˜ëŠ” Kernel bypassë¼ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. ì´ë¥¼ í†µí•´ì„œ Packet ì²˜ë¦¬ë¥¼ ê°€ì†í™”í•˜ì˜€ë‹¤.\n\n[ğŸ”— ê³µì‹ ì‚¬ì´íŠ¸](https://www.dpdk.org)\n\n\u003e **FD.io**\n\nDPDKì™€ ë§ˆì°¬ê°€ì§€ë¡œ packet ì „ì†¡ì˜ ê°€ì†í™”ë¥¼ ëª©í‘œë¡œ í•œë‹¤. ê¸°ì¡´ í•˜ë‚˜ì˜ Packetì„ ë³´ë‚¼ ë•Œ, ê·¸ë˜í”„ ì—°ì‚°ì´ ëë‚  ë•Œê¹Œì§€ ë‹¤ìŒ packetì´ ë¬´ê¸°í•œ ê¸°ë‹¤ë¦¬ëŠ” ê²ƒì„ ë°©ì§€í•˜ê³ ì ë³‘ë ¬ ë˜ëŠ” ë™ì¼ ëª©ì ì§€ packetì„ ë¹ ë¥´ê²Œ ì‹ë³„í•˜ì—¬ packet ì „ì†¡ì„ ìµœì í™”í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•œë‹¤.\n\n[ğŸ”— ê³µì‹ ì‚¬ì´íŠ¸](https://fd.io)\n\n\u003e **OpenStack**\n\nOpenStackì€ ë²”ìš© Cloudë¥¼ êµ¬ì¶•í•˜ëŠ” Solutionì„ ì œê³µí•œë‹¤. ì¦‰, ì—¬ëŸ¬ Nodeë¥¼ ê°€ì§„ ì‚¬ìš©ìë¼ë©´, ì—¬íƒ€ Vender(AWS, GCP)ë¥¼ ì´ìš©í•˜ì§€ ì•Šê³ , Cloud í™˜ê²½ì„ êµ¬ì¶•í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤. ì´ë¥¼ í†µí•´ì„œ êµ¬ì¶•í•œ Cloudì— Controllerë¥¼ êµ¬ì„±í•˜ê³  SDNë¥¼ ì œê³µí•˜ëŠ” ê²½ìš°ë„ ë§ë‹¤.\n\n[ğŸ”— ê³µì‹ ì‚¬ì´íŠ¸](https://openstack.org)\n\n### ì£¼ìš” SBI\n\nSouth Bound Interfaceë€ ì‹¤ì œë¡œ Switchì™€ Controllerê°€ ì–´ë–»ê²Œ communicationì„ ìˆ˜í–‰í•  ê²ƒì¸ì§€ì— ëŒ€í•œ Protocolì„ ì˜ë¯¸í•œë‹¤. í˜„ì¬ ì‚¬ì‹¤ìƒ í‘œì¤€ì´ë¼ê³  ì—¬ê²¨ì§€ëŠ” Protocolì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n\u003e **OpenFlow**\n\nì• ì„œ ê³„ì†í•´ì„œ ì„¤ëª…í•´ì™”ê¸°ì— ìƒëµí•œë‹¤.\n\n\u003e **NetConf**\n\nNetwork ì¥ë¹„(Switch, Router)ì˜ Configurationì„ ìœ„í•œ Protocolë¡œ ê¸°ì¡´ Venderë§ˆë‹¤ ë‹¤ë¥´ë˜ Configuration ê³¼ì •ì„ ì´ë¥¼ í†µí•´ì„œ ê°„ëµí™”í•˜ê³ , ê¸°ì´ˆì ì¸ Programmingì„ í†µí•´ì„œ ì´ ê³¼ì •ì„ ìë™í™”í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤.\n\n\u003e **I2RS**\n\nOpenFlowë¥¼ í†µí•´ì„œ ê¸°ì¡´ Network ì¥ë¹„ì˜ ë°ì´í„° í‰ë©´ê³¼ ì œì–´ í‰ë©´ì˜ ì™„ì „ ì œê±°ì— ëŒ€í•œ ë°˜ë°œë¡œ ì¸í•´ ìƒê²¨ë‚˜ Protocolì´ë‹¤. ì´ëŠ” Ciscoì—ì„œ ë§Œë“¤ì–´ì¡Œìœ¼ë©°, ê¸°ì¡´ Switch/Routerì˜ ì œì–´ í‰ë©´ì„ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë©´ì„œ ì™¸ë¶€ Controllerë¡œë¶€í„°ì˜ ì œì–´ë¥¼ ì¼ë¶€ ìˆ˜ìš©í•˜ëŠ” í˜•íƒœì˜ Protocolì´ë‹¤.\n\n\u003e **BGP-LS / PCE-P**\n\nSDN Controllerì™€ Network ìƒíƒœ ì •ë³´ë¥¼ ê³µìœ í•˜ê¸° ìœ„í•´ ê°œë°œëœ Protocolì´ë‹¤.\n\n\u003e **LISP**\n\nIPì— ì˜í•œ ë„¤íŠ¸ì›Œí¬ ì£¼ì†Œì™€ ë‹¨ë§ê¸° ì£¼ì†Œê°€ ì™„ë²½í•˜ê²Œ êµ¬ë¶„ë˜ì§€ ì•ŠëŠ” ë¬¸ì œì— ì˜í•´ì„œ ë§Œë“¤ì–´ì¡Œë‹¤. ì¦‰, ë‹¨ë§ì´ ì´ë™ ì‹œì— ë„¤íŠ¸ì›Œí¬ ì£¼ì†Œë¥¼ ì¬ì„¤ì •í•´ì£¼ëŠ” ë“±ì˜ ë²ˆê±°ë¡œì›€ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.ë”°ë¼ì„œ, IP headerì— LISP headerë¥¼ ì¶”ê°€í•˜ì—¬ ì‹¤ì œ ê¸°ê¸° ì£¼ì†Œì™€ ë„¤íŠ¸ì›Œí¬ ì£¼ì†Œë¥¼ ì‹ë³„í•˜ëŠ” ì •ë³´ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì´ í•µì‹¬ ì•„ì´ë””ì–´ì¸ Protocolì´ë‹¤.\n\n### ì£¼ìš” ì—°êµ¬ ë™í–¥\n\n\u003e **1. CORD**\n\ní˜„ì¬ê¹Œì§€ëŠ” DataCenter, Cloudì— í•œì •ë˜ì–´ ìˆëŠ” SDNì˜ ì ìš©ì„ ì‹¤ì œ ì „í™”êµ­ ë° ê°€ì…ì í†µì‹  ì‹œì„¤ì˜ ê°€ìƒí™”ê¹Œì§€ ì´ì–´ê°€ê³ ì í•˜ëŠ” ê²ƒì´ ëª©í‘œì´ë‹¤. í˜„ì¬ í”„ë¡œì íŠ¸ëŠ” ì´ 4ê°œì˜ ì„¸ë¶€ í”„ë¡œì íŠ¸ë¡œ ë‚˜ë‰˜ì–´ì ¸ì„œ ì§„í–‰ì¤‘ì´ë‹¤.\n\n1. E-CORD : ê¸°ì—…ìš© ìµœì  ì¸í„°ë„· êµ¬ì„± ì‹œê°„ ë‹¨ì¶•\n2. R-CORD : ê´‘ê°€ì…ì ì„œë¹„ìŠ¤ ì¥ì¹˜ì˜ ê°€ìƒí™”\n3. A-CORD : ë°ì´í„° ìˆ˜ì§‘ ê¸°ëŠ¥ì„ í”„ë¡œê·¸ë˜ë° ê°€ëŠ¥í•˜ê²Œ êµ¬í˜„í•˜ì—¬ ì´ë¥¼ í†µí•œ ì œì–´ë¥¼ ëª©í‘œ\n4. M-CORD : 4G/5G ì¥ì¹˜ì˜ ê°€ìƒí™”\n\n\u003e **2. Pronto Project**\n\në„¤íŠ¸ì›Œí¬ì˜ ëª¨ë“  ë™ì‘ì„ Monitoringí•˜ê³ , ì œì–´í•˜ëŠ” Deep Programmable Platformì„ êµ¬í˜„í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ì‚¬ì—…ìê°€ ì œì–´ê¶Œì„ í™•ë³´í•˜ë„ë¡ í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•œë‹¤.\n\n## NFV\n\nSDNê³¼ ê°™ì´ ì–˜ê¸°ë˜ì–´ì§€ëŠ” NFV(Network Function Virtualization)ë„ ì‚´í´ë³´ê³ ì í•œë‹¤. ìœ„ì—ì„œ SDNì„ ì„¤ëª…í•˜ì˜€ì§€ë§Œ, ê²°êµ­ ì•„ì§ê¹Œì§€ëŠ” DataCenterë¥¼ ìš´ì˜í•˜ëŠ” ì„œë¹„ìŠ¤ ì‚¬ì—…ì ì§€í–¥ì ì´ë‹¤. ëŒ€ê²Œ ë‹«íŒ ë„¤íŠ¸ì›Œí¬ ë‚´ì—ì„œ ì‚¬ìš©ì´ ìš©ì´í•˜ë‹¤ëŠ” ê²ƒì¸ë°, ì´ëŠ” ë³´ì•ˆê³¼ ê´€ë ¨ëœ ë¶€ë¶„ë„ ë¶€ì¡±í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ë”°ë¼ì„œ, í†µì‹  ì‚¬ì—…ìë“¤ì€ SDNì„ íš¨ê³¼ì ìœ¼ë¡œ êµ¬ì„±í•˜ê¸° ìœ„í•´ì„œ í†µì‹  ì¥ë¹„ì˜ í•˜ë“œì›¨ì–´ì™€ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ë¶„ë¦¬í•  ë°©ë²•ì„ ì°¾ì•„ì•¼ í–ˆë‹¤. ì—¬ê¸°ì„œ ë‚˜ì˜¨ ë°©ë²•ì´ Cloudë¥¼ í™œìš©í•˜ì—¬ ì†Œí”„íŠ¸ì›¨ì–´ ì˜ì—­ì„ Cloud ë‚´ë¶€ì—ì„œ êµ¬í˜„í•˜ê³ , í†µì‹  ì¥ë¹„ëŠ” ìµœì†Œí•œì˜ ì†Œí”„íŠ¸ì›¨ì–´ë§Œìœ¼ë¡œ êµ¬ì„±í•˜ëŠ” ê²ƒì´ë‹¤. ì¦‰, Networkì˜ íŠ¹ì • ê¸°ëŠ¥ì„ ê°€ìƒí™”í•´ì„œ í•„ìš”ì— ë”°ë¼ ê° í•˜ë“œì›¨ì–´ ì¥ë¹„ê°€ ë¶ˆëŸ¬ì™€ ì‚¬ìš©í•œë‹¤ëŠ” ê°œë…ì´ë‹¤. ê²°êµ­ í†µì‹  ì‚¬ì—…ì ì…ì¥ì—ì„œëŠ” SDNì„ êµ¬ì¶•í•˜ê¸° ìœ„í•´ì„œëŠ” NFVì˜ êµ¬í˜„ì´ ìš°ì„ ì‹œë˜ëŠ” ê²ƒì´ë‹¤. ì´ë¥¼ ìˆ˜í–‰í•˜ê²Œ ë˜ë©´, ë‹¹ì—°íˆ Softwareì˜ ìœ ì—°í•œ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ê³ , ê° ì¥ì¹˜ì—ì„œ Softwareê¹Œì§€ ë¶€ë‹´í•´ì•¼ í•˜ëŠ” ë¹„ìš©ì´ ì¤„ê¸° ë•Œë¬¸ì— ì„¤ì¹˜ ë° ìš´ì˜ë¹„ìš©(CAPEX / OPEX)ì—ì„œ í° ì´ì ì„ ë³¼ ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.\n","slug":"sdn","date":"2022-05-25 09:00","title":"SDN","category":"Network","tags":["SDN","NFV","OpenFlow","ONOS","OpenDayLight","P4","DPDK","FD.io","OpenStack","CORD"],"thumbnailSrc":"https://euidong.github.io/images/network-background.jpg"},{"content":"\n### Reference\n\n- Thumbnail : Photo by [Jordan Harrison](https://unsplash.com/@jordanharrison?utm_source=unsplash\u0026utm_medium=referral\u0026utm_content=creditCopyText) on [Unsplash](https://unsplash.com/s/photos/network-cable?utm_source=unsplash\u0026utm_medium=referral\u0026utm_content=creditCopyText)\n- mininet : \u003chttps://github.com/mininet/mininet/wiki/Introduction-to-Mininet\u003e\n\nmininetì€ í˜„ì‹¤ì ì¸ ê°€ìƒ ë„¤íŠ¸ì›Œí¬ í™˜ê²½ì„ êµ¬ì¶•í•´ì£¼ëŠ” `Network Emulator`, ë” ì •í™•íˆëŠ” `NETOWKR Emulation Orchestration System`ì´ë‹¤.  \nì´ë¥¼ í†µí•´ì„œ, ê°€ìƒì˜ End Device(Host), ê°ì¢… Switch, Router, ê·¸ë¦¬ê³  ì´ë¥¼ ì—°ê²°í•˜ëŠ” Linkë¥¼ ë‹¨ í•˜ë‚˜ì˜ Linux Kernelë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ì—¬ê¸°ì„œ ê·¸ì¹˜ì§€ ì•Šê³ , ê° Hostì— `ssh` ì ‘ê·¼ì„ ìˆ˜í–‰í•˜ì—¬ ê¸°ë³¸ Linux Kernel ë™ì‘ì„ ìˆ˜í–‰í•˜ê±°ë‚˜ ethernetì„ ì´ìš©í•´ì„œ ê° deviceë¡œ packetì„ ì „ì†¡í•˜ëŠ” ê²ƒê³¼ ê°™ì€ íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤. (ì‹¤ì œ speedì™€ delayì— ê¸°ë°˜í•œ ì†ë„ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.) ë˜í•œ, SDNê³¼ ê°™ì€ í™˜ê²½ì— í•„ìš”í•œ Controller ì—­ì‹œ êµ¬ì„±í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤. ê·¸ë ‡ê¸°ì— ì‹¤ì œë¡œ SDN Networkë¥¼ Testí•˜ê³  ì—°êµ¬í•˜ëŠ” ëª©ì ìœ¼ë¡œ ë§ì´ ì‚¬ìš©ë˜ê³  ìˆë‹¤.\n\n## ì¥ì \n\n1. Fast - ê°€ìƒ ë„¤íŠ¸ì›Œí¬ì˜ êµ¬ì„±ì´ êµ‰ì¥íˆ ë¹ ë¥¸ ì‹œê°„ ë‚´ì— êµ¬ì„±ëœë‹¤. ì‹¤ì œë¡œ ë™ì‘í•´ë³´ë©´, ì´ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤.\n2. Customize Topology - ê°„ë‹¨í•œ ë„¤íŠ¸ì›Œí¬ì—ì„œë¶€í„° ì‹œì‘í•´ì„œ, Backborn, Datacenter, Internet ë“± ëª¨ë“  ë„¤íŠ¸ì›Œí¬ êµ¬ì„±ì´ ê°€ëŠ¥í•˜ë‹¤.\n3. Can run every programs in Linux - ê°„ë‹¨í•œ Web Serverì—ì„œë¶€í„° ì‹œì‘í•˜ì—¬ Mornitoring Serviceì¸ Wireshark ë“±ì˜ í™œìš©ì´ ê°€ëŠ¥í•˜ë‹¤.\n4. Progammable - ê° Switchì˜ ë™ì‘ë„ programmingì´ ê°€ëŠ¥í•˜ê¸°ì— OpenFlow Protocolì„ ê¸°ë°˜ìœ¼ë¡œ packet forwarding ì—­ì‹œ customizingì´ ê°€ëŠ¥í•˜ë‹¤.\n5. LightWeight - Labtopì—ì„œ ëŒì•„ê°ˆ ì •ë„ë¡œ ê°€ë³ë‹¤.\n6. Can share results - ê° Topologyì™€ ê°™ì€ êµ¬ì„±ì€ python codeë¡œ êµ¬ì„±ë˜ê³ , test code ë“±ë„ ì‰½ê²Œ ê³µìœ ê°€ ê°€ëŠ¥í•˜ë‹¤.\n7. Easy - Mininet ì‹¤í–‰ê³¼ êµ¬ì¶• ê·¸ë¦¬ê³  ìš´ì˜ì´ ë§¤ìš° ê°„ë‹¨í•œ CLI, Python codeë¡œ ì‘ì„±ì´ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ë§¤ìš° ì‰½ë‹¤.\n8. OpenSource - ì‰½ê²Œ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì´ ê°€ëŠ¥í•˜ê³ , ëˆ„êµ¬ë‚˜ í•´ë‹¹ í”„ë¡œì íŠ¸ì— ì°¸ì—¬ê°€ ê°€ëŠ¥í•˜ë‹¤.\n\n## ì£¼ì˜ì‚¬í•­\n\n1. ë§Œì•½ 10Gbps ì´ìƒì˜ trafficì„ ì²˜ë¦¬í•˜ê¸°ë¥¼ ì›í•˜ëŠ” ê²½ìš°, ë¶€í•˜ë¥¼ ì ì ˆíˆ ë¶„ë°°í•˜ê¸° ìœ„í•œ êµ¬ì¡°ë¥¼ ì‹¤í–‰ì ì¸¡ì—ì„œ êµ¬ì„±í•  í•„ìš”ê°€ ìˆë‹¤.\n2. Mininetì€ í•˜ë‚˜ì˜ Linux Kernelì„ í†µí•´ ëª¨ë“  Virtual Hostë¥¼ ì œì–´í•œë‹¤. (ë‹¤ë¥¸ Platform, Window ë“±ì€ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. VM í•„ìš”)\n3. Mininetì—ì„œëŠ” OpenFlow Controllerë¥¼ ì‚¬ìš©í•  ìˆ˜ëŠ” ìˆì§€ë§Œ, ì´ë¥¼ ì§ì ‘ ì œì–´í•  ë°©ë²•ì€ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤.\n4. ê¸°ë³¸ì ìœ¼ë¡œëŠ” Host LANê³¼ëŠ” ë¶„ë¦¬ë˜ì–´ ìˆë‹¤. (ë¬¼ë¡  `NAT`ë¥¼ í†µí•´ì„œ ì—°ê²°ë„ ê°€ëŠ¥í•˜ë‹¤.)\n5. ê¸°ë³¸ì ìœ¼ë¡œ Mininetì— ì˜í•´ ìƒì„±ëœ HostëŠ” PIDì™€ file systemì„ ê³µìœ í•œë‹¤. (ë¬¼ë¡  ë°”ê¿€ ìˆ˜ëŠ” ìˆì§€ë§Œ, ìœ ì˜í•˜ì.)\n6. Simulatorê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì—, Virtual Timeì— ëŒ€í•œ ë§¤ìš° ì •í™•í•œ ì§€í‘œë¥¼ ì œì‹œí•  ìˆ˜ëŠ” ì—†ë‹¤.\n\n\u003e Mininet í™œìš©\n\nMininetì„ ì œëŒ€ë¡œ í™œìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì‚¬í•­ì„ ìˆ™ì§€í•´ì•¼ í•œë‹¤.\n\n0. ì„¤ì¹˜\n1. Topology ìƒì„±\n2. Performance ì¸¡ì •\n3. OpenFlowë¥¼ ì´ìš©í•´ì„œ Custom Routing\n\nì´ì œë¶€í„° ìœ„ì˜ ë‚´ìš©ì„ í•˜ë‚˜í•˜ë‚˜ ìˆ˜í–‰í•´ ë³¼ ê²ƒì´ë‹¤.\n\n## 0. ì„¤ì¹˜\n\n[Mininet Repo](https://github.com/mininet/mininet)\n\nìœ„ì˜ ë§í¬ì—ì„œ INSTALLì´ë¼ëŠ” íŒŒì¼ì— ë”°ë¼ì„œ ì„¤ì¹˜ë¥¼ ì§„í–‰í•´ë³´ì. ì—­ì‹œ ì œì¼ ì‰¬ìš´ ê²ƒì€ ì œì‘ìê°€ ì§ì ‘ ë§Œë“¤ì–´ë†“ì€ Virtual Machine ì´ë¯¸ì§€ë¥¼ í™œìš©í•˜ì—¬ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ë‹¤.\n\n## 1. Topology ìƒì„±\n\nì•„ë˜ì˜ í˜•íƒœê°€ ê°€ì¥ ê¸°ë³¸ì ì¸ í˜•íƒœì˜ Topologyì´ë‹¤. ì´ë¥¼ ì‹¤í–‰ì‹œí‚¤ë©´, ê¸°ë³¸ì ìœ¼ë¡œ ë‘ ê°œì˜ Hostê°€ í•˜ë‚˜ì˜ Switchì— ê° ê° ì—°ê²°ëœ í˜•íƒœë¡œ êµ¬ì„±ë˜ì–´ì§„ë‹¤.\n\n![one-switch-topology](/images/one-switch-topo.jpeg)\n\n```python\nfrom mininet.topo import Topo\n\nclass SingleSwitchTopo(Topo):\n  \"Single switch connected to n Hosts.\"\n  # build function ë‚´ë¶€ì—ì„œ topologyë¥¼ êµ¬ì„±í•˜ëŠ” ìš”ì†Œì— ëŒ€í•´ ì •ì˜\n  # self.__init__ì˜ parameterê°€ í•´ë‹¹ í•¨ìˆ˜ë¡œ ê·¸ëŒ€ë¡œ ì „ë‹¬ëœë‹¤.\n  def build(self, n=2):\n    # s1ì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ Switch ìƒì„±\n    switch = self.addSwitch('s1')\n    for h in range(n):\n      # h1, h2, ... ì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ Host ìƒì„±\n      host = self.addHost('h%s' % (h+1))\n      # h1, h2, ... ì„ s1ê³¼ ì—°ê²°\n      self.addLink(host, switch)\n\n# í›„ì— topologyë¥¼ ìƒì„±í•  ë•Œ, ì•„ë˜ ì´ë¦„ì„ í†µí•´ì„œ ì§€ì •ì´ ê°€ëŠ¥\ntopos = { 'singleSwitch': (lambda: SingleSwitchTopo())}\n```\n\nì´ë¥¼ íŒŒì¼ë¡œ ìƒì„±í•˜ê³ , ë‹¤ìŒê³¼ ê°™ì´ ì‹¤í–‰ì‹œí‚¤ë©´ ëœë‹¤.\n\n```bash\n$ sudo mn --custom [fileëª….py] --topo [topology ì´ë¦„],[build function parameters]\n\n# example\n$ sudo mn --custom mytopo.py --topo singleSwitch,3\n```\n\ní•˜ì§€ë§Œ, ìœ„ì™€ ê°™ì´ mininet commandë¥¼ í†µí•´ì„œ ì‹¤í–‰ì‹œí‚¤ëŠ” ê²ƒì€ ìë™í™”ì—ëŠ” ì ì ˆí•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.  \në§Œì•½, ë¶€ê°€ì ì¸ ì„¤ì •ì„ í•´ì£¼ê³  ì‹¶ê±°ë‚˜ ì‹¤í–‰ í›„ì— test ë° ì‹¤í—˜í•˜ê³ ì í•˜ëŠ” ìƒí™©ì„ ë§Œë“¤ê³ ì í•œë‹¤ë©´ ì¶”ê°€ì ì¸ programmingì´ í•„ìš”í•˜ë‹¤.  \nì•„ë˜ ì½”ë“œë¥¼ ì¶”ê°€ì ìœ¼ë¡œ ì‚´í´ë³´ì.\n\n```python\nfrom mininet.topo import Topo\nfrom mininet.net import Mininet\nfrom mininet.util import dumpNodeConnections\nfrom mininet.log import setLogLevel\n\nclass SingleSwitchTopo(Topo):\n  \"Single switch connected to n Hosts.\"\n  def build(self, n=2):\n    switch = self.addSwitch('s1')\n    for h in range(n):\n      host = self.addHost('h%s' % (h+1))\n      self.addLink(host, switch)\n\ndef simpleTest():\n    \"Create and test a simple network\"\n    topo = SingleSwitchTopo(n=4)\n    # Mininet ìƒì„±\n    # ì´ë•Œ, Topology, Host, Switch, Controller, Link ë“±ì— ëŒ€í•œ Customizingì´ ê°€ëŠ¥í•˜ë‹¤.\n    net = Mininet(topo)\n    # mininet ì‹¤í–‰\n    net.start()\n    print( \"Hostì˜ ì—°ê²° ìƒíƒœë¥¼ ì¶œë ¥\" )\n    dumpNodeConnections(net.hosts)\n    print( \"Netowork ì—°ê²° ìƒíƒœë¥¼ ì²´í¬\" )\n    # ping to every node with each node.\n    net.pingAll()\n    # mininet ì •ì§€\n    net.stop()\n\nif __name__ == '__main__':\n    # Tell mininet to print useful information\n    setLogLevel('info')\n    simpleTest()\n```\n\n```bash\npython [fileëª….py]\n```\n\nì´ë¥¼ í†µí•´ì„œ, Mininetë¥¼ ìš°ë¦¬ê°€ ì •ì˜í•œ Topologyì— ë”°ë¼ì„œ ì‹¤í–‰í•˜ê³  í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ëŠ” codeì´ë‹¤.  \nì´ëŸ¬í•œ ê¸°ëŠ¥ ë¿ë§Œ ì•„ë‹ˆë¼ hostì˜ ì„±ëŠ¥ì„ ì œí•œí•˜ê±°ë‚˜ Link ìš©ëŸ‰ì„ ì œì–´í•  ìˆ˜ë„ ìˆê³ , Switchë¥¼ ì œì–´í•  ìˆ˜ë„ ìˆê³ , íŠ¹ì • Hostì—ì„œ Commandë¥¼ ì‹¤í–‰ì‹œí‚¤ë„ë¡ í•  ìˆ˜ë„ ìˆë‹¤.  \në” ìì„¸í•œ ì‚¬í•­ì€ ì•„ë˜ ë§í¬ë¥¼ í†µí•´ì„œ í™•ì¸í•´ë³´ì.\n[More Example](https://github.com/mininet/mininet/tree/master/examples)\n\nìœ„ì—ì„œ ì‚´í´ë³¸ ì‚¬í•­ì€ ê°€ì¥ ê¸°ë³¸ì ì¸ Mininetì—ì„œ ì œê³µí•˜ëŠ” Templateì— ê¸°ë°˜í•˜ì—¬ programmingì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ë‹¤. ë§Œì•½, ì§ì ‘ì ìœ¼ë¡œ ì œì–´ë¥¼ ì›í•˜ëŠ” ê²½ìš° ë” í•˜ìœ„ ë‹¨ê³„ì˜ APIë¥¼ í™œìš©í•˜ì—¬ êµ¬í˜„í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤. [API Doc](http://api.mininet.org)\n\n### ì¶”ê°€ ì°¸ê³ ì‚¬í•­\n\ncode conventionì´ í›„ì— ë²„ì „ì—ì„œëŠ” ì¢€ ë³€ê²½ë˜ì—ˆë‹¤.\n\n- camelCase í‘œê¸°ê°€ snake_caseí˜•íƒœë¡œ ë³€ê²½ë˜ì—ˆë‹¤. example. `addHost -\u003e add_host`.\n- `build`ê°€ `__init__`ìœ¼ë¡œ ë°”ë€Œì–´, ë‚˜ì˜ ê¸°ì¤€ì—ì„œëŠ” ì´í•´í•˜ê¸° ì‰¬ì›Œì¡Œë‹¤.\n\në³€ê²½ë˜ì—ˆì§€ë§Œ, ì—¬ì „íˆ ê¸°ì¡´ ë²„ì „ í‘œê¸°ë„ ì§€ì›í•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©í•˜ëŠ”ë°ëŠ” ë¬¸ì œê°€ ì—†ë‹¤.\n\n## 2. Performance ì¸¡ì •\n\ní•´ë‹¹ ì‚¬í•­ì€ Mininetì—ì„œ ê¶Œì¥í•˜ëŠ” ë°©ë²•ì´ë‹¤.\n\n1. Bandwidth - `bwm-ng`, `ethstats`\n2. Latency - `ping`\n3. Queues - `tc`\n4. TCP Congestion Window statistics - `tcp_probe`\n5. CPU usage - for all: `top`, per host: `cpuacct`\n\n## 3. OpenFlowë¥¼ ì´ìš©í•´ì„œ Custom Routing\n\nMininet ìì²´ë§Œìœ¼ë¡œë„ ê°’ì§€ì§€ë§Œ SDNì„ êµ¬ì¶•í•˜ê¸° ìœ„í•œ OpenFlow Protocolì„ ì´ìš©í•œ Routingì„ Emulatingí•  ë•Œì— êµ‰ì¥í•œ íš¨ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.  \nMininetì„ ì‹¤í–‰ì‹œí‚¬ ë•Œì— ì•„ë¬´ ì„¤ì •ì„ í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ Ethernet switchë¥¼ ì‚¬ìš©í•˜ëŠ” ê¸°ë³¸ Controllerë¥¼ ì‚¬ìš©í•œë‹¤. í•˜ì§€ë§Œ, Open vSwitch(ovs)ì™€ ê°™ì€ OpenFlow Protocolì„ ì§€ì›í•˜ëŠ” Controllerë¥¼ í™œìš©í•  ìˆ˜ë„ ìˆë‹¤.  \nê¸°ë³¸ì ì¸ Switch(ëŒ€ëµ 4096ê°œ)ëŠ” ì´ë¯¸ ì§€ì›ì„ í•˜ê³  ìˆë‹¤. ì´ë¥¼ ë¶ˆëŸ¬ì™€ì„œ ì‚¬ìš©í•˜ê±°ë‚˜ ì›í•˜ëŠ” ê²½ìš°ì—ëŠ” pythonì„ í†µí•´ì„œ ì§ì ‘ êµ¬í˜„í•˜ì—¬ë„ ë¬´ë°©í•˜ë‹¤. ì‹¬ì§€ì–´ëŠ” ì›ê²©ì— ìˆëŠ” controllerë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.\n\nì´ë ‡ê²Œ Controllerë¥¼ ì •ì˜í•˜ê³ , ì™¸ë¶€ì—ì„œ í•´ë‹¹ Controllerì˜ ë™ì‘ì„ ì •ì˜í•´ì£¼ë©´, Mininetì— ì˜í•´ì„œ ì •ì˜ëœ Networkê°€ ì˜ë„ëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ë¥¼ ê³„ì†í•´ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\n## NutShell\n\nMininetì—ì„œ ì–´ë–»ê²Œ ì´ë ‡ê²Œ ë¹ ë¥´ê²Œ ê°€ìƒ Network Systemì„ ê°€ë³ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆëŠ”ê°€ì— ëŒ€í•œ ì—´ì‡ ëŠ” `container`ì´ë‹¤. ì´ë¥¼ í†µí•´ì„œ, ì„œë¡œ ì™„ì „ ë¶„ë¦¬ëœ Hostë¥¼ ê¸°ë³¸ì ìœ¼ë¡œ êµ¬ì„±í•˜ëŠ” Containerì´ê¸°ì— ì´ë¥¼ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆì„ ë¿ë§Œ ì•„ë‹ˆë¼ Virtual Machineì„ ì§ì ‘ì ìœ¼ë¡œ êµ¬í˜„í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ê°€ë³ê³  ë¹ ë¥¼ ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤. ë˜í•œ, Virtual Link ê°™ì€ ê²½ìš°ì—ëŠ” Linux Traffic Control(`tc`)ë¥¼ í™œìš©í•˜ì—¬, Virtual Ethernetì´ ê° Virtual Switchì™€ Interfaceë“¤ì„ í†µí•´ì„œ ì „ë‹¬ë˜ëŠ” ê²ƒì„ ì œì–´í•  ìˆ˜ ìˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ, SwitchëŠ” ê¸°ë³¸ì ì¸ Linux Bridgeë¥¼ í™œìš”í•˜ê±°ë‚˜ Open vSwitchë¥¼ í™œìš©í•˜ì—¬ êµ¬ì„±í•˜ì—¬ ê°€ìƒí™”ê°€ ê°€ëŠ¥í•˜ë‹¤.\n\n## ê²°ë¡ \n\nMininetì€ ê°€ìƒ Networkë¥¼ Emulating í•  ìˆ˜ ìˆëŠ” Toolì´ê¸°ì— ì‹¤ì œë¡œ SDNì„ í…ŒìŠ¤íŠ¸í•˜ê¸° ì´ì „ì— ê°ì¢… ê¸°ëŠ¥ì„ ì²´í¬í•˜ê¸°ì— ìš©ì´í•˜ë‹¤.  \në˜í•œ, Networkì—ì„œ í•µì‹¬ì ì¸ Forwardingì— ê´€í•œ ê¸°ìˆ ì€ ë‹¤ë¥¸ ê¸°ìˆ ì—ê²Œ ë§¡ê²¨ì„œ ë” ì•ˆì •ì ì¸ êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆë‹¤.  \nì´ì— ë”°ë¼ Open vSwitchë¥¼ ì´ìš©í•´ì„œ ììœ ë¡­ê²Œ ì‹œìŠ¤í…œì„ ì œì–´í•  ìˆ˜ ìˆì„ ë¿ë§Œ ì•„ë‹ˆë¼ ONOSì™€ ê°™ì€ ë„êµ¬ë¥¼ í†µí•´ì„œ Networkë¥¼ êµ¬ì„±í•˜ëŠ” ê³¼ì •ì„ í…ŒìŠ¤íŠ¸í•˜ê¸°ì— êµ‰ì¥íˆ ìœ ìš©í•˜ë‹¤.\n","slug":"mininet","date":"2022-05-24 12:58","title":"Mininet","category":"Network","tags":["Emulator","Tool"],"thumbnailSrc":"https://euidong.github.io/images/switch-with-cable.jpg"},{"content":"\n### Reference\n\n- Thumbnail: Photo by [Arno Senoner](https://unsplash.com/@arnosenoner?utm_source=unsplash\u0026utm_medium=referral\u0026utm_content=creditCopyText) on [Unsplash](https://unsplash.com/s/photos/forwarding?utm_source=unsplash\u0026utm_medium=referral\u0026utm_content=creditCopyText)\n\n---\n\nSegment Routingì€ MPLSì˜ ì°¨ì„¸ëŒ€ ë²„ì „ìœ¼ë¡œ, ì´ˆê¸°ì—ëŠ” MPLSì˜ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ ì œì‹œë˜ì—ˆë‹¤. ì˜ˆë¥¼ë“¤ë©´, TE(Traffic Engineering) ì‹œì— Star Topologyì—ì„œëŠ” íš¨ìœ¨ì´ ì•ˆë‚˜ì˜¨ë‹¤ë˜ì§€ ECMP(Trafficì„ ì—¬ëŸ¬ output interfaceë¡œ ë¶„ë°°ì‹œí‚¤ëŠ” ë°©ì‹)ì„ í™œìš©í•  ìˆ˜ ì—†ë‹¤ì™€ ê°™ì€ ì œí•œì„ í•´ê²°í•˜ê³ ì ë“±ì¥í•˜ì˜€ë‹¤. ê·¸ë ‡ì§€ë§Œ, í˜„ì¬ì— ì™€ì„œ ì™€ì„œ ë” ì¤‘ìš”ì‹œ ì—¬ê²¨ì§€ëŠ” ê²ƒì€ **ë„¤íŠ¸ì›Œí¬ êµ¬ì¡°ì˜ ë‹¨ìˆœí™”**ì´ë‹¤. ì¦‰, ê¸°ì¡´ì˜ ë³µì¡í•˜ë˜ Switchì˜ ì„¤ì • ë°©ë²•(í†µì‹ ì¥ë¹„ vender ë§ˆë‹¤ ë‹¤ë¥¸ ì„¤ì •ë²•, ì—¬ëŸ¬ Protocoldì´ ì¡´ì¬)ê³¼ ìš´ìš© ë°©ë²•ì„ í†µì¼í•˜ê³ , ë‹¨ìˆœí™” ì‹œí‚´ìœ¼ë¡œì¨ ì‚¬ëŒì— ì˜í•œ ì—ëŸ¬(Human Error)ë¥¼ ìµœì†Œí™”í•˜ê³ ì í•˜ëŠ” ë…¸ë ¥ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.\n\n### ìš©ì–´\n\n- **Segment** : í•˜ë‚˜ì˜ pathê°€ ì—¬ëŸ¬ ê°œì˜ ì‘ì€ pathë“¤ë¡œ êµ¬ì„±ë˜ëŠ” ê²ƒì—ì„œ ìœ ë˜í•˜ì˜€ë‹¤ê³  ë³´ë©°, í•˜ë‚˜ì˜ ëª…ë ¹ì–´(instruction)ì„ segmentë¼ê³ ë„ ë¶€ë¥¸ë‹¤. ëª…ë ¹ì–´ëŠ” ì–´ë””ë¡œ ì „ë‹¬í•  ê²ƒì¸ê°€ì™€ packetì„ ì–´ë–»ê²Œ ë³€í˜•í•  ê²ƒì¸ê°€ì— ëŒ€í•œ ë‚´ìš©ì„ í¬í•¨í•œë‹¤.  \n  SegmentëŠ” SIDë¼ëŠ” idê°’ì„ í†µí•´ì„œ êµ¬ë¶„í•˜ë©°, ì´ëŠ” [0, 1,048,575] ê¹Œì§€ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. íŠ¹ë³„í•œ ëª©ì ì„ ê°€ì§€ëŠ” [0, 15,000) ì˜ˆì•½ëœ SIDì´ê³ , [15,000 ~ 16,000)ëŠ” ì¸ì ‘í•œ egress Routerë¥¼ ê°€ë¥´í‚¤ëŠ”ë° ì‚¬ìš©í•˜ëŠ” `Adjacency SID`ì´ê³ , [16,000, 24,000)ëŠ” Segment Routingì´ ìœ íš¨í•œ ë²”ìœ„ ë‚´ì—ì„œ ê° Routerì— ì„ì˜ ì„¤ì •ì´ ê°€ëŠ¥í•œ ì˜ì—­ëŒ€ë¡œ `Prefix SID` ë¼ê³  ë¶€ë¥¸ë‹¤. ê·¸ ì™¸ì— ì˜ì—­ì€ ë™ì ìœ¼ë¡œ í• ë‹¹ë˜ëŠ” SIDë¡œ ìë™ í• ë‹¹ ì‹œì— ì‚¬ìš©ëœë‹¤. ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì ì€ **Adjacency SIDì™€ Prefix SIDë§Œ ìˆìœ¼ë©´, ëª¨ë“  ê²½ë¡œë¥¼ í‘œí˜„í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì´ë‹¤.** ì¶”ê°€ì ìœ¼ë¡œ, SR Policyë¥¼ ì¬ì‚¬ìš©í•˜ê³  ì‹¶ì€ ê²½ìš°ê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ”ë° ì´ë¥¼ ìœ„í•´ì„œ SR Policy ìì²´ì— SIDë¥¼ ë¶€ì—¬í•˜ëŠ” ê²ƒì´ BSID(Binding SID)ì´ë‹¤.  \n  ![SID-table](/images/sid-table.jpeg)\n- **Headend Router** : Segment Routing ì˜ì—­ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” Ingress Routerì´ë‹¤.\n\n### ë™ì‘ ì›ë¦¬\n\nSegment Routing ì˜ì—­ìœ¼ë¡œ Packetì´ ì§„ì…í•˜ë©´, í•´ë‹¹ packetì˜ Destinationê³¼ ë¶€ê°€ ì •ë³´ë¥¼ í™•ì¸í•˜ì—¬, SR Policy(=Segment List, ë°©ë¬¸í•´ì•¼í•  ê²½ë¡œë¥¼ ìˆœì„œëŒ€ë¡œ ë‚˜ì—´í•´ë†“ì€ ë¦¬ìŠ¤íŠ¸)ë¥¼ MPLS ë˜ëŠ” IPv6ì˜ ë¶€ê°€ ê³µê°„ì— ì‚½ì…í•œë‹¤. ì´ë•Œì—ëŠ” Stack í˜•íƒœë¡œ Listë¥¼ êµ¬ì„±í•˜ê³ , ì¤‘ê°„ Routerë“¤ì—ì„œëŠ” Segmentì— ë”°ë¼ì„œ ë™ì‘ì„ ìˆ˜í–‰í•˜ë©°, packetì„ ìµœì¢… Egress Routerê¹Œì§€ ì „ë‹¬í•œë‹¤. ì—¬ê¸°ì„œ ê° ê²½ë¡œëŠ” ëª¨ë“  ì„¸ì„¸í•œ ê²½ë¡œë¥¼ í‘œì‹œí•  í•„ìš”ëŠ” ì—†ë‹¤. ë§Œì•½ Aì—ì„œ Bë¡œ ê°€ëŠ” SIDë¥¼ ì„¤ì •í–ˆì–´ë„, ê·¸ ë‚´ë¶€ì—ì„œ ì–´ë–¤ ê²½ë¡œë¥¼ ì„ íƒí• ì§€ëŠ” Systemì ìœ¼ë¡œ ì•Œì•„ì„œ Routingí•˜ë„ë¡ ì„¤ì •í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤.(`Loose Source Routing`) Ingressì—ì„œ SR Policyë¥¼ ì§€ì •í•˜ë©´ ì´ë¥¼ `Push`ë¼ê³  í•˜ê³ , ë‚´ë¶€ RouterëŠ” ê°€ì¥ ì•„ë˜ Segmentë¥¼ í™•ì¸í•˜ê³  ìì‹ ê³¼ ê´€ë ¨ ìˆëŠ” ê²½ìš°ì—ëŠ” `Pop`ì„ ìˆ˜í–‰í•˜ì—¬ í•˜ë‚˜ì˜ Segmentë¥¼ ì‚­ì œ í›„ ì´ì— ë”°ë¼ ë™ì‘ì„ ìˆ˜í–‰í•˜ê³ , ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì—°ê²°ëœ Linkë¡œ ê¸°ì¡´ BGPì— ë”°ë¼ ì•Œì•„ì„œ Routingì„ ìˆ˜í–‰í•œë‹¤. ì´ë¥¼ `Continue`ë¼ê³  í•œë‹¤.\n\n### Usecase\n\në‹¤ìŒê³¼ ê°™ì€ í˜•íƒœë¡œ Routingì„ ì„¤ì •í•˜ëŠ” ê²ƒì´ë‹¤. ì•„ë˜ ì˜ˆì‹œì—ì„œëŠ” ëª¨ë‘ 1 -\u003e 2 -\u003e 3 -\u003e 4 ìˆœìœ¼ë¡œ Routingì„ ìˆ˜í–‰í•˜ê¸°ë¥¼ ì›í•œë‹¤ê³  ìƒê°í•˜ì.\n\n`SID 16002`ì˜ ê²½ìš°ì—ëŠ” `1 -\u003e 2`ë¡œ ì´ë™í•˜ëŠ” ê²ƒì´ `1 -\u003e 4 -\u003e 3 -\u003e 2` ë³´ë‹¤ IGP costê°€ ì ìœ¼ë¯€ë¡œ, `1 -\u003e 2`ë¡œ ì›í•˜ëŠ”ëŒ€ë¡œ ì´ë™í•  ê²ƒì´ë¼ê³  ì˜ˆìƒí•  ìˆ˜ ìˆë‹¤.\nì´í›„ `SID 16004`ì˜ ê²½ìš°ì—ë„ `2 -\u003e 3 -\u003e 4`ë¡œ ì´ë™í•˜ëŠ” ê²ƒì´ `2 -\u003e 1 -\u003e 4`ë¡œ ì´ë™í•˜ëŠ” ê²ƒë³´ë‹¤ IGP costê°€ ì ìœ¼ë¯€ë¡œ, `2 -\u003e 3 -\u003e 4`ë¡œ ì›í•˜ëŠ”ëŒ€ë¡œ ì´ë™í•˜ëŠ” ê²ƒì„ ì˜ˆìƒí•  ìˆ˜ ìˆë‹¤.\n\n![sr example 1](/images/sr-example-1.jpeg)\n\ní•˜ì§€ë§Œ, IGP costê°€ ìš°ë¦¬ì˜ ë°”ë¨ê³¼ëŠ” ë‹¤ë¥¸ ê²½ìš°ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ í˜„ìƒì´ ë°œìƒí•  ìˆ˜ë„ ìˆë‹¤.\nì•„ë˜ì—ì„œ `SID 16004`ë¥¼ ë³´ë©´, `2 -\u003e 1 -\u003e 4`ê°€ `2 -\u003e 3 -\u003e 4`ë³´ë‹¤ IGP costê°€ ì ê¸° ë•Œë¬¸ì— ìš°ë¦¬ê°€ ì›í•˜ëŠ” ë°©í–¥ê³¼ëŠ” ë°˜ëŒ€ë¡œ ë™ì‘í•  ê²ƒì„ì„ ì˜ˆìƒí•  ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ, ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ ìš°ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê²½ë¡œë¥¼ ì±„íƒí•´ì•¼ í•œë‹¤.\n\n![sr example 2](/images/sr-example-2.jpeg)\n\nì—¬ê¸°ì„œëŠ” `1 -\u003e 2 -\u003e 3`ì´ `1 -\u003e 4 -\u003e 3`ë³´ë‹¤ í¬ê¸° ë•Œë¬¸ì— ì›í•˜ëŠ”ëŒ€ë¡œ `1 -\u003e 2 -\u003e 3`ìœ¼ë¡œ ì›€ì§ì¼ ê²ƒì´ë‹¤. í•˜ì§€ë§Œ, ì—¬ê¸°ì„œ `3 -\u003e 4`ë¡œ ê°€ëŠ” ê²½ë¡œê°€ ì–´ë ¤ìš¸ ìˆ˜ ìˆë‹¤. ì´ ê²½ìš°ì—ëŠ” ì• ì„œ ë³´ì•˜ë˜ Adjacency SIDë¥¼ í™œìš©í•˜ì—¬ì•¼ í•œë‹¤. ì´ëŠ” ë§ˆì§€ë§‰ìœ¼ë¡œ ê°€ì•¼í•  egress Routerë¥¼ ì§€ì •í•˜ê¸° ë•Œë¬¸ì— routing ì‹œì— costingì„ ê³ ë ¤í•˜ì§€ ì•Šê³ , ë°”ë¡œ Static Routingì´ ê°€ëŠ¥í•˜ë‹¤. ë”°ë¼ì„œ, ì´ë¥¼ í™œìš©í•˜ë©´ ìµœì¢…ìœ¼ë¡œ `3 -\u003e 4`ë¡œ ê°€ëŠ” ê²½ë¡œë¥¼ íšë“í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.\n\n![sr example 3](/images/sr-example-3.jpeg)\n\n### Configuration\n\n- SR-MPLS : MPLSì™€ ê°™ì€ ë°©ì‹ì„ ì¶”êµ¬í•˜ì§€ë§Œ, ì„¤ì • ë°©ì‹ì—ì„œ LDPì™€ RSVPë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  IGPë¥¼ í™œìš©í•´ì„œ ì´ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ í•˜ì—¬ Protocolì„ ë‹¨ìˆœí™”í•˜ì˜€ë‹¤.  \n  Segment List(`SR Policy`)ë¥¼ ì „ë‹¬í•˜ëŠ” ê³¼ì •ì´ MPLSì˜ Labelì„ ì „ë‹¬í•˜ëŠ” ë°©ì‹ê³¼ ìœ ì‚¬í•˜ë©°, ì§€ë‚˜ì•¼í•˜ëŠ” ê²½ë¡œë¥¼ ëª…ì‹œí•˜ì—¬ stack í˜•íƒœë¡œ ìŒ“ì•„ì„œ ì „ë‹¬í•˜ë©´, ê° ë‚´ë¶€ RouterëŠ” ì´ë¥¼ ì°¸ê³ í•˜ì—¬ ì œê±° ë˜ëŠ” ìœ ì§€í•˜ë©°, Egress Routerë¥¼ ì°¾ëŠ”ë‹¤.\n- SRv6 : IGPì™€ IPv6 Protocolë§Œì„ í™œìš©í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒì´ ëª©í‘œì´ë‹¤. ë„¤íŠ¸ì›Œí¬ ìì²´ë¥¼ í”„ë¡œê·¸ë˜ë° í•˜ê³ ì í•˜ëŠ” ìš”êµ¬ ë•Œë¬¸ì— í•„ìš”ì„±ì´ ê°•ì¡°ë˜ì—ˆë‹¤. ì´ëŠ” IPv6ì˜ ì£¼ì†Œê°’ì¸ 128bitë¥¼ topologyë¥¼ ì‹ë³„í•  ì£¼ì†Œê°’ê³¼ packet ì²˜ë¦¬ë¥¼ ìœ„í•œ ê°’(íŠ¹ì • packetì—ê²ŒëŠ” ë‹¤ë¥¸ routing tableì„ ì ìš© ë“±)ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤. ë”°ë¼ì„œ, IPv4ì˜ ì§§ì€ ì£¼ì†Œ ì²´ê³„ë¡œëŠ” ì´ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ì—†ë‹¤. ë”°ë¼ì„œ, IPv6 Protocolì„ ì´ìš©í•˜ì—¬ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ë‹¤.  \n  Segment List(`SR Policy`)ë¥¼ ì „ë‹¬í•˜ëŠ” ê³¼ì •ì€ ìœ„ì™€ ìœ ì‚¬í•˜ì§€ë§Œ, ì´ë¥¼ IPv6 Option ì˜ì—­ì— stackí˜•íƒœë¡œ ì €ì¥í•œë‹¤.\n\n### Traffic Engineering\n\nTrafficì„ ì œì–´í•˜ê³ , í•´ë‹¹ ì œì–´ë¥¼ ìœ„í•œ ì œí•œì‚¬í•­ë“¤ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ updateí•˜ê³ , ìš´ìš© ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤. MPLSì—ì„œ ìˆ˜í–‰í•˜ë˜ TE(Traffic Engineering)ê³¼ ìœ ì‚¬í•˜ì§€ë§Œ, Bandwidthë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ëŒ€ì‹ ì— delayë¼ëŠ” ì¡°ê±´ì„ ê°–ê³  ìˆë‹¤. ì´ëŠ” packetì´ ë„ì°©í•˜ëŠ”ë° ê±¸ë¦¬ëŠ” ì‹œê°„ì„ ì¸¡ì •í•œ ê°’ì´ë‹¤.  \ní•´ë‹¹ ì¡°ê±´ë“¤ì„ í™œìš©í•˜ì—¬ Trafficì„ ì…ë§›ì— ë§ê²Œ ë³€ê²½í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.\n\në˜í•œ, ì¥ì•  ëŒ€ì±… ì‹œì—ë„ Segment Routingì€ ê°•ì ì„ ê°€ì§€ê³  ìˆë‹¤. ì¼ë°˜ì ì¸ OSPFë¥¼ í™œìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” LFA(Loop Free Alternate)ë¥¼ í†µí•´ì„œ ìš°íšŒ ê²½ë¡œë¥¼ ê³„ì‚°í•œë‹¤. í•˜ì§€ë§Œ, ì´ëŠ” ìƒê°ë³´ë‹¤ ë¹„íš¨ìœ¨ì ì¸ ê²½ë¡œ ê³„ì‚°ì„ ìˆ˜í–‰í•˜ê²Œ ëœë‹¤. ë”°ë¼ì„œ, ì´ë¥¼ ê°œì„ í•˜ëŠ”ë° Segment Routingì´ ì ì ˆí•˜ë‹¤. ë‹¤ìŒ ì˜ˆì‹œë¥¼ ë³´ì.\n\n[ê·¸ë¦¼]\n\nì¥ì•  ì´ì „ì— `1 -\u003e 2 -\u003e 3 -\u003e 5` ê·¸ë¦¬ê³  `6 -\u003e 2 -\u003e 3 -\u003e 5` ë¼ëŠ” trafficì´ ì¡´ì¬í•  ë•Œ, ë§Œì•½ `2 -\u003e 3` linkê°€ ëŠì–´ì§€ë©´, ê¸°ì¡´ì˜ LFAë¥¼ ì´ìš©í•˜ë©´ ì°¾ê²Œ ë˜ëŠ” ê²½ë¡œëŠ” ë‹¤ìŒ ê²½ë¡œì™€ ê°™ì•„ì§„ë‹¤.\n\n![sr post convergence 1](/images/sr-post-convergence-1.jpeg)\n\nì´ëŠ” ìƒë‹¹íˆ ë¹„íš¨ìœ¨ì ì¸ ê²½ë¡œì¸ë°, ì´ë ‡ê²Œ ê³„ì‚°ì„ ìˆ˜í–‰í•˜ëŠ” ì´ìœ ëŠ” `1 -\u003e 2 -\u003e 6 -\u003e 7 -\u003e 3 -\u003e 5` ë¼ëŠ” ì°¨ì„  ê²½ë¡œë¡œ ê°€ëŠ” ë„ì¤‘ì— `2 -\u003e 6`ìœ¼ë¡œ ì´ë™ ì´í›„ì— ê¸°ì¡´ Trafficì— ì˜í–¥ìœ¼ë¡œ ì¸í•´ `6 -\u003e 2`ë¡œ ë‹¤ì‹œ ëŒì•„ì˜¤ëŠ” í˜„ìƒì´ ë°œìƒí•˜ê¸° ë•Œë¬¸ì´ë‹¤. ë”°ë¼ì„œ, ê²°ë¡ ìƒ ë” í° ë¹„ìš©ì´ ë°œìƒí•˜ëŠ” ê²½ë¡œ(`2 -\u003e 4`)ë¡œ ë“¤ì–´ê°€ì„œ ì˜¤íˆë ¤ ë” ë§ì€ ë¹„ìš©ì´ ë°œìƒí•˜ê²Œ ëœë‹¤.\n\n![sr post convergence 2](/images/sr-post-convergence-2.jpeg)\n\nì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ì¥ì• ê°€ ë°œìƒí•œ ì´í›„ì— ë‹¤ì‹œ IGPê°€ ê³„ì‚°í•˜ëŠ” ìµœë‹¨ ê²½ë¡œì¸ `Post-Convergence Path`ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. í•˜ì§€ë§Œ, í•´ë‹¹ ê²½ë¡œëŠ” Loopë¥¼ ì•¼ê¸°í•  ê°€ëŠ¥ì„±ì´ ì¡´ì¬í•œë‹¤. ì´ë¡œ ì¸í•´, í•´ë‹¹ ë°©ì‹ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ì—ˆëŠ”ë°, Segment Routingì„ ì´ìš©í•˜ì—¬ ê²½ë¡œë¥¼ ì œí•œí•¨ìœ¼ë¡œì¨ Post Convergence Pathë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. ì¦‰, Segment Routingì˜ Adjacency SIDë¥¼ ì´ìš©í•´ì„œ ë‚˜ê°€ì•¼í•  ì§€ì ì„ ëª…í™•í•˜ê²Œ í•˜ë©°, Loopê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì§€ì ì—ì„œ Static Routingì„ ì§€ì •í•˜ë©´ì„œ, Prefix SIDë¥¼ í†µí•´ì„œ ê²½ë¡œë¥¼ ì ì ˆíˆ ì§€ì •í•˜ì—¬ í•´ê²°ì´ ê°€ëŠ¥í•œ ê²ƒì´ë‹¤.\n\n![sr post convergence 3](/images/sr-post-convergence-3.jpeg)\n\n### Programmable\n\nSegment Routingì˜ ë˜ í•˜ë‚˜ì˜ ê°•ì ì€ SDN ì§€í–¥ì ì¸ êµ¬ì¡°ë¼ëŠ” ê²ƒì´ë‹¤. ì¦‰, ì¤‘ì•™ì—ì„œ ê° Switchì˜ ë™ì‘ì„ ì œì–´í•˜ëŠ” Controllerë¥¼ Segment Routingì„ í†µí•´ì„œ ì§ì ‘ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì´ë‹¤. ì¦‰, Segment Routing Networkê°€ íŠ¹ì • Controllerì—ê²Œ ìì‹ ì˜ ìƒíƒœ ì •ë³´ ë“±ì„ ì£¼ê¸°ì ìœ¼ë¡œ ë³´ë‚´ë©´, Controllerì—ì„œëŠ” ì´ë¥¼ ì´ìš©í•´ì„œ Databaseë¥¼ êµ¬ì¶•í•˜ê³ , ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ Routing Tableì„ ì™„ì„±í•˜ëŠ” ê²ƒì´ë‹¤. ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ, í›„ì— ìš”ì²­ì´ Headend ì¥ì¹˜ë¡œ ë“¤ì–´ì˜¤ë©´, í•´ë‹¹ ì¥ì¹˜ëŠ” Controllerì—ê²Œ ì²˜ë¦¬ë¥¼ ìš”ì²­í•˜ê³ , ì´ì— ëŒ€í•œ ì‘ë‹µì„ ë°›ì€ Headend ì¥ë¹„ëŠ” ì ì ˆí•˜ê²Œ SR Policyë¥¼ í•´ë‹¹ packetì— ì €ì¥í•˜ì—¬ Routingì´ ê°€ëŠ¥í•´ì§€ëŠ” ê²ƒì´ë‹¤.\n\n### Summary\n\n|                   | MPLS                                                               | SR-MPLS                  | SRv6                 | Segment Routingì˜ ì¥ì                                                             |\n| :---------------- | :----------------------------------------------------------------- | :----------------------- | :------------------- | :-------------------------------------------------------------------------------- |\n| ì œì–´ í”„ë¡œí† ì½œ     | ê¸°ë°˜ : IGP/BGP, ì¶”ê°€ : LDP/RSVP-TE                                 | IGP/BGP                  | IGP/BGP              | LDP/RSVP-TE ì™€ ê°™ì€ ì¶”ê°€ Protocolì´ ì—†ìŒ                                          |\n| ë°ì´í„° í‰ë©´       | MPLS ë°ì´í„° í‰ë©´ì„ ì •ì˜í•´ì„œ ì‚¬ìš©                                   | MPLS ë°ì´í„° í‰ë©´ì„ í™œìš©  | IPv6ë¥¼ í™œìš©          | IPv6ë¥¼ í™œìš©í•œ ê²½ìš° ì¶”ê°€ì ì¸ ì„¤ì •ì´ í•„ìš”ì—†ìŒ                                       |\n| ê²½ë¡œ ê³„ì‚° ë° ì¡°ì • | ì‚¬ì‹¤ Ingressì—ì„œ ì„¤ì •í•˜ì§€ë§Œ ê° ë…¸ë“œê°€ ê´€ì—¬                         | Source(Ingress)ì—ì„œ ê²°ì • | ë™ì¼                 | Source Routingìœ¼ë¡œ ëª…í™•í•œ êµ¬ì¡°                                                    |\n| LSPì˜ Label ê´€ë¦¬  | LSPì˜ ê°¯ìˆ˜ê°€ ë§ì•„ì§ˆ ìˆ˜ë¡ ê° ë…¸ë“œì˜ ë¶€ë‹´ ì¦ê°€                       | ì¸ì ‘ ë…¸ë“œ, ë§í¬ë§Œ ê´€ë¦¬   | ë™ì¼                 | ë‚´ë¶€ Routerì˜ ë¶€ë‹´ì´ í¬ê²Œ ê°ì†Œ                                                    |\n| Operation         | Push, Swap, Pop                                                    | Push, Next, Continue     | ë™ì¼                 | Swap ì—°ì‚°ì´ í•„ìš”ì—†ë‹¤.                                                             |\n| ì¥ì•  ëŒ€ì±…         | Fast ReRoute                                                       | TI-LFA, Fast ReRoute     | ë™ì¼                 | Fast ReRouteëŠ” convergence timeì´ ê¸¸ì–´ ì‹¤ìš© ì‚¬ë¡€ê°€ ì ë‹¤.                          |\n| Programmability   | ë¶ˆê°€ëŠ¥                                                             | ë¶ˆê°€ëŠ¥                   | Network Programmable | IPv6ë¥¼ ì´ìš©í•œë‹¤ë©´, Traffic Engineering, VPNì„ Programmingì„ í†µí•´ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤. |\n| ë„¤íŠ¸ì›Œí¬ í™•ì¥ì„±   | ì¼ë°˜ì ìœ¼ë¡œëŠ” ë†’ë‹¤. í•˜ì§€ë§Œ, RSVP-TEë¥¼ í™œìš©í•˜ëŠ” ê²½ìš° ë‚®ì•„ì§ˆ ìˆ˜ ìˆë‹¤. | í™•ì¥ì„±ì´ ë†’ë‹¤.           | ë™ì¼                 | í™•ì¥ì„±ì´ ë†’ë‹¤.                                                                    |\n| ë„¤íŠ¸ì›Œí¬ êµ¬ì¡°     | ì¼ë°˜ì ì¸ ë¶„ì‚° ì œì–´ êµ¬ì¡°                                            | SDN ì ìš©ì´ ê°€ëŠ¥          | ë™ì¼                 | SDN ê¸°ë°˜ì˜ ì¤‘ì•™ì§‘ì¤‘ ì œì–´ì™€ ê¸°ì¡´ ë°©ì‹ìœ¼ë¡œ ë¶„ì‚° ì œì–´ë„ ê°€ëŠ¥í•¨                       |\n","slug":"segment-routing","date":"2022-05-23 10:41","title":"Segment Routing","category":"Network","tags":["Routing"],"thumbnailSrc":"https://euidong.github.io/images/forwarding.jpg"},{"content":"\n### References\n\n- Thumbnail : Photo by [Tyler Farmer](https://unsplash.com/@tylerfarmer?utm_source=unsplash\u0026utm_medium=referral\u0026utm_content=creditCopyText) on [Unsplash](https://unsplash.com/s/photos/forwarding?utm_source=unsplash\u0026utm_medium=referral\u0026utm_content=creditCopyText)\n- \u003chttps://www.itworld.co.kr/tags/6580/MPLS/108621\u003e\n- \u003chttps://blog.naver.com/thorong/70147777745\u003e\n\n---\n\nê¸°ì¡´ì˜ Routingì—ì„œëŠ” ë§¤ hop(router)ë‹¹ Routing Tableì„ ì°¸ì¡°í•˜ì—¬ packetì„ ì „ì†¡í–ˆë‹¤. í•˜ì§€ë§Œ, ì´ ê³¼ì •ì€ ìƒê°ë³´ë‹¤ ë§ì€ ì‹œê°„ì´ í•„ìš”í•˜ë‹¤. ì´ë¥¼ ì´ìš©í•´ì„œ í™”ìƒ í†µí™” ë“±ì„ í•œë‹¤ë©´, ì„œë¹„ìŠ¤ í’ˆì§ˆì´ ë§¤ìš° ë–¨ì–´ì§ˆ ìœ„í—˜ì´ ìˆë‹¤. ë”°ë¼ì„œ, MPLSëŠ” Routingë¥¼ ë” ë¹ ë¥´ê²Œ í•˜ê³ , í’ˆì§ˆ í•­ìƒì„ ìœ„í•´ì„œ ë§Œë“¤ì–´ì¡Œë‹¤. ì´ëŠ” Multi-Protocol Label Switching(MPLS)ì´ë¼ëŠ” ë§ì²˜ëŸ¼, ê¸°ì¡´ì˜ IPë¥¼ ì´ìš©í•œ Routingì´ ì•„ë‹Œ Label(ë˜ëŠ” tag)ì´ë¼ëŠ” ë³„ë„ì˜ dataë¥¼ ì´ìš©í•˜ì—¬, 3ê³„ì¸µì„ ê±°ì¹˜ì§€ ì•Šê³ , Routingì„ ê³ ì†í™”í•˜ëŠ” ì—­í• ì„ í•  ìˆ˜ ìˆë‹¤.\n\në˜í•œ, **MPLS**ì—ì„œëŠ” ì‚¬ì „ì— ê³ íš¨ìœ¨ ê²½ë¡œë¥¼ ì„¤ì •í•˜ê³ , ì´ë¥¼ í†µí•´ì„œ í†µì‹ í•˜ë„ë¡ í•˜ì—¬ ì„±ëŠ¥ ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´, Packetì´ ë“¤ì–´ì˜¤ë©´, ì§„ì…ì ì— ìˆëŠ” Router(Ingress Router)ê°€ í•´ë‹¹ Packetì— Labelì„ í‘œê¸°í•˜ê³  ë‚´ë¶€ Networkë¡œ ì „ì†¡í•˜ê²Œ ëœë‹¤. ì´ì œ ë‚´ë¶€ Routerì—ì„œëŠ” Packetì„ ëª¨ë‘ í™•ì¸í•˜ì§€ ì•Šê³ , í•´ë‹¹ Labelë§Œì„ ì´ìš©í•˜ì—¬ Forwardingì„ ìˆ˜í–‰í•œë‹¤. ê·¸ë ‡ê¸°ì— ë” ë¹ ë¥¸ Routingì´ ê°€ëŠ¥í•´ì§€ëŠ” ê²ƒì´ë‹¤.\n\n![MPLS packet](/images/mpls-label.jpeg)\n\ní•˜ì§€ë§Œ, ê·¸ ì™¸ì—ë„ ì¶”ê°€ë¡œ ë” ë§ì€ ì¥ì ì„ ë³´ìœ í•˜ê³  ìˆë‹¤.\n\n1. ì—¬ëŸ¬ Protocolê³¼ í˜¸í™˜ì´ ê°€ëŠ¥í•˜ë„ë¡ overlayë¡œ ê°œë°œë˜ì—ˆë‹¤. (2.5 Layerë¼ê³ ë„ ë¶ˆë¦¬ëŠ” ì´ìœ ì´ë‹¤.)\n2. TE(Traffic Engineering)ë¥¼ ìœ„í•œ ì—¬ëŸ¬ ì„¤ì •ì„ ì œê³µí•œë‹¤. ë”°ë¼ì„œ, bandwidth, QoS(ì„œë¹„ìŠ¤ í’ˆì§ˆ)ì— ë”°ë¼ì„œ Trafficì„ ì œì–´í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.\n\n## ìš©ì–´\n\n- MPLS Network : **MPLS**ë¥¼ í†µí•´ì„œ êµ¬ì¶•í•œ Networkë¥¼ ì˜ë¯¸í•œë‹¤. í•´ë‹¹ Networkë¡œ ì§„ì…í•˜ëŠ” ìˆœê°„ Packetì—ëŠ” Labelê³¼ ë¶€ê°€ì ì¸ headerê°€ ì¶”ê°€ëœë‹¤.\n- Label : Labelì€ ê° Routerì—ê²Œ í•˜ë‚˜ì”© ì£¼ì–´ì§€ëŠ” Routerì˜ ê³ ìœ  ì‹ë³„ê°’ì´ë‹¤.\n- LER(Label Edge Router) : Network ì œê³µì ì…ì¥ì—ì„œ Edge Routerë¡œ ë‘ ê°€ì§€ ì¢…ë¥˜ë¡œ ë‚˜ë‰œë‹¤.  \n  Ingressì™€ EgressëŠ” í•­ìƒ ê³ ì •ì¸ ê²ƒì´ ì•„ë‹ˆë¼ packetì— ì…ì¥ì—ì„œ ê³„ì†í•´ì„œ ë³€ê²½ëœë‹¤.\n  - Ingress Router: packetì´ Networkë¡œ ì§„ì…í•˜ëŠ” Routerë¡œ ì‹¤ì œ Networkë¥¼ ì „ì²´ ì¡°íšŒí•˜ê³ , Labelì„ ì¶”ê°€í•˜ëŠ” ì—­í• ì„ í•œë‹¤.\n  - Egress Router : packetì´ Networkë¥¼ íƒˆì¶œí•˜ëŠ” Routerë¡œ Packetì˜ ë‚¨ì•„ìˆëŠ” Labelì„ ì‚­ì œí•œë‹¤.\n- LSR(Label Switched Router) : MPLS Network ë‚´ë¶€ì— ì¡´ì¬í•˜ëŠ” LERì´ ì•„ë‹Œ Routerë“¤ë¡œ ì´ë“¤ì€ Packetì˜ Labelì„ Switchingí•˜ê³ , Forwardingí•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.\n\n![mpls-example](/images/mpls-example.jpeg)\n\n## ë™ì‘ ì›ë¦¬\n\n`LSP(Label Switched Path)ë¼ëŠ” ìµœë‹¨ ê²½ë¡œë¥¼ ì°¾ê³ , ì´ë¥¼ í†µí•´ì„œ Packetì„ ì „ë‹¬ì‹œí‚¨ë‹¤.`ê°€ Protocolì˜ í•µì‹¬ì ì¸ ì „ëµì´ë‹¤. í˜•ì„±ëœ LSPì— ë”°ë¼ì„œ labeë“¤ì„ ì„¤ì •í•´ë‘ë©´, ì´ì œ ë‚´ë¶€ Routerì—ì„œëŠ” ìì‹ ì—ê²Œ í•´ë‹¹í•˜ëŠ” Labelì„ êµí™˜í•˜ì—¬ ë‹¤ì‹œ Forwardingì„ ìˆ˜í–‰í•˜ë©´ ë˜ëŠ” ê²ƒì´ë‹¤. ë”°ë¼ì„œ, 3ê³„ì¸µì„ ê±°ì¹˜ì§€ ì•Šê³  Routingì´ ê°€ëŠ¥í•˜ë‹¤. ìœ„ì—ì„œ ë‚˜ì˜¨ ìš©ì–´ë¡œ ì •ë¦¬í•˜ìë©´, Ingress LERì—ì„œëŠ” packetì˜ ëª©ì ì§€ì™€ ìš”ì²­ì§€ ì •ë³´ ë“±ì„ í™œìš©í•˜ì—¬ LSPì„ êµ¬ì„±í•˜ê³ , ì´ì— ì•Œë§ëŠ” Labelì„ packetì— ì¶”ê°€í•œë‹¤. ì´ì œ ì´ packetì„ ë°›ì€ LSRì—ì„œëŠ” Labelì„ í•˜ë‚˜ ë¹¼ê³ , ë‹¤ìŒ LSRì„ ì°¾ì•„ê°€ê¸°ë¥¼ ë°˜ë³µí•˜ë©°, egress LERì— ë„ë‹¬í•œë‹¤. egressì—ì„œëŠ” Labelì´ ë‚¨ì•„ìˆë‹¤ë©´, ëª¨ë‘ ì œê±°í•˜ê³ , ì›ë˜ ì‚¬ìš© ì¤‘ì´ë˜ Protocolì— ë§ê²Œ ë‹¤ì‹œ Routingì„ ìˆ˜í–‰í•œë‹¤.\n\n![mpls-example](/images/mpls-example-2.jpeg)\n\n### LSP êµ¬ì„±\n\nì´ 3ê°€ì§€ ë°©ë²•ì„ í†µí•´ì„œ ìƒì„±ì´ ê°€ëŠ¥í•˜ë‹¤. ì´ëŠ” í›„ì— ë‚˜ì˜¬ Configurationì— ë”°ë¼ì„œ ì–´ëŠì •ë„ ë°”ë€Œê²Œ ëœë‹¤.\n\n1. Best Effort LSP : Label í• ë‹¹ì´ ì•Œê³ ë¦¬ì¦˜ì— ì˜í•´ì„œ ìë™ì ìœ¼ë¡œ í• ë‹¹ë˜ë©°, í•­ìƒ ì—°ê²°ì´ ì§€ì†ë  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒì„ ìµœëŒ€ ëª©í‘œë¡œ í•˜ê¸° ë•Œë¬¸ì— ì—¬íƒ€ ë°©ì‹ë“¤ì— ë¹„í•´ ì„±ëŠ¥ì´ ë–¨ì–´ì§ˆ ìˆ˜ë„ ìˆì§€ë§Œ, ì¥ì•  ëŒ€ì‘ì— ì ì ˆí•˜ë‹¤ê³  í•  ìˆ˜ ìˆë‹¤.\n2. Static LSP : Labelì„ ì§ì ‘ ìˆ˜ì‘ì—…ì„ í†µí•´ì„œ í• ë‹¹í•´ì£¼ë©°, ê²½ë¡œë¥¼ customizingí•  ìˆ˜ ìˆì§€ë§Œ, ì´ë¡œ ì¸í•´ì„œ ì˜ˆìƒì¹˜ ëª»í•œ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ë„ ìˆë‹¤.\n3. Signaled LSP : ì¼ì • ì´ìƒì˜ ìì›(Bandwidth, ë“±)ì„ ì œí•œí•˜ì—¬ ê²½ë¡œë¥¼ ìµœì í™”í•  ìˆ˜ ìˆë‹¤.\n\n### Configuration\n\nMPLS networkë¥¼ êµ¬ì„±í•˜ê¸° ìœ„í•´ì„œëŠ” ê²°êµ­ ê° Routerì— Labelì„ ë‚˜ëˆ„ì–´ì£¼ëŠ” ê²ƒê³¼ LSPë¥¼ êµ¬ì„±í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤. ì•„ë˜ì—ëŠ” ëŒ€í‘œì ì¸ MPLSì˜ Topologyë¥¼ ì‚´í´ë³¸ë‹¤.\n\n- LDP : ìœ„ì—ì„œ ì„¤ëª…í•œ Best Effort LSPë¥¼ êµ¬ì„±í•˜ëŠ” Protocolë¡œ Labelì„ ë¶„ë°°í•˜ê³ , ê° Routerì—ì„œëŠ” Labelì˜ Push/POP/Swapì„ ìˆ˜í–‰í•œë‹¤.\n- RSVP-TE : íŠ¹ì • ì œì•½ ì¡°ê±´ì„ ë¨¼ì € ì œì‹œë¥¼ í•˜ê³ , ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì´ì™€ ì¼ì¹˜í•˜ëŠ” ê²½ë¡œë¥¼ ì°¾ì•„ì„œ packetì„ Routingí•˜ëŠ” ë°©ì‹ì´ë‹¤.\n\n## Versus\n\n| êµ¬ë¶„                   | ATM       | IP        | MPLS      |\n| :--------------------- | :-------- | :-------- | :-------- |\n| IP Traffic Engineering | ìš°ìˆ˜      | ë³´í†µ      | ë§¤ìš° ìš°ìˆ˜ |\n| ê³ ì† í¬ì›Œë”©            | ë§¤ìš° ìš°ìˆ˜ | ë³´í†µ      | ìš°ìˆ˜/ë³´í†µ |\n| QoS                    | ë§¤ìš° ìš°ìˆ˜ | ë³´í†µ      | ìš°ìˆ˜      |\n| VPN ë¹„ìš©               | ê³ ê°€      | ì €ê°€      | ì¤‘ê°€      |\n| í™•ì¥ì„±                 | ìš°ìˆ˜      | ë§¤ìš° ìš°ìˆ˜ | ë§¤ìš° ìš°ìˆ˜ |\n| êµ¬ì¶• / ìœ ì§€ ë¹„ìš©       | ë§¤ìš° ê³ ê°€ | ì €ê°€      | ê³ ê°€      |\n","slug":"mpls","date":"2022-05-22 15:25","title":"MPLS","category":"Network","tags":["Routing"],"thumbnailSrc":"https://euidong.github.io/images/routing.jpg"}],"params":{"subject":"Network"}},"__N_SSG":true},"page":"/categories/[subject]","query":{"subject":"Network"},"buildId":"y6vQLKbVoTQaeM1YkRMho","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>