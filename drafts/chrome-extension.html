<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="description" content="Just Tech Blog"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><meta property="og:type" content="blog"/><meta property="og:site_name" content="JustLog"/><meta name="next-head-count" content="5"/><link rel="icon" href="https://euidong.github.io/favicon.png"/><link rel="apple-touch-icon" href="https://euidong.github.io/logo192.png"/><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7452732177557701" crossorigin="anonymous"></script><link rel="preload" href="/_next/static/css/ef7c1611da8b69bb.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ef7c1611da8b69bb.css" data-n-g=""/><link rel="preload" href="/_next/static/css/90dd006844fa7b23.css" as="style"/><link rel="stylesheet" href="/_next/static/css/90dd006844fa7b23.css" data-n-p=""/><link rel="preload" href="/_next/static/css/b9df25baa57c053e.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b9df25baa57c053e.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-9b312e20a4e32339.js" defer=""></script><script src="/_next/static/chunks/framework-81da43a8dcd978d9.js" defer=""></script><script src="/_next/static/chunks/main-7b6c38cbad60dfcf.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6690ca4d4e5d76be.js" defer=""></script><script src="/_next/static/chunks/78e521c3-cbc72355a4ceeb71.js" defer=""></script><script src="/_next/static/chunks/175675d1-f160d4a5df49f5d3.js" defer=""></script><script src="/_next/static/chunks/675-13c2bf5ebfc867ad.js" defer=""></script><script src="/_next/static/chunks/pages/drafts/%5Bslug%5D-784601c767b3ce40.js" defer=""></script><script src="/_next/static/1PUrYTUvNPOdAa_sVbKOf/_buildManifest.js" defer=""></script><script src="/_next/static/1PUrYTUvNPOdAa_sVbKOf/_ssgManifest.js" defer=""></script><script src="/_next/static/1PUrYTUvNPOdAa_sVbKOf/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div class="Layout_wrapper__dKJSz root"><header class="Layout_header__XosLl" style="position:sticky"><div><button tabindex="1" class="SideBarToggler_search_bar_toggler__CEuUg"><svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="35px" width="35px" xmlns="http://www.w3.org/2000/svg"><path d="M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z" fill="currentColor"></path><path d="M2 12.0322C2 11.4799 2.44772 11.0322 3 11.0322H21C21.5523 11.0322 22 11.4799 22 12.0322C22 12.5845 21.5523 13.0322 21 13.0322H3C2.44772 13.0322 2 12.5845 2 12.0322Z" fill="currentColor"></path><path d="M3 17.0645C2.44772 17.0645 2 17.5122 2 18.0645C2 18.6167 2.44772 19.0645 3 19.0645H21C21.5523 19.0645 22 18.6167 22 18.0645C22 17.5122 21.5523 17.0645 21 17.0645H3Z" fill="currentColor"></path></svg></button><nav class="SideBar_side_bar__wrapper--close__8Nwnr"><a class="SideBar_side_bar__li__crDBH" tabindex="-1" href="/">Home</a><a class="SideBar_side_bar__li__crDBH" tabindex="-1" href="/tags">Tags</a><a class="SideBar_side_bar__li__crDBH" tabindex="-1" href="/categories/Algorithm">Algorithm<!-- --><span class="SideBar_side_bar__li__cnt__9QV_z">(<!-- -->11<!-- -->)<!-- --></span></a><a class="SideBar_side_bar__li__crDBH" tabindex="-1" href="/categories/Computer%20Architecture">Computer Architecture<!-- --><span class="SideBar_side_bar__li__cnt__9QV_z">(<!-- -->7<!-- -->)<!-- --></span></a><a class="SideBar_side_bar__li__crDBH" tabindex="-1" href="/categories/Web">Web<!-- --><span class="SideBar_side_bar__li__cnt__9QV_z">(<!-- -->3<!-- -->)<!-- --></span></a><a class="SideBar_side_bar__li__crDBH" tabindex="-1" href="/categories/Network">Network<!-- --><span class="SideBar_side_bar__li__cnt__9QV_z">(<!-- -->9<!-- -->)<!-- --></span></a><a class="SideBar_side_bar__li__crDBH" tabindex="-1" href="/categories/Tech">Tech<!-- --><span class="SideBar_side_bar__li__cnt__9QV_z">(<!-- -->1<!-- -->)<!-- --></span></a></nav></div><a class="Logo_logo___yD0t" tabindex="1" href="/"></a><div><button class="SearchBarToggler_search_bar_toggler__3dHbA" tabindex="2"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="25px" width="25px" xmlns="http://www.w3.org/2000/svg"><path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path></svg></button></div></header><section><article class="markdown-body MarkDown_markdown-body__ABwUt"><p>해당 글은 manifest version 3을 기반으로 작성된 글입니다. 혹여 version 2를 이용하셨다면, version 2에서 version 3로 migration 하면서 제가 적어놓은 글이 있으니 그것을 참고 하시기 바랍니다.<!-- --></p>
<!-- --><p><a href="/posts/chrome-extension-migration-v2-to-v3">Chrome Extension version migration from V2 to V3<!-- --></a></p>
<!-- --><hr/>
<!-- --><h2>1. chrome 확장 앱의 구성<!-- --></h2>
<!-- --><p>chrome extension에서 manifest version이 3이 되어 이를 한 번 정리할 겸,<!-- --><br/>
chrome 확장앱을 구성하는 component는 크게 5가지로 나눌 수 있습니다.<!-- --></p>
<!-- --><ol>
<!-- --><li>Background scripts =&gt; 대게 event를 등록하는데 사용합니다. (bookmark 등록, message 등과 같은 기능)<!-- --></li>
<!-- --><li>Content scripts =&gt; 현재 열려 있는 페이지를 기준으로 이들을 바꿀 수 있습니다.<!-- --></li>
<!-- --><li>an options page =&gt; options page에 의해 제공되는 세부 동작을 usesr가 사용할 수 있도록 합니다.<!-- --></li>
<!-- --><li>UI elements =&gt; 브라우저 우상단에 존재하는 아이콘 or 클릭 시 열리는 popup, 검색창, contextmenu 등과 관련된 요소를 관리합니다.<!-- --></li>
<!-- --><li>various logic files =&gt; 추가적으로 사용할 logic 등을 포함하는 것이 가능합니다.<!-- --></li>
<!-- --></ol>
<!-- --><p>기본적으로 모든 요소는 HTML, CSS, Javascript를 이용해서 구성됩니다. 모든 확장 component가 필요로 되는 것은 아닙니다.<!-- --></p>
<!-- --><h2>2. Manifest 만들기<!-- --></h2>
<!-- --><p>모든 extension은 반드시 하나의 manifest 파일을 포함합니다. 이는 JSON 형식으로 되어있고, manifest.json이라는 이름으로 저장됩니다.<!-- --><br/>
기본 형태는 다음 제시한 내용처럼 구성됩니다. required 부분에는 반드시 들어가야 하는 내용을 포함합니다.<!-- --><br/>
또한, app을 구성함에 있어 거의 필수적으로 들어가야 하는 action과 icon과 같은 내용과 설명 등이 포함됩니다.<!-- --></p>
<!-- --><pre><div class="MarkDown_codeblock__wrapper__S4FFz"><div class="MarkDown_codeblock__header__h3PfO"><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__button__aBRNB"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="25px" width="25px" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M7 6V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 0 1 3 21l.003-14c0-.552.45-1 1.007-1H7zM5.003 8L5 20h10V8H5.003zM9 6h8v10h2V4H9v2z"></path></g></svg></span></div><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-json" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">1<!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">2<!-- --></span><span>  <!-- --></span><span class="token" style="color:#6272a4">// required<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">3<!-- --></span><span>  <!-- --></span><span class="token" style="color:#ff79c6">&quot;manifest_version&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#bd93f9">3<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">4<!-- --></span><span>  <!-- --></span><span class="token" style="color:#ff79c6">&quot;name&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;app test&quot;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">5<!-- --></span><span>  <!-- --></span><span class="token" style="color:#ff79c6">&quot;version&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;0.0.1&quot;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">6<!-- --></span>
<!-- --><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">7<!-- --></span><span>  <!-- --></span><span class="token" style="color:#6272a4">// recommended<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">8<!-- --></span><span>  <!-- --></span><span class="token" style="color:#ff79c6">&quot;action&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">9<!-- --></span><span>  <!-- --></span><span class="token" style="color:#ff79c6">&quot;default_locale&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;ko&quot;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">10<!-- --></span><span>  <!-- --></span><span class="token" style="color:#ff79c6">&quot;description&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;chrome extension test&quot;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">11<!-- --></span><span>  <!-- --></span><span class="token" style="color:#ff79c6">&quot;icons&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">12<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span></code></div></div></pre>
<!-- --><p>자세한 사항은 하단 링크를 참고해주세요.<!-- --></p>
<!-- --><p><a href="https://developer.chrome.com/docs/extensions/mv3/manifest/">Chrome extension Manifest<!-- --></a></p>
<!-- --><h2>3. Background script 구성하기<!-- --></h2>
<!-- --><p>확장앱은 event에 기반을 둔 크롬 브라우저 환경을 향상 또는 변경 시키기 위한 프로그램이다. event(새로운 page로의 이동, 북마크 삭제, 탭 닫기, 등)는 browser에 의해서 등록되어집니다. 확장앱은 background (service worker) scripts를 이용하여 이러한 event를 모니터링하며, 특정 지시사항을 명시합니다.<!-- --><br/>
background service worker는 필요에 의해 언제든지 load되고, 사용되지 않으면 unload됩니다.<!-- --></p>
<!-- --><ul>
<!-- --><li>확장앱이 최초로 설치되거나 업데이트 되었을 경우<!-- --></li>
<!-- --><li>background page가 전송된 event를 들었을 경우<!-- --></li>
<!-- --><li>다른 script 또는 extension에서 message를 전송했을 경우<!-- --></li>
<!-- --><li>확장앱의 다른 view에서 runtime.getBackgroundPage를 호출한 경우<!-- --></li>
<!-- --></ul>
<!-- --><p>한번 load되면, service worker는 이것이 action을 수행하는 동안은 종료되지 않습니다. 따라서, service worker는 모든 view 그리고 message port가 닫힐 때까지 unload되지 않습니다.<!-- --></p>
<!-- --><p><code>view를 여는 것은 service worker를 불러오지는 않지만, 종료되는 것을 막을 수는 있습니다.<!-- --></code></p>
<!-- --><p>효율적인 background scripts는 event가 발동되기 까지는 정지상태로 존재하고, 이에 응한뒤에 종료된다.<!-- --></p>
<!-- --><h3>등록<!-- --></h3>
<!-- --><p>service worker를 등록하기 위해서는 manifest에 이를 명시해주어야 합니다.<!-- --><br/>
아래 예제에서는 명시된 background.js 파일이 service_worker들의 main이 됩니다.<!-- --></p>
<!-- --><pre><div class="MarkDown_codeblock__wrapper__S4FFz"><div class="MarkDown_codeblock__header__h3PfO"><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__button__aBRNB"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="25px" width="25px" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M7 6V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 0 1 3 21l.003-14c0-.552.45-1 1.007-1H7zM5.003 8L5 20h10V8H5.003zM9 6h8v10h2V4H9v2z"></path></g></svg></span></div><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-json" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">1<!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">2<!-- --></span><span>    <!-- --></span><span class="token" style="color:#ff79c6">&quot;manifest_version&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#bd93f9">3<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">3<!-- --></span><span>    ...<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">4<!-- --></span><span>    <!-- --></span><span class="token" style="color:#ff79c6">&quot;background&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">5<!-- --></span><span>          <!-- --></span><span class="token" style="color:#ff79c6">&quot;service_worker&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;background.js&quot;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">6<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">7<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span></code></div></div></pre>
<!-- --><h3>구성하기<!-- --></h3>
<!-- --><p>runtime.onInstalled event를 listen한다면, 확장앱 설치 시에 초기화가 가능합니다. 초기 상태를 정의할 때 이를 사용합니다.<!-- --><br/>
아래 예시에서는 event를 등록하는 과정입니다. 여기서 유의해야 할 것은 event의 등록은 page의 시작 시에 동기적으로 모두 설치해주어야 한다는 것입니다. 만약, event가 발생했을 때, event를 등록하는 것과 같은 동작을 하기 위해서는 다른 방식을 이용해야 합니다.<!-- --></p>
<!-- --><pre><div class="MarkDown_codeblock__wrapper__S4FFz"><div class="MarkDown_codeblock__header__h3PfO"><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__button__aBRNB"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="25px" width="25px" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M7 6V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 0 1 3 21l.003-14c0-.552.45-1 1.007-1H7zM5.003 8L5 20h10V8H5.003zM9 6h8v10h2V4H9v2z"></path></g></svg></span></div><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">1<!-- --></span><span>chrome<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token property-access">runtime<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token property-access">onInstalled<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token method property-access" style="color:#f1fa8c">addListener<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#8be9fd">function<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">2<!-- --></span><span>  chrome<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token property-access">contextMenus<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token method property-access" style="color:#f1fa8c">create<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">3<!-- --></span><span>    <!-- --></span><span class="token string-property" style="color:#ff79c6">&quot;id&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;sampleContextMenu&quot;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">4<!-- --></span><span>    <!-- --></span><span class="token string-property" style="color:#ff79c6">&quot;title&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;Sample Context Menu&quot;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">5<!-- --></span><span>    <!-- --></span><span class="token string-property" style="color:#ff79c6">&quot;contexts&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">[<!-- --></span><span class="token" style="color:#50fa7b">&quot;selection&quot;<!-- --></span><span class="token" style="color:#f8f8f2">]<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">6<!-- --></span><span>  <!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">7<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">8<!-- --></span>
<!-- --><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">9<!-- --></span><span></span><span class="token" style="color:#6272a4">// This will run when a bookmark is created.<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">10<!-- --></span><span>chrome<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token property-access">bookmarks<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token property-access">onCreated<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token method property-access" style="color:#f1fa8c">addListener<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#8be9fd">function<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">11<!-- --></span><span>  <!-- --></span><span class="token" style="color:#6272a4">// do something<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">12<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span></code></div></div></pre>
<!-- --><p>추가적으로 요청을 filtering 하거나, trigger를 재등록하는 과정과 같은 내용은 하단 링크를 추가로 참고하기 바랍니다.<!-- --></p>
<!-- --><p><a href="https://developer.chrome.com/docs/extensions/mv3/background_pages/">Background pages<!-- --></a></p>
<!-- --><h2>4. Content scripts 만들기<!-- --></h2>
<!-- --><p>contents scripts는 web page에서 동작할 내용에 대한 내용을 담습니다. DOM을 사용하여, scripts는 현재 웹 페이지의 세부사항을 조회, 변경 또는 정보를 전달하는 것이 가능합니다.<!-- --><br/>
contens scripts는 확장앱의 message 교환을 통해서 부모 확장앱에 의해 사용되는 chrome API에 접근하는 것이 가능합니다. 또한, URL을 통해서 확장앱의 파일에 접근하여, 이를 사용하는 것이 가능합니다. 기본적으로 i18n, storage, runtime(connect, getURL, id, onMessage, sendMessage, etc...) 과 같은 API에 바로 접근해서 사용하는 것이 가능합니다.<!-- --></p>
<!-- --><pre><div class="MarkDown_codeblock__wrapper__S4FFz"><div class="MarkDown_codeblock__header__h3PfO"><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__button__aBRNB"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="25px" width="25px" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M7 6V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 0 1 3 21l.003-14c0-.552.45-1 1.007-1H7zM5.003 8L5 20h10V8H5.003zM9 6h8v10h2V4H9v2z"></path></g></svg></span></div><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">1<!-- --></span><span class="token" style="color:#6272a4">// Code for displaying &lt;extensionDir&gt;/images/myimage.png:<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">2<!-- --></span><span></span><span class="token" style="color:#8be9fd">var<!-- --></span><span> imgURL <!-- --></span><span class="token" style="color:#f8f8f2">=<!-- --></span><span> chrome<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token property-access">runtime<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token method property-access" style="color:#f1fa8c">getURL<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#50fa7b">&quot;images/myimage.png&quot;<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">3<!-- --></span><span></span><span class="token dom" style="color:#f8f8f2">document<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token method property-access" style="color:#f1fa8c">getElementById<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#50fa7b">&quot;someImage&quot;<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token property-access">src<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">=<!-- --></span><span> imgURL<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span></code></div></div></pre>
<!-- --><h3>고립<!-- --></h3>
<!-- --><p>다른 확장앱, 또는 page와 충돌을 막기 위해서 기본적으로 content script는 고립됩니다. (browser의 tab간에 서로 독립적인 것처럼)<!-- --><br/>
예를 들어, 다음과 같은 코드가 있다고 가정합니다.<!-- --></p>
<!-- --><pre><div class="MarkDown_codeblock__wrapper__S4FFz"><div class="MarkDown_codeblock__header__h3PfO"><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__button__aBRNB"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="25px" width="25px" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M7 6V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 0 1 3 21l.003-14c0-.552.45-1 1.007-1H7zM5.003 8L5 20h10V8H5.003zM9 6h8v10h2V4H9v2z"></path></g></svg></span></div><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-html" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">1<!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">html<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">2<!-- --></span><span>  <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">button<!-- --></span><span class="token" style="color:#ff79c6"> <!-- --></span><span class="token" style="color:#50fa7b">id<!-- --></span><span class="token attr-equals" style="color:#f8f8f2">=<!-- --></span><span class="token" style="color:#f8f8f2">&quot;<!-- --></span><span class="token" style="color:#f1fa8c">mybutton<!-- --></span><span class="token" style="color:#f8f8f2">&quot;<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>click me<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">button<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">3<!-- --></span><span>  <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">script<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span class="token script language-javascript">
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">4<!-- --></span><span class="token script language-javascript">    <!-- --></span><span class="token script language-javascript" style="color:#8be9fd">var<!-- --></span><span class="token script language-javascript"> greeting <!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">=<!-- --></span><span class="token script language-javascript"> <!-- --></span><span class="token script language-javascript" style="color:#50fa7b">&quot;hello, &quot;<!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">;<!-- --></span><span class="token script language-javascript">
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">5<!-- --></span><span class="token script language-javascript">    <!-- --></span><span class="token script language-javascript" style="color:#8be9fd">var<!-- --></span><span class="token script language-javascript"> button <!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">=<!-- --></span><span class="token script language-javascript"> <!-- --></span><span class="token script language-javascript dom" style="color:#f8f8f2">document<!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">.<!-- --></span><span class="token script language-javascript method property-access" style="color:#f1fa8c">getElementById<!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">(<!-- --></span><span class="token script language-javascript" style="color:#50fa7b">&quot;mybutton&quot;<!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">)<!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">;<!-- --></span><span class="token script language-javascript">
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">6<!-- --></span><span class="token script language-javascript">    button<!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">.<!-- --></span><span class="token script language-javascript property-access">person_name<!-- --></span><span class="token script language-javascript"> <!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">=<!-- --></span><span class="token script language-javascript"> <!-- --></span><span class="token script language-javascript" style="color:#50fa7b">&quot;Bob&quot;<!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">;<!-- --></span><span class="token script language-javascript">
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">7<!-- --></span><span class="token script language-javascript">    button<!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">.<!-- --></span><span class="token script language-javascript method property-access" style="color:#f1fa8c">addEventListener<!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">(<!-- --></span><span class="token script language-javascript" style="color:#50fa7b">&quot;click&quot;<!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">,<!-- --></span><span class="token script language-javascript"> <!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">(<!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">)<!-- --></span><span class="token script language-javascript"> <!-- --></span><span class="token script language-javascript arrow" style="color:#f8f8f2">=&gt;<!-- --></span><span class="token script language-javascript">
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">8<!-- --></span><span class="token script language-javascript">      <!-- --></span><span class="token script language-javascript" style="color:#f1fa8c">alert<!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">(<!-- --></span><span class="token script language-javascript">greeting <!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">+<!-- --></span><span class="token script language-javascript"> button<!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">.<!-- --></span><span class="token script language-javascript property-access">person_name<!-- --></span><span class="token script language-javascript"> <!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">+<!-- --></span><span class="token script language-javascript"> <!-- --></span><span class="token script language-javascript" style="color:#50fa7b">&quot;.&quot;<!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">)<!-- --></span><span class="token script language-javascript">
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">9<!-- --></span><span class="token script language-javascript">    <!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">,<!-- --></span><span class="token script language-javascript"> <!-- --></span><span class="token script language-javascript" style="color:#bd93f9">false<!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">)<!-- --></span><span class="token script language-javascript" style="color:#f8f8f2">;<!-- --></span><span class="token script language-javascript">
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">10<!-- --></span><span class="token script language-javascript">  <!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">script<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">11<!-- --></span><span></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">html<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span></code></div></div></pre>
<!-- --><p>여기에 content scripts를 이용해서 아래 코드를 inject한다면,<!-- --></p>
<!-- --><pre><div class="MarkDown_codeblock__wrapper__S4FFz"><div class="MarkDown_codeblock__header__h3PfO"><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__button__aBRNB"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="25px" width="25px" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M7 6V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 0 1 3 21l.003-14c0-.552.45-1 1.007-1H7zM5.003 8L5 20h10V8H5.003zM9 6h8v10h2V4H9v2z"></path></g></svg></span></div><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">1<!-- --></span><span class="token" style="color:#8be9fd">var<!-- --></span><span> greeting <!-- --></span><span class="token" style="color:#f8f8f2">=<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;hola, &quot;<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">2<!-- --></span><span></span><span class="token" style="color:#8be9fd">var<!-- --></span><span> button <!-- --></span><span class="token" style="color:#f8f8f2">=<!-- --></span><span> <!-- --></span><span class="token dom" style="color:#f8f8f2">document<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token method property-access" style="color:#f1fa8c">getElementById<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#50fa7b">&quot;mybutton&quot;<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">3<!-- --></span><span>button<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token property-access">person_name<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">=<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;Roberto&quot;<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">4<!-- --></span><span>button<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token method property-access" style="color:#f1fa8c">addEventListener<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#50fa7b">&quot;click&quot;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token arrow" style="color:#f8f8f2">=&gt;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">5<!-- --></span><span>  <!-- --></span><span class="token" style="color:#f1fa8c">alert<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span>greeting <!-- --></span><span class="token" style="color:#f8f8f2">+<!-- --></span><span> button<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token property-access">person_name<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">+<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;.&quot;<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">6<!-- --></span><span></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span> <!-- --></span><span class="token" style="color:#bd93f9">false<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span></code></div></div></pre>
<!-- --><p>button을 클릭했을 때, 두 개의 alert 창을 만날 수 있습니다.<!-- --></p>
<!-- --><h3>Inject scripts<!-- --></h3>
<!-- --><p>content scripts는 3가지의 방법으로 삽입되어질 수 있습니다.<!-- --></p>
<!-- --><ol>
<!-- --><li>statically<!-- --></li>
<!-- --></ol>
<!-- --><p>manifest.json 파일에 정적으로 선언하면, 자동적으로 page가 setting될 때 실행됩니다. 이는 &quot;content_scripts&quot;라는 부분에 정의됩니다. 여기에는 javascript, css 등을 포함할 수 있습니다.<!-- --></p>
<!-- --><pre><div class="MarkDown_codeblock__wrapper__S4FFz"><div class="MarkDown_codeblock__header__h3PfO"><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__button__aBRNB"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="25px" width="25px" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M7 6V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 0 1 3 21l.003-14c0-.552.45-1 1.007-1H7zM5.003 8L5 20h10V8H5.003zM9 6h8v10h2V4H9v2z"></path></g></svg></span></div><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-json" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">1<!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">2<!-- --></span><span> <!-- --></span><span class="token" style="color:#ff79c6">&quot;manifest_version&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#bd93f9">3<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">3<!-- --></span> ...
<!-- --><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">4<!-- --></span><span> <!-- --></span><span class="token" style="color:#ff79c6">&quot;content_scripts&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">[<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">5<!-- --></span><span>   <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">6<!-- --></span><span>     <!-- --></span><span class="token" style="color:#ff79c6">&quot;matches&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">[<!-- --></span><span class="token" style="color:#50fa7b">&quot;http://*.nytimes.com/*&quot;<!-- --></span><span class="token" style="color:#f8f8f2">]<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span> <!-- --></span><span class="token" style="color:#6272a4">// 해당 injection을 수행할 URL을 명시합니다. 필수입력입니다.<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">7<!-- --></span><span>     <!-- --></span><span class="token" style="color:#ff79c6">&quot;css&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">[<!-- --></span><span class="token" style="color:#50fa7b">&quot;myStyles.css&quot;<!-- --></span><span class="token" style="color:#f8f8f2">]<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span> <!-- --></span><span class="token" style="color:#6272a4">// 추가할 css파일 입니다.<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">8<!-- --></span><span>     <!-- --></span><span class="token" style="color:#ff79c6">&quot;js&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">[<!-- --></span><span class="token" style="color:#50fa7b">&quot;contentScript.js&quot;<!-- --></span><span class="token" style="color:#f8f8f2">]<!-- --></span><span> <!-- --></span><span class="token" style="color:#6272a4">// 추가할 js파일 입니다.<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">9<!-- --></span><span>   <!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">10<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">]<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">11<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span></code></div></div></pre>
<!-- --><ol>
<!-- --><li>dynamically<!-- --></li>
<!-- --></ol>
<!-- --><p>2021.04.01 시점에서는 아직 완전 제공하지는 않는 기능입니다.<!-- --><br/>
host를 알지 못하거나 아는 host로 부터 script가 추가 또는 삭제될 필요가 있는 경우에 사용합니다.<!-- --></p>
<!-- --><p><code>chrome.scripting.registerContentScript(optionsObject, callback);<!-- --></code></p>
<!-- --><p>or<!-- --></p>
<!-- --><p><code>chrome.scripting.unregisterContentScript(idArray, callback);<!-- --></code></p>
<!-- --><ol>
<!-- --><li>programmatically<!-- --></li>
<!-- --></ol>
<!-- --><p>구체적인 상황 또는 event에 대한 반응으로 실행하기 원할 때 사용합니다.<!-- --><br/>
이를 수행하기 위해서는, 해당 페이지에 대한 host의 permission이 필요합니다. 이는 확장앱의 host_permissions 부분 or 일시적으로 activeTab을 이용해서 승인을 받을 수 있습니다.<!-- --></p>
<!-- --><pre><div class="MarkDown_codeblock__wrapper__S4FFz"><div class="MarkDown_codeblock__header__h3PfO"><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__button__aBRNB"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="25px" width="25px" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M7 6V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 0 1 3 21l.003-14c0-.552.45-1 1.007-1H7zM5.003 8L5 20h10V8H5.003zM9 6h8v10h2V4H9v2z"></path></g></svg></span></div><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-json" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">1<!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">2<!-- --></span><span>  <!-- --></span><span class="token" style="color:#ff79c6">&quot;manifest_version&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#bd93f9">3<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">3<!-- --></span>  ...
<!-- --><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">4<!-- --></span><span>  <!-- --></span><span class="token" style="color:#ff79c6">&quot;permissions&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">[<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">5<!-- --></span><span>    <!-- --></span><span class="token" style="color:#50fa7b">&quot;activeTab&quot;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">6<!-- --></span><span>  <!-- --></span><span class="token" style="color:#f8f8f2">]<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">7<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span></code></div></div></pre>
<!-- --><pre><div class="MarkDown_codeblock__wrapper__S4FFz"><div class="MarkDown_codeblock__header__h3PfO"><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__button__aBRNB"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="25px" width="25px" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M7 6V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 0 1 3 21l.003-14c0-.552.45-1 1.007-1H7zM5.003 8L5 20h10V8H5.003zM9 6h8v10h2V4H9v2z"></path></g></svg></span></div><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">1<!-- --></span><span class="token" style="color:#6272a4">// 1. 파일 전체를 실행 주입 시키는 방법<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">2<!-- --></span><span>chrome<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token property-access">runtime<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token property-access">onMessage<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token method property-access" style="color:#f1fa8c">addListener<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token parameter">message<!-- --></span><span class="token parameter" style="color:#f8f8f2">,<!-- --></span><span class="token parameter"> callback<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token arrow" style="color:#f8f8f2">=&gt;<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">3<!-- --></span><span>  <!-- --></span><span class="token control-flow" style="color:#8be9fd">if<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span>message <!-- --></span><span class="token" style="color:#f8f8f2">==<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;runContentScript&quot;<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">4<!-- --></span><span>    chrome<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token property-access">scripting<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token method property-access" style="color:#f1fa8c">executeScript<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">5<!-- --></span><span>      <!-- --></span><span class="token literal-property" style="color:#ff79c6">file<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&#x27;contentScript.js&#x27;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">6<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">7<!-- --></span><span>  <!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">8<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">9<!-- --></span>
<!-- --><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">10<!-- --></span><span></span><span class="token" style="color:#6272a4">// 2. 특정 함수를 주입하는 방법<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">11<!-- --></span><span></span><span class="token" style="color:#8be9fd">function<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">injectedFunction<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token parameter">color<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">12<!-- --></span><span>  <!-- --></span><span class="token dom" style="color:#f8f8f2">document<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token property-access">body<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token property-access">style<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token property-access">backgroundColor<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">=<!-- --></span><span> color<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">13<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">14<!-- --></span>
<!-- --><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">15<!-- --></span><span>chrome<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token property-access">runtime<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token property-access">onMessage<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token method property-access" style="color:#f1fa8c">addListener<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token parameter">message<!-- --></span><span class="token parameter" style="color:#f8f8f2">,<!-- --></span><span class="token parameter"> callback<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token arrow" style="color:#f8f8f2">=&gt;<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">16<!-- --></span><span>  <!-- --></span><span class="token control-flow" style="color:#8be9fd">if<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span>message <!-- --></span><span class="token" style="color:#f8f8f2">==<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;changeColor&quot;<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">17<!-- --></span><span>    chrome<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token property-access">scripting<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token method property-access" style="color:#f1fa8c">executeScript<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">18<!-- --></span><span>      <!-- --></span><span class="token" style="color:#8be9fd">function<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> injectedFunction<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">19<!-- --></span><span>      <!-- --></span><span class="token literal-property" style="color:#ff79c6">arguments<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">[<!-- --></span><span class="token" style="color:#50fa7b">&#x27;orange&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">]<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">20<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">21<!-- --></span><span>  <!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">22<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span></code></div></div></pre>
<!-- --><p>추가적으로 matck 범위를 세부 정의하는 부분과 frame 및 rum time 시점 관련 사항은 아래 링크를 참조해주세요.<!-- --></p>
<!-- --><p><a href="https://developer.chrome.com/docs/extensions/mv3/content_scripts/">Content scripts<!-- --></a></p>
<!-- --><h2>5. option Page 만들기<!-- --></h2>
<!-- --><p>사용자에게 option을 선택할 수 있는 page를 customise하여 제공할 수 있습니다. 이는 chrome 확장앱을 관리할 수 있는 chrome://extensions에서 Detail을 눌렀을 때 보이는 option과 관련된 page입니다.<!-- --><br/>
이는 필요에 따라 구현하는 것이 알맞기 때문에 링크만 달아두겠습니다.<!-- --></p>
<!-- --><p><a href="https://developer.chrome.com/docs/extensions/mv3/options/">Options<!-- --></a></p>
<!-- --><h2>6. UI elements 만들기<!-- --></h2>
<!-- --><p>확장앱은 UI 요소를 몇 가지 제공하는 것이 가능합니다. 여기서는 일부만 소개합니다.<!-- --></p>
<!-- --><h3>1. Badge<!-- --></h3>
<!-- --><p>확장앱의 icon을 결정하거나, 활성화 / 비활성화 등을 구분할 때 사용됩니다. =&gt; 상세 내용은 하단 링크 참고<!-- --><br/>
여기서는 icon을 설정하는 방법만 적습니다.<!-- --></p>
<!-- --><pre><div class="MarkDown_codeblock__wrapper__S4FFz"><div class="MarkDown_codeblock__header__h3PfO"><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__button__aBRNB"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="25px" width="25px" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M7 6V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 0 1 3 21l.003-14c0-.552.45-1 1.007-1H7zM5.003 8L5 20h10V8H5.003zM9 6h8v10h2V4H9v2z"></path></g></svg></span></div><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-json" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">1<!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">2<!-- --></span><span>  <!-- --></span><span class="token" style="color:#ff79c6">&quot;manifest_version&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#bd93f9">3<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">3<!-- --></span>  ...
<!-- --><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">4<!-- --></span><span>  <!-- --></span><span class="token" style="color:#ff79c6">&quot;icons&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">5<!-- --></span><span>    <!-- --></span><span class="token" style="color:#ff79c6">&quot;16&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;extension_icon16.png&quot;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span> <!-- --></span><span class="token" style="color:#6272a4">// favicon<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">6<!-- --></span><span>    <!-- --></span><span class="token" style="color:#ff79c6">&quot;32&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;extension_icon32.png&quot;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span> <!-- --></span><span class="token" style="color:#6272a4">// 관리창 Icon(window에서 가끔 요구함)<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">7<!-- --></span><span>    <!-- --></span><span class="token" style="color:#ff79c6">&quot;48&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;extension_icon48.png&quot;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span> <!-- --></span><span class="token" style="color:#6272a4">// 관리창 Icon<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">8<!-- --></span><span>    <!-- --></span><span class="token" style="color:#ff79c6">&quot;128&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;extension_icon128.png&quot;<!-- --></span><span> <!-- --></span><span class="token" style="color:#6272a4">// chrome webstore Icon<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">9<!-- --></span><span>  <!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">10<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span></code></div></div></pre>
<!-- --><h3>2. Popup<!-- --></h3>
<!-- --><p>browser 창의 tooltip을 클릭 시에 보여주고 싶은 내용을 명시하는 것이 가능합니다.<!-- --></p>
<!-- --><pre><div class="MarkDown_codeblock__wrapper__S4FFz"><div class="MarkDown_codeblock__header__h3PfO"><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__button__aBRNB"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="25px" width="25px" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M7 6V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 0 1 3 21l.003-14c0-.552.45-1 1.007-1H7zM5.003 8L5 20h10V8H5.003zM9 6h8v10h2V4H9v2z"></path></g></svg></span></div><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-json" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">1<!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">2<!-- --></span><span>  <!-- --></span><span class="token" style="color:#ff79c6">&quot;manifest_version&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#bd93f9">3<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">3<!-- --></span>  ...
<!-- --><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">4<!-- --></span><span>  <!-- --></span><span class="token" style="color:#ff79c6">&quot;browser_action&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">5<!-- --></span><span>    <!-- --></span><span class="token" style="color:#ff79c6">&quot;default_popup&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;popup.html&quot;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">6<!-- --></span><span>  <!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">7<!-- --></span>  ...
<!-- --><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">8<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span></code></div></div></pre>
<!-- --><p>popup.html<!-- --></p>
<!-- --><pre><div class="MarkDown_codeblock__wrapper__S4FFz"><div class="MarkDown_codeblock__header__h3PfO"><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__button__aBRNB"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="25px" width="25px" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M7 6V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 0 1 3 21l.003-14c0-.552.45-1 1.007-1H7zM5.003 8L5 20h10V8H5.003zM9 6h8v10h2V4H9v2z"></path></g></svg></span></div><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-html" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">1<!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">html<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">2<!-- --></span><span>  <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">head<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">3<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">title<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>Water Popup<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">title<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">4<!-- --></span><span>  <!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">head<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">5<!-- --></span><span>  <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">body<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">6<!-- --></span><span>      <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">img<!-- --></span><span class="token" style="color:#ff79c6"> <!-- --></span><span class="token" style="color:#50fa7b">src<!-- --></span><span class="token attr-equals" style="color:#f8f8f2">=<!-- --></span><span class="token" style="color:#f8f8f2">&#x27;<!-- --></span><span class="token" style="color:#f1fa8c">./stay_hydrated.png<!-- --></span><span class="token" style="color:#f8f8f2">&#x27;<!-- --></span><span class="token" style="color:#ff79c6"> <!-- --></span><span class="token" style="color:#50fa7b">id<!-- --></span><span class="token attr-equals" style="color:#f8f8f2">=<!-- --></span><span class="token" style="color:#f8f8f2">&#x27;<!-- --></span><span class="token" style="color:#f1fa8c">hydrateImage<!-- --></span><span class="token" style="color:#f8f8f2">&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">7<!-- --></span><span>      <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">button<!-- --></span><span class="token" style="color:#ff79c6"> <!-- --></span><span class="token" style="color:#50fa7b">id<!-- --></span><span class="token attr-equals" style="color:#f8f8f2">=<!-- --></span><span class="token" style="color:#f8f8f2">&#x27;<!-- --></span><span class="token" style="color:#f1fa8c">sampleSecond<!-- --></span><span class="token" style="color:#f8f8f2">&#x27;<!-- --></span><span class="token" style="color:#ff79c6"> <!-- --></span><span class="token" style="color:#50fa7b">value<!-- --></span><span class="token attr-equals" style="color:#f8f8f2">=<!-- --></span><span class="token" style="color:#f8f8f2">&#x27;<!-- --></span><span class="token" style="color:#f1fa8c">0.1<!-- --></span><span class="token" style="color:#f8f8f2">&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>Sample Second<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">button<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">8<!-- --></span><span>      <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">button<!-- --></span><span class="token" style="color:#ff79c6"> <!-- --></span><span class="token" style="color:#50fa7b">id<!-- --></span><span class="token attr-equals" style="color:#f8f8f2">=<!-- --></span><span class="token" style="color:#f8f8f2">&#x27;<!-- --></span><span class="token" style="color:#f1fa8c">15min<!-- --></span><span class="token" style="color:#f8f8f2">&#x27;<!-- --></span><span class="token" style="color:#ff79c6"> <!-- --></span><span class="token" style="color:#50fa7b">value<!-- --></span><span class="token attr-equals" style="color:#f8f8f2">=<!-- --></span><span class="token" style="color:#f8f8f2">&#x27;<!-- --></span><span class="token" style="color:#f1fa8c">15<!-- --></span><span class="token" style="color:#f8f8f2">&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>15 Minutes<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">button<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">9<!-- --></span><span>      <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">button<!-- --></span><span class="token" style="color:#ff79c6"> <!-- --></span><span class="token" style="color:#50fa7b">id<!-- --></span><span class="token attr-equals" style="color:#f8f8f2">=<!-- --></span><span class="token" style="color:#f8f8f2">&#x27;<!-- --></span><span class="token" style="color:#f1fa8c">30min<!-- --></span><span class="token" style="color:#f8f8f2">&#x27;<!-- --></span><span class="token" style="color:#ff79c6"> <!-- --></span><span class="token" style="color:#50fa7b">value<!-- --></span><span class="token attr-equals" style="color:#f8f8f2">=<!-- --></span><span class="token" style="color:#f8f8f2">&#x27;<!-- --></span><span class="token" style="color:#f1fa8c">30<!-- --></span><span class="token" style="color:#f8f8f2">&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>30 Minutes<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">button<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">10<!-- --></span><span>      <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">button<!-- --></span><span class="token" style="color:#ff79c6"> <!-- --></span><span class="token" style="color:#50fa7b">id<!-- --></span><span class="token attr-equals" style="color:#f8f8f2">=<!-- --></span><span class="token" style="color:#f8f8f2">&#x27;<!-- --></span><span class="token" style="color:#f1fa8c">cancelAlarm<!-- --></span><span class="token" style="color:#f8f8f2">&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>Cancel Alarm<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">button<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">11<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">script<!-- --></span><span class="token" style="color:#ff79c6"> <!-- --></span><span class="token" style="color:#50fa7b">src<!-- --></span><span class="token attr-equals" style="color:#f8f8f2">=<!-- --></span><span class="token" style="color:#f8f8f2">&quot;<!-- --></span><span class="token" style="color:#f1fa8c">popup.js<!-- --></span><span class="token" style="color:#f8f8f2">&quot;<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">script<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">12<!-- --></span><span>  <!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">body<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">13<!-- --></span><span></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">html<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span></code></div></div></pre>
<!-- --><h3>3. Contextmenu<!-- --></h3>
<!-- --><p>우클릭 시에 나오는 상자에 추가 내용을 추가하는 것이 가능합니다.<!-- --></p>
<!-- --><pre><div class="MarkDown_codeblock__wrapper__S4FFz"><div class="MarkDown_codeblock__header__h3PfO"><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__button__aBRNB"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="25px" width="25px" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M7 6V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 0 1 3 21l.003-14c0-.552.45-1 1.007-1H7zM5.003 8L5 20h10V8H5.003zM9 6h8v10h2V4H9v2z"></path></g></svg></span></div><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-json" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">1<!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">2<!-- --></span><span>  <!-- --></span><span class="token" style="color:#ff79c6">&quot;manifest_version&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#bd93f9">3<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">3<!-- --></span>  ...
<!-- --><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">4<!-- --></span><span>  <!-- --></span><span class="token" style="color:#ff79c6">&quot;permissions&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">[<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">5<!-- --></span><span>    <!-- --></span><span class="token" style="color:#50fa7b">&quot;contextMenus&quot;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">6<!-- --></span><span>  <!-- --></span><span class="token" style="color:#f8f8f2">]<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">7<!-- --></span><span>  <!-- --></span><span class="token" style="color:#ff79c6">&quot;background&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">8<!-- --></span><span>    <!-- --></span><span class="token" style="color:#ff79c6">&quot;service_worker&quot;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;background.js&quot;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">9<!-- --></span><span>  <!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">10<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span></code></div></div></pre>
<!-- --><p><code>background.js<!-- --></code></p>
<!-- --><pre><div class="MarkDown_codeblock__wrapper__S4FFz"><div class="MarkDown_codeblock__header__h3PfO"><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__circle__B4MWO"></span><span class="MarkDown_codeblock__header__button__aBRNB"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="25px" width="25px" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M7 6V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 0 1 3 21l.003-14c0-.552.45-1 1.007-1H7zM5.003 8L5 20h10V8H5.003zM9 6h8v10h2V4H9v2z"></path></g></svg></span></div><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">1<!-- --></span><span class="token" style="color:#8be9fd">const<!-- --></span><span> kLocales <!-- --></span><span class="token" style="color:#f8f8f2">=<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">2<!-- --></span><span>  <!-- --></span><span class="token string-property" style="color:#ff79c6">&#x27;com.au&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&#x27;Australia&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">3<!-- --></span><span>  <!-- --></span><span class="token string-property" style="color:#ff79c6">&#x27;com.br&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&#x27;Brazil&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">4<!-- --></span><span>  <!-- --></span><span class="token string-property" style="color:#ff79c6">&#x27;ca&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&#x27;Canada&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">5<!-- --></span><span>  <!-- --></span><span class="token string-property" style="color:#ff79c6">&#x27;cn&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&#x27;China&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">6<!-- --></span><span>  <!-- --></span><span class="token string-property" style="color:#ff79c6">&#x27;fr&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&#x27;France&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">7<!-- --></span><span>  <!-- --></span><span class="token string-property" style="color:#ff79c6">&#x27;it&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&#x27;Italy&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">8<!-- --></span><span>  <!-- --></span><span class="token string-property" style="color:#ff79c6">&#x27;co.in&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&#x27;India&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">9<!-- --></span><span>  <!-- --></span><span class="token string-property" style="color:#ff79c6">&#x27;co.jp&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&#x27;Japan&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">10<!-- --></span><span>  <!-- --></span><span class="token string-property" style="color:#ff79c6">&#x27;com.ms&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&#x27;Mexico&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">11<!-- --></span><span>  <!-- --></span><span class="token string-property" style="color:#ff79c6">&#x27;ru&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&#x27;Russia&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">12<!-- --></span><span>  <!-- --></span><span class="token string-property" style="color:#ff79c6">&#x27;co.za&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&#x27;South Africa&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">13<!-- --></span><span>  <!-- --></span><span class="token string-property" style="color:#ff79c6">&#x27;co.uk&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&#x27;United Kingdom&#x27;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">14<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">15<!-- --></span>
<!-- --><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">16<!-- --></span><span>chrome<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token property-access">runtime<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token property-access">onInstalled<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token method property-access" style="color:#f1fa8c">addListener<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#8be9fd">function<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">17<!-- --></span><span>  <!-- --></span><span class="token control-flow" style="color:#8be9fd">for<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#8be9fd">let<!-- --></span><span> key <!-- --></span><span class="token" style="color:#8be9fd">of<!-- --></span><span> <!-- --></span><span class="token known-class-name" style="color:#f1fa8c">Object<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token method property-access" style="color:#f1fa8c">keys<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span>kLocales<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">18<!-- --></span><span>    chrome<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token property-access">contextMenus<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token method property-access" style="color:#f1fa8c">create<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">19<!-- --></span><span>      <!-- --></span><span class="token literal-property" style="color:#ff79c6">id<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> key<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">20<!-- --></span><span>      <!-- --></span><span class="token literal-property" style="color:#ff79c6">title<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> kLocales<!-- --></span><span class="token" style="color:#f8f8f2">[<!-- --></span><span>key<!-- --></span><span class="token" style="color:#f8f8f2">]<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">21<!-- --></span><span>      <!-- --></span><span class="token literal-property" style="color:#ff79c6">type<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&#x27;normal&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">22<!-- --></span><span>      <!-- --></span><span class="token literal-property" style="color:#ff79c6">contexts<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">[<!-- --></span><span class="token" style="color:#50fa7b">&#x27;selection&#x27;<!-- --></span><span class="token" style="color:#f8f8f2">]<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">23<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">24<!-- --></span><span>  <!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span>
<!-- --></span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">25<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span></code></div></div></pre>
<!-- --><p>추가적으로, override page, command, 검색창 디자인 등 추가적인 요소를 보려면 아래 링크를 참조해주세요.<!-- --></p>
<!-- --><p><a href="https://developer.chrome.com/docs/extensions/mv3/user_interface/">Design the user interface<!-- --></a></p>
<!-- --><h2>7. Boilerplate<!-- --></h2>
<!-- --><p>만약, react, typescript에 익숙하다면, 필자가 만들어놓은 boilerplate를 추천합니다.<!-- --></p>
<!-- --><p><a href="https://github.com/euidong/chrome-extension-boilerplate">euidong/chrome-extension-boilerplate<!-- --></a></p></article></section><footer class="Layout_footer__EL5v8"><div class="Layout_footer__copyright__r5baC"><span>Copyright © euidong</span><br/><span>모든 컨텐츠에 대한 저작권은 작성자에게 존재합니다. <!-- --><br/>불법 복제를 통한 상업적 사용을 절대적으로 금지합니다. <!-- --><br/>단, 비상업적 이용의 경우 출처 및 링크를 적용한다면 자유롭게 사용가능 합니다.<!-- --></span><span>Also I use photos by<!-- --> <!-- --><a href="https://unsplash.com/@lorenzoherrera?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" tabindex="-1">Lorenzo Herrera</a> <!-- -->on<!-- --> <!-- --><a href="https://unsplash.com/s/photos/tech?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" tabindex="-1">Unsplash</a></span></div><div class="Layout_footer__contents__YZWSm"><a class="Layout_footer__contents__link__K_TKH" href="https://github.com/euidong" target="_blank" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="60" width="60" xmlns="http://www.w3.org/2000/svg"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg><span>github</span></a><a class="Layout_footer__contents__link__K_TKH" href="https://euidong.github.io/portfolio" target="_blank" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="60" width="60" xmlns="http://www.w3.org/2000/svg"><path d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z"></path></svg><span>portfolio</span></a><a class="Layout_footer__contents__link__K_TKH" href="https://chrome.google.com/webstore/detail/bonfire/nkooidijgbppkojdgkoafcoppnohdfka?hl=ko" target="_blank" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="60" width="60" xmlns="http://www.w3.org/2000/svg"><path d="M5.016 16c-1.066-2.219-0.498-3.49 0.321-4.688 0.897-1.312 1.129-2.61 1.129-2.61s0.706 0.917 0.423 2.352c1.246-1.387 1.482-3.598 1.293-4.445 2.817 1.969 4.021 6.232 2.399 9.392 8.631-4.883 2.147-12.19 1.018-13.013 0.376 0.823 0.448 2.216-0.313 2.893-1.287-4.879-4.468-5.879-4.468-5.879 0.376 2.516-1.364 5.268-3.042 7.324-0.059-1.003-0.122-1.696-0.649-2.656-0.118 1.823-1.511 3.309-1.889 5.135-0.511 2.473 0.383 4.284 3.777 6.197z"></path></svg><span>chat</span></a></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"draft":{"content":"  \n해당 글은 manifest version 3을 기반으로 작성된 글입니다. 혹여 version 2를 이용하셨다면, version 2에서 version 3로 migration 하면서 제가 적어놓은 글이 있으니 그것을 참고 하시기 바랍니다.\n\n[Chrome Extension version migration from V2 to V3](/posts/chrome-extension-migration-v2-to-v3)\n\n---\n\n## 1. chrome 확장 앱의 구성\n\nchrome extension에서 manifest version이 3이 되어 이를 한 번 정리할 겸,  \nchrome 확장앱을 구성하는 component는 크게 5가지로 나눌 수 있습니다.\n\n1. Background scripts =\u003e 대게 event를 등록하는데 사용합니다. (bookmark 등록, message 등과 같은 기능)\n2. Content scripts =\u003e 현재 열려 있는 페이지를 기준으로 이들을 바꿀 수 있습니다.\n3. an options page =\u003e options page에 의해 제공되는 세부 동작을 usesr가 사용할 수 있도록 합니다.\n4. UI elements =\u003e 브라우저 우상단에 존재하는 아이콘 or 클릭 시 열리는 popup, 검색창, contextmenu 등과 관련된 요소를 관리합니다.\n5. various logic files =\u003e 추가적으로 사용할 logic 등을 포함하는 것이 가능합니다.\n\n기본적으로 모든 요소는 HTML, CSS, Javascript를 이용해서 구성됩니다. 모든 확장 component가 필요로 되는 것은 아닙니다.\n\n## 2. Manifest 만들기\n\n모든 extension은 반드시 하나의 manifest 파일을 포함합니다. 이는 JSON 형식으로 되어있고, manifest.json이라는 이름으로 저장됩니다.  \n기본 형태는 다음 제시한 내용처럼 구성됩니다. required 부분에는 반드시 들어가야 하는 내용을 포함합니다.  \n또한, app을 구성함에 있어 거의 필수적으로 들어가야 하는 action과 icon과 같은 내용과 설명 등이 포함됩니다.\n\n```json\n{\n  // required\n  \"manifest_version\": 3,\n  \"name\": \"app test\",\n  \"version\": \"0.0.1\",\n\n  // recommended\n  \"action\": {},\n  \"default_locale\": \"ko\",\n  \"description\": \"chrome extension test\",\n  \"icons\": {}\n}\n```\n\n자세한 사항은 하단 링크를 참고해주세요.\n\n[Chrome extension Manifest](https://developer.chrome.com/docs/extensions/mv3/manifest/)\n\n## 3. Background script 구성하기\n\n확장앱은 event에 기반을 둔 크롬 브라우저 환경을 향상 또는 변경 시키기 위한 프로그램이다. event(새로운 page로의 이동, 북마크 삭제, 탭 닫기, 등)는 browser에 의해서 등록되어집니다. 확장앱은 background (service worker) scripts를 이용하여 이러한 event를 모니터링하며, 특정 지시사항을 명시합니다.  \nbackground service worker는 필요에 의해 언제든지 load되고, 사용되지 않으면 unload됩니다.\n\n- 확장앱이 최초로 설치되거나 업데이트 되었을 경우\n- background page가 전송된 event를 들었을 경우\n- 다른 script 또는 extension에서 message를 전송했을 경우\n- 확장앱의 다른 view에서 runtime.getBackgroundPage를 호출한 경우\n\n한번 load되면, service worker는 이것이 action을 수행하는 동안은 종료되지 않습니다. 따라서, service worker는 모든 view 그리고 message port가 닫힐 때까지 unload되지 않습니다.\n\n`view를 여는 것은 service worker를 불러오지는 않지만, 종료되는 것을 막을 수는 있습니다.`\n\n효율적인 background scripts는 event가 발동되기 까지는 정지상태로 존재하고, 이에 응한뒤에 종료된다.\n\n### 등록\n\nservice worker를 등록하기 위해서는 manifest에 이를 명시해주어야 합니다.  \n아래 예제에서는 명시된 background.js 파일이 service_worker들의 main이 됩니다.\n\n```json\n{\n    \"manifest_version\": 3,\n    ...,\n    \"background\": {\n          \"service_worker\": \"background.js\"\n    }\n}\n```\n\n### 구성하기\n\nruntime.onInstalled event를 listen한다면, 확장앱 설치 시에 초기화가 가능합니다. 초기 상태를 정의할 때 이를 사용합니다.  \n아래 예시에서는 event를 등록하는 과정입니다. 여기서 유의해야 할 것은 event의 등록은 page의 시작 시에 동기적으로 모두 설치해주어야 한다는 것입니다. 만약, event가 발생했을 때, event를 등록하는 것과 같은 동작을 하기 위해서는 다른 방식을 이용해야 합니다.\n\n```javascript\nchrome.runtime.onInstalled.addListener(function() {\n  chrome.contextMenus.create({\n    \"id\": \"sampleContextMenu\",\n    \"title\": \"Sample Context Menu\",\n    \"contexts\": [\"selection\"]\n  });\n});\n\n// This will run when a bookmark is created.\nchrome.bookmarks.onCreated.addListener(function() {\n  // do something\n});\n```\n\n추가적으로 요청을 filtering 하거나, trigger를 재등록하는 과정과 같은 내용은 하단 링크를 추가로 참고하기 바랍니다.\n\n[Background pages](https://developer.chrome.com/docs/extensions/mv3/background_pages/)\n\n## 4. Content scripts 만들기\n\ncontents scripts는 web page에서 동작할 내용에 대한 내용을 담습니다. DOM을 사용하여, scripts는 현재 웹 페이지의 세부사항을 조회, 변경 또는 정보를 전달하는 것이 가능합니다.  \ncontens scripts는 확장앱의 message 교환을 통해서 부모 확장앱에 의해 사용되는 chrome API에 접근하는 것이 가능합니다. 또한, URL을 통해서 확장앱의 파일에 접근하여, 이를 사용하는 것이 가능합니다. 기본적으로 i18n, storage, runtime(connect, getURL, id, onMessage, sendMessage, etc...) 과 같은 API에 바로 접근해서 사용하는 것이 가능합니다.\n\n```javascript\n// Code for displaying \u003cextensionDir\u003e/images/myimage.png:\nvar imgURL = chrome.runtime.getURL(\"images/myimage.png\");\ndocument.getElementById(\"someImage\").src = imgURL;\n```\n\n### 고립\n\n다른 확장앱, 또는 page와 충돌을 막기 위해서 기본적으로 content script는 고립됩니다. (browser의 tab간에 서로 독립적인 것처럼)  \n예를 들어, 다음과 같은 코드가 있다고 가정합니다.\n\n```html\n\u003chtml\u003e\n  \u003cbutton id=\"mybutton\"\u003eclick me\u003c/button\u003e\n  \u003cscript\u003e\n    var greeting = \"hello, \";\n    var button = document.getElementById(\"mybutton\");\n    button.person_name = \"Bob\";\n    button.addEventListener(\"click\", () =\u003e\n      alert(greeting + button.person_name + \".\")\n    , false);\n  \u003c/script\u003e\n\u003c/html\u003e\n```\n\n여기에 content scripts를 이용해서 아래 코드를 inject한다면,\n\n```javascript\nvar greeting = \"hola, \";\nvar button = document.getElementById(\"mybutton\");\nbutton.person_name = \"Roberto\";\nbutton.addEventListener(\"click\", () =\u003e\n  alert(greeting + button.person_name + \".\")\n, false);\n```\n\nbutton을 클릭했을 때, 두 개의 alert 창을 만날 수 있습니다.\n\n### Inject scripts\n\ncontent scripts는 3가지의 방법으로 삽입되어질 수 있습니다.\n\n1. statically\n\nmanifest.json 파일에 정적으로 선언하면, 자동적으로 page가 setting될 때 실행됩니다. 이는 \"content\\_scripts\"라는 부분에 정의됩니다. 여기에는 javascript, css 등을 포함할 수 있습니다.\n\n```json\n{\n \"manifest_version\": 3,\n ...\n \"content_scripts\": [\n   {\n     \"matches\": [\"http://*.nytimes.com/*\"], // 해당 injection을 수행할 URL을 명시합니다. 필수입력입니다.\n     \"css\": [\"myStyles.css\"], // 추가할 css파일 입니다.\n     \"js\": [\"contentScript.js\"] // 추가할 js파일 입니다.\n   }\n ]\n}\n```\n\n1. dynamically\n\n2021.04.01 시점에서는 아직 완전 제공하지는 않는 기능입니다.  \nhost를 알지 못하거나 아는 host로 부터 script가 추가 또는 삭제될 필요가 있는 경우에 사용합니다.\n\n`chrome.scripting.registerContentScript(optionsObject, callback);`\n\nor\n\n`chrome.scripting.unregisterContentScript(idArray, callback);`\n\n1. programmatically\n\n구체적인 상황 또는 event에 대한 반응으로 실행하기 원할 때 사용합니다.  \n이를 수행하기 위해서는, 해당 페이지에 대한 host의 permission이 필요합니다. 이는 확장앱의 host\\_permissions 부분 or 일시적으로 activeTab을 이용해서 승인을 받을 수 있습니다.\n\n```json\n{\n  \"manifest_version\": 3,\n  ...\n  \"permissions\": [\n    \"activeTab\"\n  ]\n}\n```\n\n```javascript\n// 1. 파일 전체를 실행 주입 시키는 방법\nchrome.runtime.onMessage.addListener((message, callback) =\u003e {\n  if (message == \"runContentScript\"){\n    chrome.scripting.executeScript({\n      file: 'contentScript.js'\n    });\n  }\n});\n\n// 2. 특정 함수를 주입하는 방법\nfunction injectedFunction(color) {\n  document.body.style.backgroundColor = color;\n}\n\nchrome.runtime.onMessage.addListener((message, callback) =\u003e {\n  if (message == \"changeColor\"){\n    chrome.scripting.executeScript({\n      function: injectedFunction,\n      arguments: ['orange']\n    });\n  }\n});\n```\n\n추가적으로 matck 범위를 세부 정의하는 부분과 frame 및 rum time 시점 관련 사항은 아래 링크를 참조해주세요.\n\n[Content scripts](https://developer.chrome.com/docs/extensions/mv3/content_scripts/)\n\n## 5. option Page 만들기\n\n사용자에게 option을 선택할 수 있는 page를 customise하여 제공할 수 있습니다. 이는 chrome 확장앱을 관리할 수 있는 chrome://extensions에서 Detail을 눌렀을 때 보이는 option과 관련된 page입니다.  \n이는 필요에 따라 구현하는 것이 알맞기 때문에 링크만 달아두겠습니다.\n\n[Options](https://developer.chrome.com/docs/extensions/mv3/options/)\n\n## 6. UI elements 만들기\n\n확장앱은 UI 요소를 몇 가지 제공하는 것이 가능합니다. 여기서는 일부만 소개합니다.\n\n### 1. Badge\n\n확장앱의 icon을 결정하거나, 활성화 / 비활성화 등을 구분할 때 사용됩니다. =\u003e 상세 내용은 하단 링크 참고  \n여기서는 icon을 설정하는 방법만 적습니다.\n\n```json\n{\n  \"manifest_version\": 3,\n  ...\n  \"icons\": {\n    \"16\": \"extension_icon16.png\", // favicon\n    \"32\": \"extension_icon32.png\", // 관리창 Icon(window에서 가끔 요구함)\n    \"48\": \"extension_icon48.png\", // 관리창 Icon\n    \"128\": \"extension_icon128.png\" // chrome webstore Icon\n  }\n}\n```\n\n### 2. Popup\n\nbrowser 창의 tooltip을 클릭 시에 보여주고 싶은 내용을 명시하는 것이 가능합니다.\n\n```json\n{\n  \"manifest_version\": 3,\n  ...\n  \"browser_action\": {\n    \"default_popup\": \"popup.html\"\n  }\n  ...\n}\n```\n\npopup.html\n\n```html\n\u003chtml\u003e\n  \u003chead\u003e\n    \u003ctitle\u003eWater Popup\u003c/title\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n      \u003cimg src='./stay_hydrated.png' id='hydrateImage'\u003e\n      \u003cbutton id='sampleSecond' value='0.1'\u003eSample Second\u003c/button\u003e\n      \u003cbutton id='15min' value='15'\u003e15 Minutes\u003c/button\u003e\n      \u003cbutton id='30min' value='30'\u003e30 Minutes\u003c/button\u003e\n      \u003cbutton id='cancelAlarm'\u003eCancel Alarm\u003c/button\u003e\n    \u003cscript src=\"popup.js\"\u003e\u003c/script\u003e\n  \u003c/body\u003e\n\u003c/html\u003e\n```\n\n### 3. Contextmenu\n\n우클릭 시에 나오는 상자에 추가 내용을 추가하는 것이 가능합니다.\n\n```json\n{\n  \"manifest_version\": 3,\n  ...\n  \"permissions\": [\n    \"contextMenus\"\n  ],\n  \"background\": {\n    \"service_worker\": \"background.js\"\n  }\n}\n```\n\n`background.js`\n\n```javascript\nconst kLocales = {\n  'com.au': 'Australia',\n  'com.br': 'Brazil',\n  'ca': 'Canada',\n  'cn': 'China',\n  'fr': 'France',\n  'it': 'Italy',\n  'co.in': 'India',\n  'co.jp': 'Japan',\n  'com.ms': 'Mexico',\n  'ru': 'Russia',\n  'co.za': 'South Africa',\n  'co.uk': 'United Kingdom'\n};\n\nchrome.runtime.onInstalled.addListener(function() {\n  for (let key of Object.keys(kLocales)) {\n    chrome.contextMenus.create({\n      id: key,\n      title: kLocales[key],\n      type: 'normal',\n      contexts: ['selection'],\n    });\n  }\n});\n```\n\n추가적으로, override page, command, 검색창 디자인 등 추가적인 요소를 보려면 아래 링크를 참조해주세요.\n\n[Design the user interface](https://developer.chrome.com/docs/extensions/mv3/user_interface/)\n\n## 7. Boilerplate\n\n만약, react, typescript에 익숙하다면, 필자가 만들어놓은 boilerplate를 추천합니다.\n\n[euidong/chrome-extension-boilerplate](https://github.com/euidong/chrome-extension-boilerplate)\n","slug":"chrome-extension","title":"Chrome Extension","category":"Web","tags":["ChromeExtension"],"date":"2022-05-31 16:59","thumbnailSrc":"https://euidong.github.io/images/default.jpg"}},"__N_SSG":true},"page":"/drafts/[slug]","query":{"slug":"chrome-extension"},"buildId":"1PUrYTUvNPOdAa_sVbKOf","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>