<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="description" content="Just Tech Blog"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><meta property="og:type" content="blog"/><meta property="og:site_name" content="JustLog"/><title>3. Arithmetic<!-- --> | JustLog<!-- --></title><meta property="og:url" content="https://euidong.github.io/posts/architecture-arithmetic"/><meta property="og:title" content="3. Arithmetic"/><meta property="og:description" content="Just Tech Posting"/><meta property="og:image" content="https://euidong.github.io/images/default.jpg"/><meta name="next-head-count" content="10"/><link rel="icon" href="https://euidong.github.io/favicon.png"/><link rel="apple-touch-icon" href="https://euidong.github.io/logo192.png"/><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7452732177557701" crossorigin="anonymous"></script><link rel="preload" href="/_next/static/css/05397e4762032a4c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/05397e4762032a4c.css" data-n-g=""/><link rel="preload" href="/_next/static/css/62095437b77217ec.css" as="style"/><link rel="stylesheet" href="/_next/static/css/62095437b77217ec.css" data-n-p=""/><link rel="preload" href="/_next/static/css/0280a25e2c606f5b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/0280a25e2c606f5b.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-9b312e20a4e32339.js" defer=""></script><script src="/_next/static/chunks/framework-81da43a8dcd978d9.js" defer=""></script><script src="/_next/static/chunks/main-7b6c38cbad60dfcf.js" defer=""></script><script src="/_next/static/chunks/pages/_app-bd1f5091a6a095fe.js" defer=""></script><script src="/_next/static/chunks/175675d1-5e59763be147fa1f.js" defer=""></script><script src="/_next/static/chunks/675-ae8e8a351ce30ae2.js" defer=""></script><script src="/_next/static/chunks/332-5860389bd4081566.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-3dc22c0239d7ec00.js" defer=""></script><script src="/_next/static/j9-TRV61bWV6p5UFVt3v4/_buildManifest.js" defer=""></script><script src="/_next/static/j9-TRV61bWV6p5UFVt3v4/_ssgManifest.js" defer=""></script><script src="/_next/static/j9-TRV61bWV6p5UFVt3v4/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div class="Layout_wrapper__dKJSz root"><header class="Layout_header__XosLl"><div><input type="checkbox" class="SideBarToggler_openSidebarMenu__FWGTp" id="openSidebarMenu"/><label class="SideBarToggler_sidebarIconToggle__y_9Yh" for="openSidebarMenu" tabindex="1"><div class="SideBarToggler_spinner__0IPkC SideBarToggler_diagonal__XS8QG SideBarToggler_part-1__X7acd"></div><div class="SideBarToggler_spinner__0IPkC SideBarToggler_horizontal__Awo5t"></div><div class="SideBarToggler_spinner__0IPkC SideBarToggler_diagonal__XS8QG SideBarToggler_part-2__Fx2xu"></div></label><nav class="SideBar_side_bar__wrapper--close__8Nwnr"><a class="SideBar_side_bar__li__crDBH" tabindex="-1" href="/">Home</a><a class="SideBar_side_bar__li__crDBH" tabindex="-1" href="/tags">Tags</a><a class="SideBar_side_bar__li__crDBH" tabindex="-1" href="/categories/Computer%20Architecture">Computer Architecture<!-- --><span class="SideBar_side_bar__li__cnt__9QV_z">(<!-- -->4<!-- -->)<!-- --></span></a><a class="SideBar_side_bar__li__crDBH" tabindex="-1" href="/categories/Algorithm">Algorithm<!-- --><span class="SideBar_side_bar__li__cnt__9QV_z">(<!-- -->7<!-- -->)<!-- --></span></a><a class="SideBar_side_bar__li__crDBH" tabindex="-1" href="/categories/Docker">Docker<!-- --><span class="SideBar_side_bar__li__cnt__9QV_z">(<!-- -->1<!-- -->)<!-- --></span></a><a class="SideBar_side_bar__li__crDBH" tabindex="-1" href="/categories/Web">Web<!-- --><span class="SideBar_side_bar__li__cnt__9QV_z">(<!-- -->2<!-- -->)<!-- --></span></a></nav></div><a class="Logo_logo___yD0t" tabindex="1" href="/"></a><div><button class="SearchBarToggler_search_bar_toggler__3dHbA" tabindex="2"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="25px" width="25px" xmlns="http://www.w3.org/2000/svg"><path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path></svg></button></div></header><section><div class="Post_post__wrapper__Qq8vV"><h1 class="Post_post__title__CYNLY">3. Arithmetic</h1><p class="Post_post__date__Sx37s">2022년 4월 27일 20:50</p><article class="markdown-body MarkDown_markdown-body__ABwUt"><h2><strong>Reference<!-- --></strong></h2>
<!-- --><p><img src="/images/default.jpg" alt="&lt;img src=&quot;/images/default.jpg&quot; width=&quot;190&quot; /&gt;"/></p>
<!-- --><p>David A. Patterson, John L. Hennessy, Computer Organization and Design<!-- --></p>
<!-- --><p>본 Posting은 다음 교제를 기반으로 챕터 별로 정리 한 내용입니다. 아래부터는 편의를 위해 &quot;-다&quot;로 표현합니다.<!-- --></p>
<!-- --><hr/>
<!-- --><p>여기서는 기본이 되는 <!-- --><strong>사칙연산<!-- --></strong>과 <!-- --><strong>소수점<!-- --></strong>의 표현방식(<!-- --><strong>Floating Point<!-- --></strong>)을 다룹니다.<!-- --></p>
<!-- --><h2>Overflow<!-- --></h2>
<!-- --><p>시작하기에 앞서서 Overflow라는 개념을 알고가야한다. Overflow란 특정 변수의 표현범위를 벗어나는 경우에 발생하게 되는 에러 상황을 의미한다. 일반적인 사람의 생각에는 수의 범위가 있는 것은 이상할 수 있지만, 컴퓨터에서는 이것이 매우 당연하다. 무한대를 표현하는 것은 사실상 컴퓨터로는 불가능하다. 대신 매우 큰 수를 통해서 표현하는 것이 컴퓨터에게는 일반적이다. 예를 들어 우리가 빈번하게 사용하는 integer 변수 type은 그 값의 범위가 정해져있다. 이는 대게 하나의 변수를 표현하기 위해서 4bytes를 사용하는데 이는 32bits이기 때문에, 최대 <!-- --><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2<!-- --></mn><mn>32<!-- --></mn></msup></mrow><annotation encoding="application/x-tex">2^{32}<!-- --></annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em"></span><span class="mord"><span class="mord">2<!-- --></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">32<!-- --></span></span></span></span></span></span></span></span></span></span></span></span></span>까지가 표현의 범위가 되는 것이다. 여기에 음수를 표현하게 되는 경우에는 범위가 <!-- --><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−<!-- --></mo><msup><mn>2<!-- --></mn><mn>31<!-- --></mn></msup></mrow><annotation encoding="application/x-tex">-2^{31}<!-- --></annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em"></span><span class="mord">−<!-- --></span><span class="mord"><span class="mord">2<!-- --></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">31<!-- --></span></span></span></span></span></span></span></span></span></span></span></span></span> ~ <!-- --><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2<!-- --></mn><mn>31<!-- --></mn></msup></mrow><annotation encoding="application/x-tex">2^{31}<!-- --></annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em"></span><span class="mord"><span class="mord">2<!-- --></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">31<!-- --></span></span></span></span></span></span></span></span></span></span></span></span></span>로 제한된다. 따라서, 이렇게 범위를 벗어나는 경우에 대해서는 programming language 마다 처리가 달라지지만, 대게 에러를 발생시키는 것이 일반적이다. (python에서는 알아서 범위를 추가한다.)<!-- --></p>
<!-- --><h2>덧셈 / 뺄셈<!-- --></h2>
<!-- --><p>덧셈은 각 자릿수의 합과 이전 자릿수에서 올림된 수(Carry)의 합이라고 다시 해석할 수 있다.
이진수에서는 결국 올림된 수와 두 수가 만들어 낼 수 있는 경우의 수는 00 ~ 11이다.<!-- --></p>
<!-- --><table><thead><tr><th style="text-align:left">A<!-- --></th><th style="text-align:left">B<!-- --></th><th style="text-align:left">Carry<!-- --></th><th style="text-align:left">Result<!-- --></th></tr></thead><tbody><tr><td style="text-align:left">0<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">00<!-- --></td></tr><tr><td style="text-align:left">0<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">01<!-- --></td></tr><tr><td style="text-align:left">0<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">01<!-- --></td></tr><tr><td style="text-align:left">0<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">10<!-- --></td></tr><tr><td style="text-align:left">1<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">01<!-- --></td></tr><tr><td style="text-align:left">1<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">10<!-- --></td></tr><tr><td style="text-align:left">1<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">10<!-- --></td></tr><tr><td style="text-align:left">1<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">11<!-- --></td></tr></tbody></table>
<!-- --><p>이를 수행하기 위해서 우리는 XOR 2개와 AND 2개 그리고 OR 1개로 만들 수 있다.(C&#x27;와 S가 결과값이다.)<!-- --></p>
<!-- --><table><thead><tr><th style="text-align:left">A<!-- --></th><th style="text-align:left">B<!-- --></th><th style="text-align:left">Carry(C)<!-- --></th><th style="text-align:left">A XOR B(D)<!-- --></th><th style="text-align:left">A AND B(E)<!-- --></th><th style="text-align:left">C AND D(F)<!-- --></th><th style="text-align:left">E OR F(C&#x27;)<!-- --></th><th style="text-align:left">C XOR D(S)<!-- --></th></tr></thead><tbody><tr><td style="text-align:left">0<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">0<!-- --></td></tr><tr><td style="text-align:left">0<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">1<!-- --></td></tr><tr><td style="text-align:left">0<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">1<!-- --></td></tr><tr><td style="text-align:left">0<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">0<!-- --></td></tr><tr><td style="text-align:left">1<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">1<!-- --></td></tr><tr><td style="text-align:left">1<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">0<!-- --></td></tr><tr><td style="text-align:left">1<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">0<!-- --></td></tr><tr><td style="text-align:left">1<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">0<!-- --></td><td style="text-align:left">1<!-- --></td><td style="text-align:left">1<!-- --></td></tr></tbody></table>
<!-- --><p><img src="https://upload.wikimedia.org/wikipedia/commons/5/57/Fulladder.gif" alt="fullAdder"/></p>
<!-- --><h3>음수<!-- --></h3>
<!-- --><p>음수는 기본적으로 2의 보수라는 방식을 활용한다. 만약 특정 수를 음수로 변환하고 싶다면 전체 수를 반전 시킨 후 <!-- --><code>+1<!-- --></code>을 수행하는 방식이다. 이를 통해서, 우리는 쉽게 음수를 생성할 수 있다. 그리고 놀랍게도 특정 수를 음수로 변환하고 덧셈을 하게 되면, 이것이 바로 뺄셈이 된다.<!-- --></p>
<!-- --><h2>곱셈<!-- --></h2>
<!-- --><p>먼저 이진수의 곱셈은 아래와 같이 십진수에서의 곱셈 연산과 방법은 같다.<!-- --></p>
<!-- --><p>곱해지는 수(multiplicand), 곱하는 수(multipler), 곱해진 결과(product)이다.<!-- --></p>
<!-- --><p><img src="/images/multiplication.png" alt="곱셈 예제"/></p>
<!-- --><p>하지만, 여기서 하나의 특징을 발견할 수 있다. 각 자릿수의 결과값은 곱하는 수에 의해서 결정된다는 점이다. 곱하는 수가 1이면, 곱해지는 수의 해당 자릿수가 결과값이 되고, 0이면 무조건 0이라는 결과가 나온다는 것을 알 수 있다. 따라서, 다음과 같은 알고리즘에 따라서 연산이 수행된다는 것을 알 수 있다.<!-- --></p>
<!-- --><p><img src="/images/multiplication-flow.png" alt="곱셈 알고리즘"/></p>
<!-- --><p>만약, 음수의 곱셈의 경우에는 간단하게 해당 값을 양수로 변환하고, 연산을 수행한 뒤에 다시 음수로 변환하는 방식을 수행한다.<!-- --></p>
<!-- --><h2>나눗셈<!-- --></h2>
<!-- --><p>나눗셈은 역시 동일하다.<!-- --></p>
<!-- --><p>나누어지는 수(Dividend), 나누는 수(Divisor), 몫(Quotient), 나머지(Remainder) 이다.<!-- --></p>
<!-- --><p><img src="/images/division.png" alt="나눗셈 예제"/></p>
<!-- --><p>이때는 역으로 나누는 수를 오른쪽으로 32번 shift하여 매우 큰 수로 만들고, 나머지를 나누어지는 수로 초기화하여 차근차근 빼보면서 양수이면 빼고, 음수이면 되돌리기를 반복하면서 몫과 나머지를 계산할 수 있다.<!-- --></p>
<!-- --><p><img src="/images/division-flow.png" alt="나눗셈 알고리즘"/></p>
<!-- --><h2>실수 연산<!-- --></h2>
<!-- --><p>위에서는 여태까지 정수의 연산을 다루었지만, 소수점을 포함하는 실수 연산을 수행할 때에는 달라지는 사항이 꽤나있다.<!-- --></p>
<!-- --><p>먼저, 실수를 표기하기 위한 방법을 먼저 보자.<!-- --></p>
<!-- --><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>31231.<!-- --></mn><msub><mn>4<!-- --></mn><mrow><mo stretchy="false">(<!-- --></mo><mn>10<!-- --></mn><mo stretchy="false">)<!-- --></mo></mrow></msub><mo>=<!-- --></mo><mn>3.1231<!-- --></mn><msub><mn>4<!-- --></mn><mrow><mo stretchy="false">(<!-- --></mo><mn>10<!-- --></mn><mo stretchy="false">)<!-- --></mo></mrow></msub><mo>×<!-- --></mo><mn>1<!-- --></mn><msup><mn>0<!-- --></mn><msub><mn>4<!-- --></mn><mrow><mo stretchy="false">(<!-- --></mo><mn>10<!-- --></mn><mo stretchy="false">)<!-- --></mo></mrow></msub></msup></mrow><annotation encoding="application/x-tex">31231.4_{(10)} = 3.12314_{(10)} \times 10^{4_{(10)}}<!-- --></annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9996em;vertical-align:-0.3552em"></span><span class="mord">31231.<!-- --></span><span class="mord"><span class="mord">4<!-- --></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(<!-- --></span><span class="mord mtight">10<!-- --></span><span class="mclose mtight">)<!-- --></span></span></span></span></span><span class="vlist-s">​<!-- --></span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=<!-- --></span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.9996em;vertical-align:-0.3552em"></span><span class="mord">3.1231<!-- --></span><span class="mord"><span class="mord">4<!-- --></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(<!-- --></span><span class="mord mtight">10<!-- --></span><span class="mclose mtight">)<!-- --></span></span></span></span></span><span class="vlist-s">​<!-- --></span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×<!-- --></span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8175em"></span><span class="mord">1<!-- --></span><span class="mord"><span class="mord">0<!-- --></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8175em"><span style="top:-3.0664em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">4<!-- --></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em"><span style="top:-2.3448em;margin-left:0em;margin-right:0.0714em"><span class="pstrut" style="height:2.5357em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(<!-- --></span><span class="mord mtight">10<!-- --></span><span class="mclose mtight">)<!-- --></span></span></span></span></span><span class="vlist-s">​<!-- --></span></span><span class="vlist-r"><span class="vlist" style="height:0.3695em"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<!-- --><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100101.<!-- --></mn><msub><mn>1<!-- --></mn><mrow><mo stretchy="false">(<!-- --></mo><mn>2<!-- --></mn><mo stretchy="false">)<!-- --></mo></mrow></msub><mo>=<!-- --></mo><mn>1.00101<!-- --></mn><msub><mn>1<!-- --></mn><mrow><mo stretchy="false">(<!-- --></mo><mn>2<!-- --></mn><mo stretchy="false">)<!-- --></mo></mrow></msub><mo>×<!-- --></mo><msup><mn>2<!-- --></mn><mrow><mn>10<!-- --></mn><msub><mn>1<!-- --></mn><mrow><mo stretchy="false">(<!-- --></mo><mn>2<!-- --></mn><mo stretchy="false">)<!-- --></mo></mrow></msub></mrow></msup></mrow><annotation encoding="application/x-tex">100101.1_{(2)}= 1.001011_{(2)} \times 2^{101_{(2)}} <!-- --></annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9996em;vertical-align:-0.3552em"></span><span class="mord">100101.<!-- --></span><span class="mord"><span class="mord">1<!-- --></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(<!-- --></span><span class="mord mtight">2<!-- --></span><span class="mclose mtight">)<!-- --></span></span></span></span></span><span class="vlist-s">​<!-- --></span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=<!-- --></span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.9996em;vertical-align:-0.3552em"></span><span class="mord">1.00101<!-- --></span><span class="mord"><span class="mord">1<!-- --></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(<!-- --></span><span class="mord mtight">2<!-- --></span><span class="mclose mtight">)<!-- --></span></span></span></span></span><span class="vlist-s">​<!-- --></span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×<!-- --></span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8175em"></span><span class="mord"><span class="mord">2<!-- --></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8175em"><span style="top:-3.0664em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10<!-- --></span><span class="mord mtight"><span class="mord mtight">1<!-- --></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em"><span style="top:-2.3448em;margin-left:0em;margin-right:0.0714em"><span class="pstrut" style="height:2.5357em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(<!-- --></span><span class="mord mtight">2<!-- --></span><span class="mclose mtight">)<!-- --></span></span></span></span></span><span class="vlist-s">​<!-- --></span></span><span class="vlist-r"><span class="vlist" style="height:0.3695em"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<!-- --><p>이를 일반적으로 normalization이라고 하며, 이진수 체계에서는 다음과 같은 형태를 갖게 된다.<!-- --></p>
<!-- --><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>1.xxxxx<!-- --></mtext><mo>×<!-- --></mo><msup><mn>2<!-- --></mn><mrow><mi>y<!-- --></mi><mi>y<!-- --></mi><mi>y<!-- --></mi><mi>y<!-- --></mi><mi>y<!-- --></mi></mrow></msup></mrow><annotation encoding="application/x-tex">\text{1.xxxxx} \times 2^{yyyyy}<!-- --></annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em"></span><span class="mord text"><span class="mord">1.xxxxx<!-- --></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×<!-- --></span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6644em"></span><span class="mord"><span class="mord">2<!-- --></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">yyyyy<!-- --></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<!-- --><p>따라서, 대게 실수를 표현할 때에는 x부분(fraction)과 y부분(exponent) 그리고 부호를 표현(sign)하는 부분으로 나누어서 저장한다. 이 또한, 4byte를 통해서 표현할 경우에는 x부분에 8bits, y부분에 23bits 그리고 부호에 1bit를 할당한다.<!-- --></p>
<!-- --><p>따라서, 일반적으로 표현하면 다음과 같이 쓰는 것이 일반적인 실수의 표현이다.<!-- --></p>
<!-- --><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(<!-- --></mo><mo>−<!-- --></mo><mn>1<!-- --></mn><msup><mo stretchy="false">)<!-- --></mo><mi>s<!-- --></mi></msup><mo>×<!-- --></mo><mo stretchy="false">(<!-- --></mo><mn>1<!-- --></mn><mo>+<!-- --></mo><mtext>Fraction<!-- --></mtext><mo stretchy="false">)<!-- --></mo><mo>×<!-- --></mo><msup><mn>2<!-- --></mn><mrow><mo stretchy="false">(<!-- --></mo><mtext>Exponent<!-- --></mtext><mo stretchy="false">)<!-- --></mo></mrow></msup></mrow><annotation encoding="application/x-tex">(-1)^s \times(1+\text{Fraction})\times2^{(\text{Exponent})}<!-- --></annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(<!-- --></span><span class="mord">−<!-- --></span><span class="mord">1<!-- --></span><span class="mclose"><span class="mclose">)<!-- --></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s<!-- --></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×<!-- --></span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(<!-- --></span><span class="mord">1<!-- --></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+<!-- --></span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord">Fraction<!-- --></span></span><span class="mclose">)<!-- --></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×<!-- --></span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.888em"></span><span class="mord"><span class="mord">2<!-- --></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(<!-- --></span><span class="mord text mtight"><span class="mord mtight">Exponent<!-- --></span></span><span class="mclose mtight">)<!-- --></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<!-- --><p>단, 모두 0이면 0으로 친다. floating point 연산은 후에 더 시간이 있으면 자세히 다루겠다.<!-- --></p></article><ins class="adsbygoogle" style="display:block;text-align:center;margin:50px 0" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-7452732177557701" data-ad-slot="1964032750"></ins></div></section><footer class="Layout_footer__EL5v8"><div class="Layout_footer__copyright__r5baC"><span>Copyright © euidong</span><br/><span>모든 컨텐츠에 대한 저작권은 작성자에게 존재합니다. <!-- --><br/>불법 복제를 통한 상업적 사용을 절대적으로 금지합니다. <!-- --><br/>단, 비상업적 이용의 경우 출처 및 링크를 적용한다면 자유롭게 사용가능 합니다.<!-- --></span><span>Also I use photos by<!-- --> <!-- --><a href="https://unsplash.com/@lorenzoherrera?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" tabindex="-1">Lorenzo Herrera</a> <!-- -->on<!-- --> <!-- --><a href="https://unsplash.com/s/photos/tech?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" tabindex="-1">Unsplash</a></span></div><div class="Layout_footer__contents__YZWSm"><a class="Layout_footer__contents__link__K_TKH" href="https://github.com/euidong" target="_blank" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="60" width="60" xmlns="http://www.w3.org/2000/svg"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg><span>github</span></a><a class="Layout_footer__contents__link__K_TKH" href="https://euidong.github.io/portfolio" target="_blank" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="60" width="60" xmlns="http://www.w3.org/2000/svg"><path d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z"></path></svg><span>portfolio</span></a><a class="Layout_footer__contents__link__K_TKH" href="https://chrome.google.com/webstore/detail/bonfire/nkooidijgbppkojdgkoafcoppnohdfka?hl=ko" target="_blank" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.1" viewBox="0 0 16 16" height="60" width="60" xmlns="http://www.w3.org/2000/svg"><path d="M5.016 16c-1.066-2.219-0.498-3.49 0.321-4.688 0.897-1.312 1.129-2.61 1.129-2.61s0.706 0.917 0.423 2.352c1.246-1.387 1.482-3.598 1.293-4.445 2.817 1.969 4.021 6.232 2.399 9.392 8.631-4.883 2.147-12.19 1.018-13.013 0.376 0.823 0.448 2.216-0.313 2.893-1.287-4.879-4.468-5.879-4.468-5.879 0.376 2.516-1.364 5.268-3.042 7.324-0.059-1.003-0.122-1.696-0.649-2.656-0.118 1.823-1.511 3.309-1.889 5.135-0.511 2.473 0.383 4.284 3.777 6.197z"></path></svg><span>chat</span></a></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"content":"## **Reference**\n\n![\u003cimg src=\"/images/default.jpg\" width=\"190\" /\u003e](/images/default.jpg)\n\nDavid A. Patterson, John L. Hennessy, Computer Organization and Design\n\n본 Posting은 다음 교제를 기반으로 챕터 별로 정리 한 내용입니다. 아래부터는 편의를 위해 \"-다\"로 표현합니다.\n\n---\n\n여기서는 기본이 되는 **사칙연산**과 **소수점**의 표현방식(**Floating Point**)을 다룹니다.\n\n## Overflow\n\n시작하기에 앞서서 Overflow라는 개념을 알고가야한다. Overflow란 특정 변수의 표현범위를 벗어나는 경우에 발생하게 되는 에러 상황을 의미한다. 일반적인 사람의 생각에는 수의 범위가 있는 것은 이상할 수 있지만, 컴퓨터에서는 이것이 매우 당연하다. 무한대를 표현하는 것은 사실상 컴퓨터로는 불가능하다. 대신 매우 큰 수를 통해서 표현하는 것이 컴퓨터에게는 일반적이다. 예를 들어 우리가 빈번하게 사용하는 integer 변수 type은 그 값의 범위가 정해져있다. 이는 대게 하나의 변수를 표현하기 위해서 4bytes를 사용하는데 이는 32bits이기 때문에, 최대 $2^{32}$까지가 표현의 범위가 되는 것이다. 여기에 음수를 표현하게 되는 경우에는 범위가 $-2^{31}$ ~ $2^{31}$로 제한된다. 따라서, 이렇게 범위를 벗어나는 경우에 대해서는 programming language 마다 처리가 달라지지만, 대게 에러를 발생시키는 것이 일반적이다. (python에서는 알아서 범위를 추가한다.)\n\n## 덧셈 / 뺄셈\n덧셈은 각 자릿수의 합과 이전 자릿수에서 올림된 수(Carry)의 합이라고 다시 해석할 수 있다. \n이진수에서는 결국 올림된 수와 두 수가 만들어 낼 수 있는 경우의 수는 00 ~ 11이다.\n\n| A    | B    | Carry | Result |\n| :--- | :--- | :---- | :----- |\n| 0    | 0    | 0     | 00     |\n| 0    | 0    | 1     | 01     |\n| 0    | 1    | 0     | 01     |\n| 0    | 1    | 1     | 10     |\n| 1    | 0    | 0     | 01     |\n| 1    | 0    | 1     | 10     |\n| 1    | 1    | 0     | 10     |\n| 1    | 1    | 1     | 11     |\n\n이를 수행하기 위해서 우리는 XOR 2개와 AND 2개 그리고 OR 1개로 만들 수 있다.(C'와 S가 결과값이다.)\n\n| A    | B    | Carry(C) | A XOR B(D) | A AND B(E) | C AND D(F) | E OR F(C') | C XOR D(S) |\n| :--- | :--- | :------- | :--------- | :--------- | :--------- | :--------- | :--------- |\n| 0    | 0    | 0        | 0          | 0          | 0          | 0          | 0          |\n| 0    | 0    | 1        | 0          | 0          | 0          | 0          | 1          |\n| 0    | 1    | 0        | 1          | 0          | 0          | 0          | 1          |\n| 0    | 1    | 1        | 1          | 0          | 1          | 1          | 0          |\n| 1    | 0    | 0        | 1          | 0          | 0          | 0          | 1          |\n| 1    | 0    | 1        | 1          | 0          | 1          | 1          | 0          |\n| 1    | 1    | 0        | 0          | 1          | 0          | 1          | 0          |\n| 1    | 1    | 1        | 0          | 1          | 0          | 1          | 1          |\n\n![fullAdder](https://upload.wikimedia.org/wikipedia/commons/5/57/Fulladder.gif)\n\n### 음수\n\n음수는 기본적으로 2의 보수라는 방식을 활용한다. 만약 특정 수를 음수로 변환하고 싶다면 전체 수를 반전 시킨 후 `+1`을 수행하는 방식이다. 이를 통해서, 우리는 쉽게 음수를 생성할 수 있다. 그리고 놀랍게도 특정 수를 음수로 변환하고 덧셈을 하게 되면, 이것이 바로 뺄셈이 된다.\n\n## 곱셈   \n먼저 이진수의 곱셈은 아래와 같이 십진수에서의 곱셈 연산과 방법은 같다.   \n\n곱해지는 수(multiplicand), 곱하는 수(multipler), 곱해진 결과(product)이다.\n\n![곱셈 예제](/images/multiplication.png)\n\n하지만, 여기서 하나의 특징을 발견할 수 있다. 각 자릿수의 결과값은 곱하는 수에 의해서 결정된다는 점이다. 곱하는 수가 1이면, 곱해지는 수의 해당 자릿수가 결과값이 되고, 0이면 무조건 0이라는 결과가 나온다는 것을 알 수 있다. 따라서, 다음과 같은 알고리즘에 따라서 연산이 수행된다는 것을 알 수 있다.\n\n![곱셈 알고리즘](/images/multiplication-flow.png)\n\n만약, 음수의 곱셈의 경우에는 간단하게 해당 값을 양수로 변환하고, 연산을 수행한 뒤에 다시 음수로 변환하는 방식을 수행한다.\n\n## 나눗셈\n나눗셈은 역시 동일하다.   \n\n나누어지는 수(Dividend), 나누는 수(Divisor), 몫(Quotient), 나머지(Remainder) 이다.\n\n![나눗셈 예제](/images/division.png)\n\n이때는 역으로 나누는 수를 오른쪽으로 32번 shift하여 매우 큰 수로 만들고, 나머지를 나누어지는 수로 초기화하여 차근차근 빼보면서 양수이면 빼고, 음수이면 되돌리기를 반복하면서 몫과 나머지를 계산할 수 있다.\n\n\n![나눗셈 알고리즘](/images/division-flow.png)\n\n## 실수 연산\n\n위에서는 여태까지 정수의 연산을 다루었지만, 소수점을 포함하는 실수 연산을 수행할 때에는 달라지는 사항이 꽤나있다.    \n\n먼저, 실수를 표기하기 위한 방법을 먼저 보자.\n\n$$31231.4_{(10)} = 3.12314_{(10)} \\times 10^{4_{(10)}}$$   \n\n$$100101.1_{(2)}= 1.001011_{(2)} \\times 2^{101_{(2)}} $$   \n\n이를 일반적으로 normalization이라고 하며, 이진수 체계에서는 다음과 같은 형태를 갖게 된다.\n\n$$\\text{1.xxxxx} \\times 2^{yyyyy}$$\n\n따라서, 대게 실수를 표현할 때에는 x부분(fraction)과 y부분(exponent) 그리고 부호를 표현(sign)하는 부분으로 나누어서 저장한다. 이 또한, 4byte를 통해서 표현할 경우에는 x부분에 8bits, y부분에 23bits 그리고 부호에 1bit를 할당한다.\n\n따라서, 일반적으로 표현하면 다음과 같이 쓰는 것이 일반적인 실수의 표현이다.\n\n$$(-1)^s \\times(1+\\text{Fraction})\\times2^{(\\text{Exponent})}$$\n\n단, 모두 0이면 0으로 친다. floating point 연산은 후에 더 시간이 있으면 자세히 다루겠다.\n","slug":"architecture-arithmetic","title":"3. Arithmetic","category":"Computer Architecture","tags":["ComputerOrganizationAndDesign","Arithmetic"],"date":"2022년 4월 27일 20:50","thumbnailSrc":"https://euidong.github.io/images/default.jpg"},"relatedPosts":[]},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"architecture-arithmetic"},"buildId":"j9-TRV61bWV6p5UFVt3v4","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>